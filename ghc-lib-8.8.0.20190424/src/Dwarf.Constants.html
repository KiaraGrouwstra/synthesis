<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Constants describing the DWARF format. Most of this simply</span><span>
</span><a name="line-2"></a><span class="hs-comment">-- mirrors /usr/include/dwarf.h.</span><span>
</span><a name="line-3"></a><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Dwarf.Constants</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-5"></a><span>
</span><a name="line-6"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GhcPrelude</span><span>
</span><a name="line-7"></a><span>
</span><a name="line-8"></a><span class="hs-keyword">import</span><span> </span><a href="AsmUtils.html"><span class="hs-identifier">AsmUtils</span></a><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">FastString</span><span>
</span><a name="line-10"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Platform</span><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Outputable</span><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span> </span><a href="Reg.html"><span class="hs-identifier">Reg</span></a><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><a href="X86.Regs.html"><span class="hs-identifier">X86.Regs</span></a><span>
</span><a name="line-15"></a><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Word</span><span>
</span><a name="line-17"></a><span>
</span><a name="line-18"></a><span class="hs-comment">-- | Language ID used for Haskell.</span><span>
</span><a name="line-19"></a><span class="hs-identifier">dW_LANG_Haskell</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-20"></a><a name="dW_LANG_Haskell"><a href="Dwarf.Constants.html#dW_LANG_Haskell"><span class="hs-identifier">dW_LANG_Haskell</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x18</span><span>
</span><a name="line-21"></a><span>  </span><span class="hs-comment">-- Thanks to Nathan Howell for getting us our very own language ID!</span><span>
</span><a name="line-22"></a><span>
</span><a name="line-23"></a><span class="hs-comment">-- * Dwarf tags</span><span>
</span><a name="line-24"></a><span class="hs-identifier">dW_TAG_compile_unit</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_subroutine_type</span><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>  </span><span class="hs-identifier">dW_TAG_file_type</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_subprogram</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_lexical_block</span><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>  </span><span class="hs-identifier">dW_TAG_base_type</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_structure_type</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_pointer_type</span><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>  </span><span class="hs-identifier">dW_TAG_array_type</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_subrange_type</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_typedef</span><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>  </span><span class="hs-identifier">dW_TAG_variable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_arg_variable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_TAG_auto_variable</span><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>  </span><span class="hs-identifier">dW_TAG_ghc_src_note</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-30"></a><a name="dW_TAG_array_type"><a href="Dwarf.Constants.html#dW_TAG_array_type"><span class="hs-identifier">dW_TAG_array_type</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-31"></a><a name="dW_TAG_lexical_block"><a href="Dwarf.Constants.html#dW_TAG_lexical_block"><span class="hs-identifier">dW_TAG_lexical_block</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">11</span><span>
</span><a name="line-32"></a><a name="dW_TAG_pointer_type"><a href="Dwarf.Constants.html#dW_TAG_pointer_type"><span class="hs-identifier">dW_TAG_pointer_type</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">15</span><span>
</span><a name="line-33"></a><a name="dW_TAG_compile_unit"><a href="Dwarf.Constants.html#dW_TAG_compile_unit"><span class="hs-identifier">dW_TAG_compile_unit</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-34"></a><a name="dW_TAG_structure_type"><a href="Dwarf.Constants.html#dW_TAG_structure_type"><span class="hs-identifier">dW_TAG_structure_type</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">19</span><span>
</span><a name="line-35"></a><a name="dW_TAG_typedef"><a href="Dwarf.Constants.html#dW_TAG_typedef"><span class="hs-identifier">dW_TAG_typedef</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">22</span><span>
</span><a name="line-36"></a><a name="dW_TAG_subroutine_type"><a href="Dwarf.Constants.html#dW_TAG_subroutine_type"><span class="hs-identifier">dW_TAG_subroutine_type</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">32</span><span>
</span><a name="line-37"></a><a name="dW_TAG_subrange_type"><a href="Dwarf.Constants.html#dW_TAG_subrange_type"><span class="hs-identifier">dW_TAG_subrange_type</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">33</span><span>
</span><a name="line-38"></a><a name="dW_TAG_base_type"><a href="Dwarf.Constants.html#dW_TAG_base_type"><span class="hs-identifier">dW_TAG_base_type</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">36</span><span>
</span><a name="line-39"></a><a name="dW_TAG_file_type"><a href="Dwarf.Constants.html#dW_TAG_file_type"><span class="hs-identifier">dW_TAG_file_type</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">41</span><span>
</span><a name="line-40"></a><a name="dW_TAG_subprogram"><a href="Dwarf.Constants.html#dW_TAG_subprogram"><span class="hs-identifier">dW_TAG_subprogram</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">46</span><span>
</span><a name="line-41"></a><a name="dW_TAG_variable"><a href="Dwarf.Constants.html#dW_TAG_variable"><span class="hs-identifier">dW_TAG_variable</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">52</span><span>
</span><a name="line-42"></a><a name="dW_TAG_auto_variable"><a href="Dwarf.Constants.html#dW_TAG_auto_variable"><span class="hs-identifier">dW_TAG_auto_variable</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">256</span><span>
</span><a name="line-43"></a><a name="dW_TAG_arg_variable"><a href="Dwarf.Constants.html#dW_TAG_arg_variable"><span class="hs-identifier">dW_TAG_arg_variable</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">257</span><span>
</span><a name="line-44"></a><span>
</span><a name="line-45"></a><a name="dW_TAG_ghc_src_note"><a href="Dwarf.Constants.html#dW_TAG_ghc_src_note"><span class="hs-identifier">dW_TAG_ghc_src_note</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x5b00</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span class="hs-comment">-- * Dwarf attributes</span><span>
</span><a name="line-48"></a><span class="hs-identifier">dW_AT_name</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_stmt_list</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_low_pc</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_high_pc</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_language</span><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>  </span><span class="hs-identifier">dW_AT_comp_dir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_producer</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_external</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_frame_base</span><span class="hs-special">,</span><span>
</span><a name="line-50"></a><span>  </span><span class="hs-identifier">dW_AT_use_UTF8</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_MIPS_linkage_name</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-51"></a><a name="dW_AT_name"><a href="Dwarf.Constants.html#dW_AT_name"><span class="hs-identifier">dW_AT_name</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x03</span><span>
</span><a name="line-52"></a><a name="dW_AT_stmt_list"><a href="Dwarf.Constants.html#dW_AT_stmt_list"><span class="hs-identifier">dW_AT_stmt_list</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x10</span><span>
</span><a name="line-53"></a><a name="dW_AT_low_pc"><a href="Dwarf.Constants.html#dW_AT_low_pc"><span class="hs-identifier">dW_AT_low_pc</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x11</span><span>
</span><a name="line-54"></a><a name="dW_AT_high_pc"><a href="Dwarf.Constants.html#dW_AT_high_pc"><span class="hs-identifier">dW_AT_high_pc</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x12</span><span>
</span><a name="line-55"></a><a name="dW_AT_language"><a href="Dwarf.Constants.html#dW_AT_language"><span class="hs-identifier">dW_AT_language</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x13</span><span>
</span><a name="line-56"></a><a name="dW_AT_comp_dir"><a href="Dwarf.Constants.html#dW_AT_comp_dir"><span class="hs-identifier">dW_AT_comp_dir</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x1b</span><span>
</span><a name="line-57"></a><a name="dW_AT_producer"><a href="Dwarf.Constants.html#dW_AT_producer"><span class="hs-identifier">dW_AT_producer</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x25</span><span>
</span><a name="line-58"></a><a name="dW_AT_external"><a href="Dwarf.Constants.html#dW_AT_external"><span class="hs-identifier">dW_AT_external</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x3f</span><span>
</span><a name="line-59"></a><a name="dW_AT_frame_base"><a href="Dwarf.Constants.html#dW_AT_frame_base"><span class="hs-identifier">dW_AT_frame_base</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x40</span><span>
</span><a name="line-60"></a><a name="dW_AT_use_UTF8"><a href="Dwarf.Constants.html#dW_AT_use_UTF8"><span class="hs-identifier">dW_AT_use_UTF8</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x53</span><span>
</span><a name="line-61"></a><a name="dW_AT_MIPS_linkage_name"><a href="Dwarf.Constants.html#dW_AT_MIPS_linkage_name"><span class="hs-identifier">dW_AT_MIPS_linkage_name</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2007</span><span>
</span><a name="line-62"></a><span>
</span><a name="line-63"></a><span class="hs-comment">-- * Custom DWARF attributes</span><span>
</span><a name="line-64"></a><span class="hs-comment">-- Chosen a more or less random section of the vendor-extensible region</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span class="hs-comment">-- ** Describing C-- blocks</span><span>
</span><a name="line-67"></a><span class="hs-comment">-- These appear in DW_TAG_lexical_scope DIEs corresponding to C-- blocks</span><span>
</span><a name="line-68"></a><span class="hs-identifier">dW_AT_ghc_tick_parent</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-69"></a><a name="dW_AT_ghc_tick_parent"><a href="Dwarf.Constants.html#dW_AT_ghc_tick_parent"><span class="hs-identifier">dW_AT_ghc_tick_parent</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b20</span><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-comment">-- ** Describing source notes</span><span>
</span><a name="line-72"></a><span class="hs-comment">-- These appear in DW_TAG_ghc_src_note DIEs</span><span>
</span><a name="line-73"></a><span class="hs-identifier">dW_AT_ghc_span_file</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_ghc_span_start_line</span><span class="hs-special">,</span><span>
</span><a name="line-74"></a><span>  </span><span class="hs-identifier">dW_AT_ghc_span_start_col</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_AT_ghc_span_end_line</span><span class="hs-special">,</span><span>
</span><a name="line-75"></a><span>  </span><span class="hs-identifier">dW_AT_ghc_span_end_col</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-76"></a><a name="dW_AT_ghc_span_file"><a href="Dwarf.Constants.html#dW_AT_ghc_span_file"><span class="hs-identifier">dW_AT_ghc_span_file</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b00</span><span>
</span><a name="line-77"></a><a name="dW_AT_ghc_span_start_line"><a href="Dwarf.Constants.html#dW_AT_ghc_span_start_line"><span class="hs-identifier">dW_AT_ghc_span_start_line</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b01</span><span>
</span><a name="line-78"></a><a name="dW_AT_ghc_span_start_col"><a href="Dwarf.Constants.html#dW_AT_ghc_span_start_col"><span class="hs-identifier">dW_AT_ghc_span_start_col</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b02</span><span>
</span><a name="line-79"></a><a name="dW_AT_ghc_span_end_line"><a href="Dwarf.Constants.html#dW_AT_ghc_span_end_line"><span class="hs-identifier">dW_AT_ghc_span_end_line</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b03</span><span>
</span><a name="line-80"></a><a name="dW_AT_ghc_span_end_col"><a href="Dwarf.Constants.html#dW_AT_ghc_span_end_col"><span class="hs-identifier">dW_AT_ghc_span_end_col</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x2b04</span><span>
</span><a name="line-81"></a><span>
</span><a name="line-82"></a><span>
</span><a name="line-83"></a><span class="hs-comment">-- * Abbrev declarations</span><span>
</span><a name="line-84"></a><span class="hs-identifier">dW_CHILDREN_no</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CHILDREN_yes</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-85"></a><a name="dW_CHILDREN_no"><a href="Dwarf.Constants.html#dW_CHILDREN_no"><span class="hs-identifier">dW_CHILDREN_no</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-86"></a><a name="dW_CHILDREN_yes"><a href="Dwarf.Constants.html#dW_CHILDREN_yes"><span class="hs-identifier">dW_CHILDREN_yes</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-identifier">dW_FORM_addr</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_data2</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_data4</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_string</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_flag</span><span class="hs-special">,</span><span>
</span><a name="line-89"></a><span>  </span><span class="hs-identifier">dW_FORM_block1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_ref4</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_ref_addr</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_FORM_flag_present</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-90"></a><a name="dW_FORM_addr"><a href="Dwarf.Constants.html#dW_FORM_addr"><span class="hs-identifier">dW_FORM_addr</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x01</span><span>
</span><a name="line-91"></a><a name="dW_FORM_data2"><a href="Dwarf.Constants.html#dW_FORM_data2"><span class="hs-identifier">dW_FORM_data2</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x05</span><span>
</span><a name="line-92"></a><a name="dW_FORM_data4"><a href="Dwarf.Constants.html#dW_FORM_data4"><span class="hs-identifier">dW_FORM_data4</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x06</span><span>
</span><a name="line-93"></a><a name="dW_FORM_string"><a href="Dwarf.Constants.html#dW_FORM_string"><span class="hs-identifier">dW_FORM_string</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x08</span><span>
</span><a name="line-94"></a><a name="dW_FORM_flag"><a href="Dwarf.Constants.html#dW_FORM_flag"><span class="hs-identifier">dW_FORM_flag</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x0c</span><span>
</span><a name="line-95"></a><a name="dW_FORM_block1"><a href="Dwarf.Constants.html#dW_FORM_block1"><span class="hs-identifier">dW_FORM_block1</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x0a</span><span>
</span><a name="line-96"></a><a name="dW_FORM_ref_addr"><a href="Dwarf.Constants.html#dW_FORM_ref_addr"><span class="hs-identifier">dW_FORM_ref_addr</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x10</span><span>
</span><a name="line-97"></a><a name="dW_FORM_ref4"><a href="Dwarf.Constants.html#dW_FORM_ref4"><span class="hs-identifier">dW_FORM_ref4</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x13</span><span>
</span><a name="line-98"></a><a name="dW_FORM_flag_present"><a href="Dwarf.Constants.html#dW_FORM_flag_present"><span class="hs-identifier">dW_FORM_flag_present</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x19</span><span>
</span><a name="line-99"></a><span>
</span><a name="line-100"></a><span class="hs-comment">-- * Dwarf native types</span><span>
</span><a name="line-101"></a><span class="hs-identifier">dW_ATE_address</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_ATE_boolean</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_ATE_float</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_ATE_signed</span><span class="hs-special">,</span><span>
</span><a name="line-102"></a><span>  </span><span class="hs-identifier">dW_ATE_signed_char</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_ATE_unsigned</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_ATE_unsigned_char</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-103"></a><a name="dW_ATE_address"><a href="Dwarf.Constants.html#dW_ATE_address"><span class="hs-identifier">dW_ATE_address</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-104"></a><a name="dW_ATE_boolean"><a href="Dwarf.Constants.html#dW_ATE_boolean"><span class="hs-identifier">dW_ATE_boolean</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-105"></a><a name="dW_ATE_float"><a href="Dwarf.Constants.html#dW_ATE_float"><span class="hs-identifier">dW_ATE_float</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-106"></a><a name="dW_ATE_signed"><a href="Dwarf.Constants.html#dW_ATE_signed"><span class="hs-identifier">dW_ATE_signed</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">5</span><span>
</span><a name="line-107"></a><a name="dW_ATE_signed_char"><a href="Dwarf.Constants.html#dW_ATE_signed_char"><span class="hs-identifier">dW_ATE_signed_char</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">6</span><span>
</span><a name="line-108"></a><a name="dW_ATE_unsigned"><a href="Dwarf.Constants.html#dW_ATE_unsigned"><span class="hs-identifier">dW_ATE_unsigned</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">7</span><span>
</span><a name="line-109"></a><a name="dW_ATE_unsigned_char"><a href="Dwarf.Constants.html#dW_ATE_unsigned_char"><span class="hs-identifier">dW_ATE_unsigned_char</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-comment">-- * Call frame information</span><span>
</span><a name="line-112"></a><span class="hs-identifier">dW_CFA_set_loc</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_undefined</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_same_value</span><span class="hs-special">,</span><span>
</span><a name="line-113"></a><span>  </span><span class="hs-identifier">dW_CFA_def_cfa</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_def_cfa_offset</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_def_cfa_expression</span><span class="hs-special">,</span><span>
</span><a name="line-114"></a><span>  </span><span class="hs-identifier">dW_CFA_expression</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_offset_extended_sf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_def_cfa_offset_sf</span><span class="hs-special">,</span><span>
</span><a name="line-115"></a><span>  </span><span class="hs-identifier">dW_CFA_def_cfa_sf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_val_offset</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_CFA_val_expression</span><span class="hs-special">,</span><span>
</span><a name="line-116"></a><span>  </span><span class="hs-identifier">dW_CFA_offset</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-117"></a><a name="dW_CFA_set_loc"><a href="Dwarf.Constants.html#dW_CFA_set_loc"><span class="hs-identifier">dW_CFA_set_loc</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x01</span><span>
</span><a name="line-118"></a><a name="dW_CFA_undefined"><a href="Dwarf.Constants.html#dW_CFA_undefined"><span class="hs-identifier">dW_CFA_undefined</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x07</span><span>
</span><a name="line-119"></a><a name="dW_CFA_same_value"><a href="Dwarf.Constants.html#dW_CFA_same_value"><span class="hs-identifier">dW_CFA_same_value</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x08</span><span>
</span><a name="line-120"></a><a name="dW_CFA_def_cfa"><a href="Dwarf.Constants.html#dW_CFA_def_cfa"><span class="hs-identifier">dW_CFA_def_cfa</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x0c</span><span>
</span><a name="line-121"></a><a name="dW_CFA_def_cfa_offset"><a href="Dwarf.Constants.html#dW_CFA_def_cfa_offset"><span class="hs-identifier">dW_CFA_def_cfa_offset</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x0e</span><span>
</span><a name="line-122"></a><a name="dW_CFA_def_cfa_expression"><a href="Dwarf.Constants.html#dW_CFA_def_cfa_expression"><span class="hs-identifier">dW_CFA_def_cfa_expression</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x0f</span><span>
</span><a name="line-123"></a><a name="dW_CFA_expression"><a href="Dwarf.Constants.html#dW_CFA_expression"><span class="hs-identifier">dW_CFA_expression</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x10</span><span>
</span><a name="line-124"></a><a name="dW_CFA_offset_extended_sf"><a href="Dwarf.Constants.html#dW_CFA_offset_extended_sf"><span class="hs-identifier">dW_CFA_offset_extended_sf</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x11</span><span>
</span><a name="line-125"></a><a name="dW_CFA_def_cfa_sf"><a href="Dwarf.Constants.html#dW_CFA_def_cfa_sf"><span class="hs-identifier">dW_CFA_def_cfa_sf</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x12</span><span>
</span><a name="line-126"></a><a name="dW_CFA_def_cfa_offset_sf"><a href="Dwarf.Constants.html#dW_CFA_def_cfa_offset_sf"><span class="hs-identifier">dW_CFA_def_cfa_offset_sf</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x13</span><span>
</span><a name="line-127"></a><a name="dW_CFA_val_offset"><a href="Dwarf.Constants.html#dW_CFA_val_offset"><span class="hs-identifier">dW_CFA_val_offset</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x14</span><span>
</span><a name="line-128"></a><a name="dW_CFA_val_expression"><a href="Dwarf.Constants.html#dW_CFA_val_expression"><span class="hs-identifier">dW_CFA_val_expression</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x16</span><span>
</span><a name="line-129"></a><a name="dW_CFA_offset"><a href="Dwarf.Constants.html#dW_CFA_offset"><span class="hs-identifier">dW_CFA_offset</span></a></a><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x80</span><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-comment">-- * Operations</span><span>
</span><a name="line-132"></a><span class="hs-identifier">dW_OP_addr</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_deref</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_consts</span><span class="hs-special">,</span><span>
</span><a name="line-133"></a><span>  </span><span class="hs-identifier">dW_OP_minus</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_mul</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_plus</span><span class="hs-special">,</span><span>
</span><a name="line-134"></a><span>  </span><span class="hs-identifier">dW_OP_lit0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_breg0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dW_OP_call_frame_cfa</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-135"></a><a name="dW_OP_addr"><a href="Dwarf.Constants.html#dW_OP_addr"><span class="hs-identifier">dW_OP_addr</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x03</span><span>
</span><a name="line-136"></a><a name="dW_OP_deref"><a href="Dwarf.Constants.html#dW_OP_deref"><span class="hs-identifier">dW_OP_deref</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x06</span><span>
</span><a name="line-137"></a><a name="dW_OP_consts"><a href="Dwarf.Constants.html#dW_OP_consts"><span class="hs-identifier">dW_OP_consts</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x11</span><span>
</span><a name="line-138"></a><a name="dW_OP_minus"><a href="Dwarf.Constants.html#dW_OP_minus"><span class="hs-identifier">dW_OP_minus</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x1c</span><span>
</span><a name="line-139"></a><a name="dW_OP_mul"><a href="Dwarf.Constants.html#dW_OP_mul"><span class="hs-identifier">dW_OP_mul</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x1e</span><span>
</span><a name="line-140"></a><a name="dW_OP_plus"><a href="Dwarf.Constants.html#dW_OP_plus"><span class="hs-identifier">dW_OP_plus</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x22</span><span>
</span><a name="line-141"></a><a name="dW_OP_lit0"><a href="Dwarf.Constants.html#dW_OP_lit0"><span class="hs-identifier">dW_OP_lit0</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x30</span><span>
</span><a name="line-142"></a><a name="dW_OP_breg0"><a href="Dwarf.Constants.html#dW_OP_breg0"><span class="hs-identifier">dW_OP_breg0</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x70</span><span>
</span><a name="line-143"></a><a name="dW_OP_call_frame_cfa"><a href="Dwarf.Constants.html#dW_OP_call_frame_cfa"><span class="hs-identifier">dW_OP_call_frame_cfa</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x9c</span><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-comment">-- * Dwarf section declarations</span><span>
</span><a name="line-146"></a><span class="hs-identifier">dwarfInfoSection</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfAbbrevSection</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfLineSection</span><span class="hs-special">,</span><span>
</span><a name="line-147"></a><span>  </span><span class="hs-identifier">dwarfFrameSection</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfGhcSection</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfARangesSection</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-148"></a><a name="dwarfInfoSection"><a href="Dwarf.Constants.html#dwarfInfoSection"><span class="hs-identifier">dwarfInfoSection</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;info&quot;</span><span>
</span><a name="line-149"></a><a name="dwarfAbbrevSection"><a href="Dwarf.Constants.html#dwarfAbbrevSection"><span class="hs-identifier">dwarfAbbrevSection</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;abbrev&quot;</span><span>
</span><a name="line-150"></a><a name="dwarfLineSection"><a href="Dwarf.Constants.html#dwarfLineSection"><span class="hs-identifier">dwarfLineSection</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;line&quot;</span><span>
</span><a name="line-151"></a><a name="dwarfFrameSection"><a href="Dwarf.Constants.html#dwarfFrameSection"><span class="hs-identifier">dwarfFrameSection</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;frame&quot;</span><span>
</span><a name="line-152"></a><a name="dwarfGhcSection"><a href="Dwarf.Constants.html#dwarfGhcSection"><span class="hs-identifier">dwarfGhcSection</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;ghc&quot;</span><span>
</span><a name="line-153"></a><a name="dwarfARangesSection"><a href="Dwarf.Constants.html#dwarfARangesSection"><span class="hs-identifier">dwarfARangesSection</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier hs-var">dwarfSection</span></a><span> </span><span class="hs-string">&quot;aranges&quot;</span><span>
</span><a name="line-154"></a><span>
</span><a name="line-155"></a><span class="hs-identifier">dwarfSection</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-156"></a><a name="dwarfSection"><a href="Dwarf.Constants.html#dwarfSection"><span class="hs-identifier">dwarfSection</span></a></a><span> </span><a name="local-6989586621684919135"><a href="#local-6989586621684919135"><span class="hs-identifier">name</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684919136"><a href="#local-6989586621684919136"><span class="hs-identifier">plat</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-157"></a><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684919136"><span class="hs-identifier hs-var">plat</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-158"></a><span>    </span><a name="local-6989586621684919137"><a href="#local-6989586621684919137"><span class="hs-identifier">os</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">osElfTarget</span><span> </span><a href="#local-6989586621684919137"><span class="hs-identifier hs-var">os</span></a><span>
</span><a name="line-159"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.section .debug_&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><a href="#local-6989586621684919135"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,\&quot;\&quot;,&quot;</span><span>
</span><a name="line-160"></a><span>          </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="AsmUtils.html#sectionType"><span class="hs-identifier hs-var">sectionType</span></a><span> </span><span class="hs-string">&quot;progbits&quot;</span><span>
</span><a name="line-161"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">osMachOTarget</span><span> </span><a href="#local-6989586621684919137"><span class="hs-identifier hs-var">os</span></a><span>
</span><a name="line-162"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.section __DWARF,__debug_&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><a href="#local-6989586621684919135"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,regular,debug&quot;</span><span>
</span><a name="line-163"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-164"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.section .debug_&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><a href="#local-6989586621684919135"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,\&quot;dr\&quot;&quot;</span><span>
</span><a name="line-165"></a><span>
</span><a name="line-166"></a><span class="hs-comment">-- * Dwarf section labels</span><span>
</span><a name="line-167"></a><span class="hs-identifier">dwarfInfoLabel</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfAbbrevLabel</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfLineLabel</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dwarfFrameLabel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span>
</span><a name="line-168"></a><a name="dwarfInfoLabel"><a href="Dwarf.Constants.html#dwarfInfoLabel"><span class="hs-identifier">dwarfInfoLabel</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;.Lsection_info&quot;</span><span>
</span><a name="line-169"></a><a name="dwarfAbbrevLabel"><a href="Dwarf.Constants.html#dwarfAbbrevLabel"><span class="hs-identifier">dwarfAbbrevLabel</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;.Lsection_abbrev&quot;</span><span>
</span><a name="line-170"></a><a name="dwarfLineLabel"><a href="Dwarf.Constants.html#dwarfLineLabel"><span class="hs-identifier">dwarfLineLabel</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;.Lsection_line&quot;</span><span>
</span><a name="line-171"></a><a name="dwarfFrameLabel"><a href="Dwarf.Constants.html#dwarfFrameLabel"><span class="hs-identifier">dwarfFrameLabel</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;.Lsection_frame&quot;</span><span>
</span><a name="line-172"></a><span>
</span><a name="line-173"></a><span class="hs-comment">-- | Mapping of registers to DWARF register numbers</span><span>
</span><a name="line-174"></a><span class="hs-identifier">dwarfRegNo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Platform</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-175"></a><a name="dwarfRegNo"><a href="Dwarf.Constants.html#dwarfRegNo"><span class="hs-identifier">dwarfRegNo</span></a></a><span> </span><a name="local-6989586621684919138"><a href="#local-6989586621684919138"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621684919139"><a href="#local-6989586621684919139"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformArch</span><span> </span><a href="#local-6989586621684919138"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-176"></a><span>  </span><span class="hs-identifier hs-var">ArchX86</span><span>
</span><a name="line-177"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#eax"><span class="hs-identifier hs-var">eax</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-178"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#ecx"><span class="hs-identifier hs-var">ecx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">1</span><span>  </span><span class="hs-comment">-- yes, no typo</span><span>
</span><a name="line-179"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#edx"><span class="hs-identifier hs-var">edx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-180"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#ebx"><span class="hs-identifier hs-var">ebx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">3</span><span>
</span><a name="line-181"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#esp"><span class="hs-identifier hs-var">esp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-182"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#ebp"><span class="hs-identifier hs-var">ebp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">5</span><span>
</span><a name="line-183"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#esi"><span class="hs-identifier hs-var">esi</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">6</span><span>
</span><a name="line-184"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#edi"><span class="hs-identifier hs-var">edi</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">7</span><span>
</span><a name="line-185"></a><span>  </span><span class="hs-identifier hs-var">ArchX86_64</span><span>
</span><a name="line-186"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rax"><span class="hs-identifier hs-var">rax</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-187"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rdx"><span class="hs-identifier hs-var">rdx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-comment">-- this neither. The order GCC allocates registers in?</span><span>
</span><a name="line-188"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rcx"><span class="hs-identifier hs-var">rcx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-189"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rbx"><span class="hs-identifier hs-var">rbx</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">3</span><span>
</span><a name="line-190"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rsi"><span class="hs-identifier hs-var">rsi</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-191"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rdi"><span class="hs-identifier hs-var">rdi</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">5</span><span>
</span><a name="line-192"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rbp"><span class="hs-identifier hs-var">rbp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">6</span><span>
</span><a name="line-193"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#rsp"><span class="hs-identifier hs-var">rsp</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">7</span><span>
</span><a name="line-194"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r8"><span class="hs-identifier hs-var">r8</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">8</span><span>
</span><a name="line-195"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r9"><span class="hs-identifier hs-var">r9</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">9</span><span>
</span><a name="line-196"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r10"><span class="hs-identifier hs-var">r10</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">10</span><span>
</span><a name="line-197"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r11"><span class="hs-identifier hs-var">r11</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">11</span><span>
</span><a name="line-198"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r12"><span class="hs-identifier hs-var">r12</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">12</span><span>
</span><a name="line-199"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r13"><span class="hs-identifier hs-var">r13</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">13</span><span>
</span><a name="line-200"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r14"><span class="hs-identifier hs-var">r14</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">14</span><span>
</span><a name="line-201"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#r15"><span class="hs-identifier hs-var">r15</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">15</span><span>
</span><a name="line-202"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm0"><span class="hs-identifier hs-var">xmm0</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">17</span><span>
</span><a name="line-203"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm1"><span class="hs-identifier hs-var">xmm1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">18</span><span>
</span><a name="line-204"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm2"><span class="hs-identifier hs-var">xmm2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">19</span><span>
</span><a name="line-205"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm3"><span class="hs-identifier hs-var">xmm3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">20</span><span>
</span><a name="line-206"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm4"><span class="hs-identifier hs-var">xmm4</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">21</span><span>
</span><a name="line-207"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm5"><span class="hs-identifier hs-var">xmm5</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">22</span><span>
</span><a name="line-208"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm6"><span class="hs-identifier hs-var">xmm6</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">23</span><span>
</span><a name="line-209"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm7"><span class="hs-identifier hs-var">xmm7</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">24</span><span>
</span><a name="line-210"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm8"><span class="hs-identifier hs-var">xmm8</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">25</span><span>
</span><a name="line-211"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm9"><span class="hs-identifier hs-var">xmm9</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">26</span><span>
</span><a name="line-212"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm10"><span class="hs-identifier hs-var">xmm10</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">27</span><span>
</span><a name="line-213"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm11"><span class="hs-identifier hs-var">xmm11</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">28</span><span>
</span><a name="line-214"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm12"><span class="hs-identifier hs-var">xmm12</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">29</span><span>
</span><a name="line-215"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm13"><span class="hs-identifier hs-var">xmm13</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">30</span><span>
</span><a name="line-216"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm14"><span class="hs-identifier hs-var">xmm14</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">31</span><span>
</span><a name="line-217"></a><span>    </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684919139"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#xmm15"><span class="hs-identifier hs-var">xmm15</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">32</span><span>
</span><a name="line-218"></a><span>  </span><a name="local-6989586621684919140"><a href="#local-6989586621684919140"><span class="hs-identifier">_other</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-string">&quot;dwarfRegNo: Unsupported platform or unknown register!&quot;</span><span>
</span><a name="line-219"></a><span>
</span><a name="line-220"></a><span class="hs-comment">-- | Virtual register number to use for return address.</span><span>
</span><a name="line-221"></a><span class="hs-identifier">dwarfReturnRegNo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Platform</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-222"></a><a name="dwarfReturnRegNo"><a href="Dwarf.Constants.html#dwarfReturnRegNo"><span class="hs-identifier">dwarfReturnRegNo</span></a></a><span> </span><a name="local-6989586621684919141"><a href="#local-6989586621684919141"><span class="hs-identifier">p</span></a></a><span>
</span><a name="line-223"></a><span>  </span><span class="hs-comment">-- We &quot;overwrite&quot; IP with our pseudo register - that makes sense, as</span><span>
</span><a name="line-224"></a><span>  </span><span class="hs-comment">-- when using this mechanism gdb already knows the IP anyway. Clang</span><span>
</span><a name="line-225"></a><span>  </span><span class="hs-comment">-- does this too, so it must be safe.</span><span>
</span><a name="line-226"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformArch</span><span> </span><a href="#local-6989586621684919141"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-227"></a><span>    </span><span class="hs-identifier hs-var">ArchX86</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">8</span><span>  </span><span class="hs-comment">-- eip</span><span>
</span><a name="line-228"></a><span>    </span><span class="hs-identifier hs-var">ArchX86_64</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">16</span><span> </span><span class="hs-comment">-- rip</span><span>
</span><a name="line-229"></a><span>    </span><a name="local-6989586621684919142"><a href="#local-6989586621684919142"><span class="hs-identifier">_other</span></a></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-string">&quot;dwarfReturnRegNo: Unsupported platform!&quot;</span><span>
</span><a name="line-230"></a></pre></body></html>