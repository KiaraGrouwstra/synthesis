<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><a name="line-2"></a><span>
</span><a name="line-3"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-4"></a><span class="hs-comment">--</span><span>
</span><a name="line-5"></a><span class="hs-comment">-- Pretty-printing assembly language</span><span>
</span><a name="line-6"></a><span class="hs-comment">--</span><span>
</span><a name="line-7"></a><span class="hs-comment">-- (c) The University of Glasgow 1993-2005</span><span>
</span><a name="line-8"></a><span class="hs-comment">--</span><span>
</span><a name="line-9"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><a name="line-12"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">X86.Ppr</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-13"></a><span>        </span><a href="X86.Ppr.html#pprNatCmmDecl"><span class="hs-identifier hs-var">pprNatCmmDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-14"></a><span>        </span><a href="X86.Ppr.html#pprData"><span class="hs-identifier hs-var">pprData</span></a><span class="hs-special">,</span><span>
</span><a name="line-15"></a><span>        </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span class="hs-special">,</span><span>
</span><a name="line-16"></a><span>        </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span class="hs-special">,</span><span>
</span><a name="line-17"></a><span>        </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span class="hs-special">,</span><span>
</span><a name="line-18"></a><span>        </span><a href="X86.Ppr.html#pprDataItem"><span class="hs-identifier hs-var">pprDataItem</span></a><span class="hs-special">,</span><span>
</span><a name="line-19"></a><span class="hs-special">)</span><span>
</span><a name="line-20"></a><span>
</span><a name="line-21"></a><span class="hs-keyword">where</span><span>
</span><a name="line-22"></a><span>
</span><a name="line-23"></a><span class="hs-cpp">#include &quot;HsVersions.h&quot;
#include &quot;nativeGen/NCG.h&quot;
</span><span>
</span><a name="line-26"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GhcPrelude</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span class="hs-keyword">import</span><span> </span><a href="X86.Regs.html"><span class="hs-identifier">X86.Regs</span></a><span>
</span><a name="line-29"></a><span class="hs-keyword">import</span><span> </span><a href="X86.Instr.html"><span class="hs-identifier">X86.Instr</span></a><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span> </span><a href="X86.Cond.html"><span class="hs-identifier">X86.Cond</span></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><a href="Instruction.html"><span class="hs-identifier">Instruction</span></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span> </span><a href="Format.html"><span class="hs-identifier">Format</span></a><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span> </span><a href="Reg.html"><span class="hs-identifier">Reg</span></a><span>
</span><a name="line-34"></a><span class="hs-keyword">import</span><span> </span><a href="PprBase.html"><span class="hs-identifier">PprBase</span></a><span>
</span><a name="line-35"></a><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span> </span><a href="Hoopl.Collections.html"><span class="hs-identifier">Hoopl.Collections</span></a><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span> </span><a href="Hoopl.Label.html"><span class="hs-identifier">Hoopl.Label</span></a><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">BasicTypes</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Alignment</span><span class="hs-special">)</span><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span> </span><a href="Cmm.html"><span class="hs-identifier">Cmm</span></a><span>              </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#topInfoTable"><span class="hs-identifier hs-var">topInfoTable</span></a><span class="hs-special">)</span><span>
</span><a name="line-42"></a><span class="hs-keyword">import</span><span> </span><a href="BlockId.html"><span class="hs-identifier">BlockId</span></a><span>
</span><a name="line-43"></a><span class="hs-keyword">import</span><span> </span><a href="CLabel.html"><span class="hs-identifier">CLabel</span></a><span>
</span><a name="line-44"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Unique</span><span>           </span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-45"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Platform</span><span>
</span><a name="line-46"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">FastString</span><span>
</span><a name="line-47"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Outputable</span><span>
</span><a name="line-48"></a><span>
</span><a name="line-49"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Word</span><span>
</span><a name="line-50"></a><span>
</span><a name="line-51"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Bits</span><span>
</span><a name="line-52"></a><span>
</span><a name="line-53"></a><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><a name="line-54"></a><span class="hs-comment">-- Printing this stuff out</span><span>
</span><a name="line-55"></a><span class="hs-comment">--</span><span>
</span><a name="line-56"></a><span class="hs-comment">--</span><span>
</span><a name="line-57"></a><span class="hs-comment">-- Note [Subsections Via Symbols]</span><span>
</span><a name="line-58"></a><span class="hs-comment">--</span><span>
</span><a name="line-59"></a><span class="hs-comment">-- If we are using the .subsections_via_symbols directive</span><span>
</span><a name="line-60"></a><span class="hs-comment">-- (available on recent versions of Darwin),</span><span>
</span><a name="line-61"></a><span class="hs-comment">-- we have to make sure that there is some kind of reference</span><span>
</span><a name="line-62"></a><span class="hs-comment">-- from the entry code to a label on the _top_ of of the info table,</span><span>
</span><a name="line-63"></a><span class="hs-comment">-- so that the linker will not think it is unreferenced and dead-strip</span><span>
</span><a name="line-64"></a><span class="hs-comment">-- it. That's why the label is called a DeadStripPreventer (_dsp).</span><span>
</span><a name="line-65"></a><span class="hs-comment">--</span><span>
</span><a name="line-66"></a><span class="hs-comment">-- The LLVM code gen already creates `iTableSuf` symbols, where</span><span>
</span><a name="line-67"></a><span class="hs-comment">-- the X86 would generate the DeadStripPreventer (_dsp) symbol.</span><span>
</span><a name="line-68"></a><span class="hs-comment">-- Therefore all that is left for llvm code gen, is to ensure</span><span>
</span><a name="line-69"></a><span class="hs-comment">-- that all the `iTableSuf` symbols are marked as used.</span><span>
</span><a name="line-70"></a><span class="hs-comment">-- As of this writing the documentation regarding the</span><span>
</span><a name="line-71"></a><span class="hs-comment">-- .subsections_via_symbols and -dead_strip can be found at</span><span>
</span><a name="line-72"></a><span class="hs-comment">-- &lt;https://developer.apple.com/library/mac/documentation/DeveloperTools/Reference/Assembler/040-Assembler_Directives/asm_directives.html#//apple_ref/doc/uid/TP30000823-TPXREF101&gt;</span><span>
</span><a name="line-73"></a><span>
</span><a name="line-74"></a><span class="hs-identifier">pprProcAlignment</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-75"></a><a name="pprProcAlignment"><a href="X86.Ppr.html#pprProcAlignment"><span class="hs-identifier">pprProcAlignment</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithDynFlags</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440636"><a href="#local-6989586621684440636"><span class="hs-identifier">dflags</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-76"></a><span>  </span><span class="hs-special">(</span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-identifier hs-var">empty</span><span> </span><a href="X86.Ppr.html#pprAlign"><span class="hs-identifier hs-var">pprAlign</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">cmmProcAlignment</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621684440636"><span class="hs-identifier hs-var">dflags</span></a><span class="hs-special">)</span><span>
</span><a name="line-77"></a><span>
</span><a name="line-78"></a><span class="hs-identifier">pprNatCmmDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Instruction.html#NatCmmDecl"><span class="hs-identifier hs-type">NatCmmDecl</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Alignment</span><span class="hs-special">,</span><span> </span><a href="Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a><span class="hs-special">)</span><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-79"></a><a name="pprNatCmmDecl"><a href="X86.Ppr.html#pprNatCmmDecl"><span class="hs-identifier">pprNatCmmDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#CmmData"><span class="hs-identifier hs-var">CmmData</span></a><span> </span><a name="local-6989586621684440637"><a href="#local-6989586621684440637"><span class="hs-identifier">section</span></a></a><span> </span><a name="local-6989586621684440638"><a href="#local-6989586621684440638"><span class="hs-identifier">dats</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-80"></a><span>  </span><a href="X86.Ppr.html#pprSectionAlign"><span class="hs-identifier hs-var">pprSectionAlign</span></a><span> </span><a href="#local-6989586621684440637"><span class="hs-identifier hs-var">section</span></a><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="X86.Ppr.html#pprDatas"><span class="hs-identifier hs-var">pprDatas</span></a><span> </span><a href="#local-6989586621684440638"><span class="hs-identifier hs-var">dats</span></a><span>
</span><a name="line-81"></a><span>
</span><a name="line-82"></a><span class="hs-identifier">pprNatCmmDecl</span><span> </span><a name="local-6989586621684440639"><a href="#local-6989586621684440639"><span class="hs-identifier">proc</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Cmm.html#CmmProc"><span class="hs-identifier hs-var">CmmProc</span></a><span> </span><a name="local-6989586621684440640"><a href="#local-6989586621684440640"><span class="hs-identifier">top_info</span></a></a><span> </span><a name="local-6989586621684440641"><a href="#local-6989586621684440641"><span class="hs-identifier">lbl</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#ListGraph"><span class="hs-identifier hs-var">ListGraph</span></a><span> </span><a name="local-6989586621684440642"><a href="#local-6989586621684440642"><span class="hs-identifier">blocks</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-83"></a><span>  </span><span class="hs-identifier hs-var">sdocWithDynFlags</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440643"><a href="#local-6989586621684440643"><span class="hs-identifier">dflags</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-84"></a><span>  </span><a href="X86.Ppr.html#pprProcAlignment"><span class="hs-identifier hs-var">pprProcAlignment</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-85"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="Instruction.html#topInfoTable"><span class="hs-identifier hs-var">topInfoTable</span></a><span> </span><a href="#local-6989586621684440639"><span class="hs-identifier hs-var">proc</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-86"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-87"></a><span>       </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440642"><span class="hs-identifier hs-var">blocks</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-88"></a><span>         </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- special case for split markers:</span><span>
</span><a name="line-89"></a><span>           </span><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier hs-var">pprLabel</span></a><span> </span><a href="#local-6989586621684440641"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-90"></a><span>         </span><a name="local-6989586621684440644"><a href="#local-6989586621684440644"><span class="hs-identifier">blocks</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- special case for code without info table:</span><span>
</span><a name="line-91"></a><span>           </span><a href="X86.Ppr.html#pprSectionAlign"><span class="hs-identifier hs-var">pprSectionAlign</span></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#Section"><span class="hs-identifier hs-var">Section</span></a><span> </span><a href="Cmm.html#Text"><span class="hs-identifier hs-var">Text</span></a><span> </span><a href="#local-6989586621684440641"><span class="hs-identifier hs-var">lbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-92"></a><span>           </span><a href="X86.Ppr.html#pprProcAlignment"><span class="hs-identifier hs-var">pprProcAlignment</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-93"></a><span>           </span><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier hs-var">pprLabel</span></a><span> </span><a href="#local-6989586621684440641"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">$$</span><span> </span><span class="hs-comment">-- blocks guaranteed not null, so label needed</span><span>
</span><a name="line-94"></a><span>           </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprBasicBlock"><span class="hs-identifier hs-var">pprBasicBlock</span></a><span> </span><a href="#local-6989586621684440640"><span class="hs-identifier hs-var">top_info</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440644"><span class="hs-identifier hs-var">blocks</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-95"></a><span>           </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">debugLevel</span><span> </span><a href="#local-6989586621684440643"><span class="hs-identifier hs-var">dflags</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-96"></a><span>            </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#mkAsmTempEndLabel"><span class="hs-identifier hs-var">mkAsmTempEndLabel</span></a><span> </span><a href="#local-6989586621684440641"><span class="hs-identifier hs-var">lbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-97"></a><span>           </span><a href="X86.Ppr.html#pprSizeDecl"><span class="hs-identifier hs-var">pprSizeDecl</span></a><span> </span><a href="#local-6989586621684440641"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-98"></a><span>
</span><a name="line-99"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#Statics"><span class="hs-identifier hs-var">Statics</span></a><span> </span><a name="local-6989586621684440645"><a href="#local-6989586621684440645"><span class="hs-identifier">info_lbl</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-100"></a><span>      </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440646"><a href="#local-6989586621684440646"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-101"></a><span>      </span><a href="X86.Ppr.html#pprSectionAlign"><span class="hs-identifier hs-var">pprSectionAlign</span></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#Section"><span class="hs-identifier hs-var">Section</span></a><span> </span><a href="Cmm.html#Text"><span class="hs-identifier hs-var">Text</span></a><span> </span><a href="#local-6989586621684440645"><span class="hs-identifier hs-var">info_lbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-102"></a><span>      </span><a href="X86.Ppr.html#pprProcAlignment"><span class="hs-identifier hs-var">pprProcAlignment</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-103"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">platformHasSubsectionsViaSymbols</span><span> </span><a href="#local-6989586621684440646"><span class="hs-identifier hs-var">platform</span></a><span>
</span><a name="line-104"></a><span>          </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#mkDeadStripPreventer"><span class="hs-identifier hs-var">mkDeadStripPreventer</span></a><span> </span><a href="#local-6989586621684440645"><span class="hs-identifier hs-var">info_lbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span>
</span><a name="line-105"></a><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-106"></a><span>      </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprBasicBlock"><span class="hs-identifier hs-var">pprBasicBlock</span></a><span> </span><a href="#local-6989586621684440640"><span class="hs-identifier hs-var">top_info</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440642"><span class="hs-identifier hs-var">blocks</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-107"></a><span>      </span><span class="hs-comment">-- above: Even the first block gets a label, because with branch-chain</span><span>
</span><a name="line-108"></a><span>      </span><span class="hs-comment">-- elimination, it might be the target of a goto.</span><span>
</span><a name="line-109"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">platformHasSubsectionsViaSymbols</span><span> </span><a href="#local-6989586621684440646"><span class="hs-identifier hs-var">platform</span></a><span>
</span><a name="line-110"></a><span>       </span><span class="hs-keyword">then</span><span> </span><span class="hs-comment">-- See Note [Subsections Via Symbols]</span><span>
</span><a name="line-111"></a><span>                </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long &quot;</span><span>
</span><a name="line-112"></a><span>            </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440645"><span class="hs-identifier hs-var">info_lbl</span></a><span>
</span><a name="line-113"></a><span>            </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'-'</span><span>
</span><a name="line-114"></a><span>            </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#mkDeadStripPreventer"><span class="hs-identifier hs-var">mkDeadStripPreventer</span></a><span> </span><a href="#local-6989586621684440645"><span class="hs-identifier hs-var">info_lbl</span></a><span class="hs-special">)</span><span>
</span><a name="line-115"></a><span>       </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-116"></a><span>      </span><a href="X86.Ppr.html#pprSizeDecl"><span class="hs-identifier hs-var">pprSizeDecl</span></a><span> </span><a href="#local-6989586621684440645"><span class="hs-identifier hs-var">info_lbl</span></a><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span class="hs-comment">-- | Output the ELF .size directive.</span><span>
</span><a name="line-119"></a><span class="hs-identifier">pprSizeDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-120"></a><a name="pprSizeDecl"><a href="X86.Ppr.html#pprSizeDecl"><span class="hs-identifier">pprSizeDecl</span></a></a><span> </span><a name="local-6989586621684440647"><a href="#local-6989586621684440647"><span class="hs-identifier">lbl</span></a></a><span>
</span><a name="line-121"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440648"><a href="#local-6989586621684440648"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-122"></a><span>   </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">osElfTarget</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440648"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span>
</span><a name="line-123"></a><span>   </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.size&quot;</span><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440647"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;, .-&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440647"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-124"></a><span>   </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-125"></a><span>
</span><a name="line-126"></a><span class="hs-identifier">pprBasicBlock</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Hoopl.Label.html#LabelMap"><span class="hs-identifier hs-type">LabelMap</span></a><span> </span><a href="Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Instruction.html#NatBasicBlock"><span class="hs-identifier hs-type">NatBasicBlock</span></a><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-127"></a><a name="pprBasicBlock"><a href="X86.Ppr.html#pprBasicBlock"><span class="hs-identifier">pprBasicBlock</span></a></a><span> </span><a name="local-6989586621684440649"><a href="#local-6989586621684440649"><span class="hs-identifier">info_env</span></a></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#BasicBlock"><span class="hs-identifier hs-var">BasicBlock</span></a><span> </span><a name="local-6989586621684440650"><a href="#local-6989586621684440650"><span class="hs-identifier">blockid</span></a></a><span> </span><a name="local-6989586621684440651"><a href="#local-6989586621684440651"><span class="hs-identifier">instrs</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-128"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithDynFlags</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440661"><a href="#local-6989586621684440661"><span class="hs-identifier">dflags</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-129"></a><span>    </span><a href="#local-6989586621684440653"><span class="hs-identifier hs-var">maybe_infotable</span></a><span> </span><a href="#local-6989586621684440661"><span class="hs-identifier hs-var">dflags</span></a><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-130"></a><span>    </span><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier hs-var">pprLabel</span></a><span> </span><a href="#local-6989586621684440652"><span class="hs-identifier hs-var">asmLbl</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-131"></a><span>    </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><a href="#local-6989586621684440651"><span class="hs-identifier hs-var">instrs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-132"></a><span>    </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">debugLevel</span><span> </span><a href="#local-6989586621684440661"><span class="hs-identifier hs-var">dflags</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-133"></a><span>     </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#mkAsmTempEndLabel"><span class="hs-identifier hs-var">mkAsmTempEndLabel</span></a><span> </span><a href="#local-6989586621684440652"><span class="hs-identifier hs-var">asmLbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span>
</span><a name="line-134"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-135"></a><span>    </span><a name="local-6989586621684440652"><a href="#local-6989586621684440652"><span class="hs-identifier">asmLbl</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BlockId.html#blockLbl"><span class="hs-identifier hs-var">blockLbl</span></a><span> </span><a href="#local-6989586621684440650"><span class="hs-identifier hs-var">blockid</span></a><span>
</span><a name="line-136"></a><span>    </span><a name="local-6989586621684440653"><a href="#local-6989586621684440653"><span class="hs-identifier">maybe_infotable</span></a></a><span> </span><a name="local-6989586621684440655"><a href="#local-6989586621684440655"><span class="hs-identifier">dflags</span></a></a><span> </span><a name="local-6989586621684440656"><a href="#local-6989586621684440656"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Hoopl.Collections.html#mapLookup"><span class="hs-identifier hs-var">mapLookup</span></a><span> </span><a href="#local-6989586621684440650"><span class="hs-identifier hs-var">blockid</span></a><span> </span><a href="#local-6989586621684440649"><span class="hs-identifier hs-var">info_env</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-137"></a><span>       </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440656"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-138"></a><span>       </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#Statics"><span class="hs-identifier hs-var">Statics</span></a><span> </span><a name="local-6989586621684440657"><a href="#local-6989586621684440657"><span class="hs-identifier">infoLbl</span></a></a><span> </span><a name="local-6989586621684440658"><a href="#local-6989586621684440658"><span class="hs-identifier">info</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-139"></a><span>           </span><a href="X86.Ppr.html#pprAlignForSection"><span class="hs-identifier hs-var">pprAlignForSection</span></a><span> </span><a href="Cmm.html#Text"><span class="hs-identifier hs-var">Text</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-140"></a><span>           </span><a href="#local-6989586621684440654"><span class="hs-identifier hs-var">infoTableLoc</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-141"></a><span>           </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="X86.Ppr.html#pprData"><span class="hs-identifier hs-var">pprData</span></a><span> </span><a href="#local-6989586621684440658"><span class="hs-identifier hs-var">info</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-142"></a><span>           </span><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier hs-var">pprLabel</span></a><span> </span><a href="#local-6989586621684440657"><span class="hs-identifier hs-var">infoLbl</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-143"></a><span>           </span><a href="#local-6989586621684440656"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-144"></a><span>           </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">debugLevel</span><span> </span><a href="#local-6989586621684440655"><span class="hs-identifier hs-var">dflags</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-145"></a><span>            </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#mkAsmTempEndLabel"><span class="hs-identifier hs-var">mkAsmTempEndLabel</span></a><span> </span><a href="#local-6989586621684440657"><span class="hs-identifier hs-var">infoLbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span>
</span><a name="line-146"></a><span>    </span><span class="hs-comment">-- Make sure the info table has the right .loc for the block</span><span>
</span><a name="line-147"></a><span>    </span><span class="hs-comment">-- coming right after it. See [Note: Info Offset]</span><span>
</span><a name="line-148"></a><span>    </span><a name="local-6989586621684440654"><a href="#local-6989586621684440654"><span class="hs-identifier">infoTableLoc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440651"><span class="hs-identifier hs-var">instrs</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-149"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621684440659"><a href="#local-6989586621684440659"><span class="hs-identifier">l</span></a></a><span class="hs-glyph">@</span><a href="X86.Instr.html#LOCATION"><span class="hs-identifier hs-var">LOCATION</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><a href="#local-6989586621684440659"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-150"></a><span>      </span><a name="local-6989586621684440660"><a href="#local-6989586621684440660"><span class="hs-identifier">_other</span></a></a><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-151"></a><span>
</span><a name="line-152"></a><span class="hs-identifier">pprDatas</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Alignment</span><span class="hs-special">,</span><span> </span><a href="Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-153"></a><a name="pprDatas"><a href="X86.Ppr.html#pprDatas"><span class="hs-identifier">pprDatas</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621684440662"><a href="#local-6989586621684440662"><span class="hs-identifier">align</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#Statics"><span class="hs-identifier hs-var">Statics</span></a><span> </span><a name="local-6989586621684440663"><a href="#local-6989586621684440663"><span class="hs-identifier">lbl</span></a></a><span> </span><a name="local-6989586621684440664"><a href="#local-6989586621684440664"><span class="hs-identifier">dats</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-154"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprAlign"><span class="hs-identifier hs-var">pprAlign</span></a><span> </span><a href="#local-6989586621684440662"><span class="hs-identifier hs-var">align</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier hs-var">pprLabel</span></a><span> </span><a href="#local-6989586621684440663"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="X86.Ppr.html#pprData"><span class="hs-identifier hs-var">pprData</span></a><span> </span><a href="#local-6989586621684440664"><span class="hs-identifier hs-var">dats</span></a><span class="hs-special">)</span><span>
</span><a name="line-155"></a><span>
</span><a name="line-156"></a><span class="hs-identifier">pprData</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Cmm.html#CmmStatic"><span class="hs-identifier hs-type">CmmStatic</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-157"></a><a name="pprData"><a href="X86.Ppr.html#pprData"><span class="hs-identifier">pprData</span></a></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#CmmString"><span class="hs-identifier hs-var">CmmString</span></a><span> </span><a name="local-6989586621684440665"><a href="#local-6989586621684440665"><span class="hs-identifier">str</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-158"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;\t.asciz &quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">doubleQuotes</span><span> </span><span class="hs-special">(</span><a href="PprBase.html#pprASCII"><span class="hs-identifier hs-var">pprASCII</span></a><span> </span><a href="#local-6989586621684440665"><span class="hs-identifier hs-var">str</span></a><span class="hs-special">)</span><span>
</span><a name="line-159"></a><span>
</span><a name="line-160"></a><span class="hs-identifier">pprData</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#CmmUninitialised"><span class="hs-identifier hs-var">CmmUninitialised</span></a><span> </span><a name="local-6989586621684440666"><a href="#local-6989586621684440666"><span class="hs-identifier">bytes</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-161"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440667"><a href="#local-6989586621684440667"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-162"></a><span>   </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440667"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-identifier hs-var">OSDarwin</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.space &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440666"><span class="hs-identifier hs-var">bytes</span></a><span>
</span><a name="line-163"></a><span>                                      </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.skip &quot;</span><span>  </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440666"><span class="hs-identifier hs-var">bytes</span></a><span>
</span><a name="line-164"></a><span>
</span><a name="line-165"></a><span class="hs-identifier">pprData</span><span> </span><span class="hs-special">(</span><a href="Cmm.html#CmmStaticLit"><span class="hs-identifier hs-var">CmmStaticLit</span></a><span> </span><a name="local-6989586621684440668"><a href="#local-6989586621684440668"><span class="hs-identifier">lit</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprDataItem"><span class="hs-identifier hs-var">pprDataItem</span></a><span> </span><a href="#local-6989586621684440668"><span class="hs-identifier hs-var">lit</span></a><span>
</span><a name="line-166"></a><span>
</span><a name="line-167"></a><span class="hs-identifier">pprGloblDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-168"></a><a name="pprGloblDecl"><a href="X86.Ppr.html#pprGloblDecl"><span class="hs-identifier">pprGloblDecl</span></a></a><span> </span><a name="local-6989586621684440669"><a href="#local-6989586621684440669"><span class="hs-identifier">lbl</span></a></a><span>
</span><a name="line-169"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#externallyVisibleCLabel"><span class="hs-identifier hs-var">externallyVisibleCLabel</span></a><span> </span><a href="#local-6989586621684440669"><span class="hs-identifier hs-var">lbl</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-170"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.globl &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440669"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-171"></a><span>
</span><a name="line-172"></a><span class="hs-identifier">pprLabelType'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-173"></a><a name="pprLabelType%27"><a href="X86.Ppr.html#pprLabelType%27"><span class="hs-identifier">pprLabelType'</span></a></a><span> </span><a name="local-6989586621684440670"><a href="#local-6989586621684440670"><span class="hs-identifier">dflags</span></a></a><span> </span><a name="local-6989586621684440671"><a href="#local-6989586621684440671"><span class="hs-identifier">lbl</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-174"></a><span>  </span><span class="hs-keyword">if</span><span> </span><a href="CLabel.html#isCFunctionLabel"><span class="hs-identifier hs-var">isCFunctionLabel</span></a><span> </span><a href="#local-6989586621684440671"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">||</span><span> </span><a href="#local-6989586621684440672"><span class="hs-identifier hs-var">functionOkInfoTable</span></a><span> </span><span class="hs-keyword">then</span><span>
</span><a name="line-175"></a><span>    </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;@function&quot;</span><span>
</span><a name="line-176"></a><span>  </span><span class="hs-keyword">else</span><span>
</span><a name="line-177"></a><span>    </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;@object&quot;</span><span>
</span><a name="line-178"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-179"></a><span>    </span><span class="hs-comment">{-
    NOTE: This is a bit hacky.

    With the `tablesNextToCode` info tables look like this:
    ```
      &lt;info table data&gt;
    label_info:
      &lt;info table code&gt;
    ```
    So actually info table label points exactly to the code and we can mark
    the label as @function. (This is required to make perf and potentially other
    tools to work on Haskell binaries).
    This usually works well but it can cause issues with a linker.
    A linker uses different algorithms for the relocation depending on
    the symbol type.For some reason, a linker will generate JUMP_SLOT relocation
    when constructor info table is referenced from a data section.
    This only happens with static constructor call so
    we mark _con_info symbols as `@object` to avoid the issue with relocations.

    @SimonMarlow hack explanation:
    &quot;The reasoning goes like this:

    * The danger when we mark a symbol as `@function` is that the linker will
      redirect it to point to the PLT and use a `JUMP_SLOT` relocation when
      the symbol refers to something outside the current shared object.
      A PLT / JUMP_SLOT reference only works for symbols that we jump to, not
      for symbols representing data,, nor for info table symbol references which
      we expect to point directly to the info table.
    * GHC generates code that might refer to any info table symbol from the text
      segment, but that's OK, because those will be explicit GOT references
      generated by the code generator.
    * When we refer to info tables from the data segment, it's either
      * a FUN_STATIC/THUNK_STATIC local to this module
      * a `con_info` that could be from anywhere

    So, the only info table symbols that we might refer to from the data segment
    of another shared object are `con_info` symbols, so those are the ones we
    need to exclude from getting the @function treatment.
    &quot;

    A good place to check for more
    https://ghc.haskell.org/trac/ghc/wiki/Commentary/PositionIndependentCode

    Another possible hack is to create an extra local function symbol for
    every code-like thing to give the needed information for to the tools
    but mess up with the relocation. https://phabricator.haskell.org/D4730
    -}</span><span>
</span><a name="line-226"></a><span>    </span><a name="local-6989586621684440672"><a href="#local-6989586621684440672"><span class="hs-identifier">functionOkInfoTable</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">tablesNextToCode</span><span> </span><a href="#local-6989586621684440670"><span class="hs-identifier hs-var">dflags</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span>
</span><a name="line-227"></a><span>      </span><a href="CLabel.html#isInfoTableLabel"><span class="hs-identifier hs-var">isInfoTableLabel</span></a><span> </span><a href="#local-6989586621684440671"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><span class="hs-special">(</span><a href="CLabel.html#isConInfoTableLabel"><span class="hs-identifier hs-var">isConInfoTableLabel</span></a><span> </span><a href="#local-6989586621684440671"><span class="hs-identifier hs-var">lbl</span></a><span class="hs-special">)</span><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span>
</span><a name="line-230"></a><span class="hs-identifier">pprTypeDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-231"></a><a name="pprTypeDecl"><a href="X86.Ppr.html#pprTypeDecl"><span class="hs-identifier">pprTypeDecl</span></a></a><span> </span><a name="local-6989586621684440673"><a href="#local-6989586621684440673"><span class="hs-identifier">lbl</span></a></a><span>
</span><a name="line-232"></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440674"><a href="#local-6989586621684440674"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-233"></a><span>      </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">osElfTarget</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440674"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="CLabel.html#externallyVisibleCLabel"><span class="hs-identifier hs-var">externallyVisibleCLabel</span></a><span> </span><a href="#local-6989586621684440673"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-234"></a><span>      </span><span class="hs-keyword">then</span><span>
</span><a name="line-235"></a><span>        </span><span class="hs-identifier hs-var">sdocWithDynFlags</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440675"><a href="#local-6989586621684440675"><span class="hs-identifier">df</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-236"></a><span>          </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.type &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440673"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span>  </span><span class="hs-string">&quot;, &quot;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprLabelType%27"><span class="hs-identifier hs-var">pprLabelType'</span></a><span> </span><a href="#local-6989586621684440675"><span class="hs-identifier hs-var">df</span></a><span> </span><a href="#local-6989586621684440673"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-237"></a><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-238"></a><span>
</span><a name="line-239"></a><span class="hs-identifier">pprLabel</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-240"></a><a name="pprLabel"><a href="X86.Ppr.html#pprLabel"><span class="hs-identifier">pprLabel</span></a></a><span> </span><a name="local-6989586621684440676"><a href="#local-6989586621684440676"><span class="hs-identifier">lbl</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprGloblDecl"><span class="hs-identifier hs-var">pprGloblDecl</span></a><span> </span><a href="#local-6989586621684440676"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-241"></a><span>            </span><span class="hs-operator hs-var">$$</span><span> </span><a href="X86.Ppr.html#pprTypeDecl"><span class="hs-identifier hs-var">pprTypeDecl</span></a><span> </span><a href="#local-6989586621684440676"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-242"></a><span>            </span><span class="hs-operator hs-var">$$</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440676"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span class="hs-special">)</span><span>
</span><a name="line-243"></a><span>
</span><a name="line-244"></a><span class="hs-identifier">pprAlign</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-245"></a><a name="pprAlign"><a href="X86.Ppr.html#pprAlign"><span class="hs-identifier">pprAlign</span></a></a><span> </span><a name="local-6989586621684440677"><a href="#local-6989586621684440677"><span class="hs-identifier">bytes</span></a></a><span>
</span><a name="line-246"></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440682"><a href="#local-6989586621684440682"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-247"></a><span>          </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.align &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440678"><span class="hs-identifier hs-var">alignment</span></a><span> </span><a href="#local-6989586621684440682"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span>
</span><a name="line-248"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-249"></a><span>        </span><a name="local-6989586621684440678"><a href="#local-6989586621684440678"><span class="hs-identifier">alignment</span></a></a><span> </span><a name="local-6989586621684440680"><a href="#local-6989586621684440680"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440680"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-identifier hs-var">OSDarwin</span><span>
</span><a name="line-250"></a><span>                             </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621684440679"><span class="hs-identifier hs-var">log2</span></a><span> </span><a href="#local-6989586621684440677"><span class="hs-identifier hs-var">bytes</span></a><span>
</span><a name="line-251"></a><span>                             </span><span class="hs-keyword">else</span><span>      </span><a href="#local-6989586621684440677"><span class="hs-identifier hs-var">bytes</span></a><span>
</span><a name="line-252"></a><span>
</span><a name="line-253"></a><span>        </span><span class="hs-identifier">log2</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>  </span><span class="hs-comment">-- cache the common ones</span><span>
</span><a name="line-254"></a><span>        </span><a name="local-6989586621684440679"><a href="#local-6989586621684440679"><span class="hs-identifier">log2</span></a></a><span> </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-255"></a><span>        </span><span class="hs-identifier">log2</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-256"></a><span>        </span><span class="hs-identifier">log2</span><span> </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-257"></a><span>        </span><span class="hs-identifier">log2</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">3</span><span>
</span><a name="line-258"></a><span>        </span><span class="hs-identifier">log2</span><span> </span><a name="local-6989586621684440681"><a href="#local-6989586621684440681"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621684440679"><span class="hs-identifier hs-var">log2</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440681"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">quot</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span>
</span><a name="line-259"></a><span>
</span><a name="line-260"></a><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><a name="line-261"></a><span class="hs-comment">-- pprInstr: print an 'Instr'</span><span>
</span><a name="line-262"></a><span>
</span><a name="line-263"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Outputable</span><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-264"></a><span>    </span><a name="local-8214565720323806217"><span class="hs-identifier">ppr</span></a><span> </span><a name="local-6989586621684440635"><a href="#local-6989586621684440635"><span class="hs-identifier">instr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><a href="#local-6989586621684440635"><span class="hs-identifier hs-var">instr</span></a><span>
</span><a name="line-265"></a><span>
</span><a name="line-266"></a><span>
</span><a name="line-267"></a><span class="hs-identifier">pprReg</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-268"></a><a name="pprReg"><a href="X86.Ppr.html#pprReg"><span class="hs-identifier">pprReg</span></a></a><span> </span><a name="local-6989586621684440683"><a href="#local-6989586621684440683"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621684440684"><a href="#local-6989586621684440684"><span class="hs-identifier">r</span></a></a><span>
</span><a name="line-269"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440684"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-270"></a><span>      </span><a href="Reg.html#RegReal"><span class="hs-identifier hs-var">RegReal</span></a><span>    </span><span class="hs-special">(</span><a href="Reg.html#RealRegSingle"><span class="hs-identifier hs-var">RealRegSingle</span></a><span> </span><a name="local-6989586621684440701"><a href="#local-6989586621684440701"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-271"></a><span>          </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440702"><a href="#local-6989586621684440702"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-272"></a><span>          </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440702"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621684440685"><span class="hs-identifier hs-var">ppr32_reg_no</span></a><span> </span><a href="#local-6989586621684440683"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621684440701"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-273"></a><span>                                  </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621684440689"><span class="hs-identifier hs-var">ppr64_reg_no</span></a><span> </span><a href="#local-6989586621684440683"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621684440701"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-274"></a><span>      </span><a href="Reg.html#RegReal"><span class="hs-identifier hs-var">RegReal</span></a><span>    </span><span class="hs-special">(</span><a href="Reg.html#RealRegPair"><span class="hs-identifier hs-var">RealRegPair</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr: no reg pairs on this arch&quot;</span><span>
</span><a name="line-275"></a><span>      </span><a href="Reg.html#RegVirtual"><span class="hs-identifier hs-var">RegVirtual</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#VirtualRegI"><span class="hs-identifier hs-var">VirtualRegI</span></a><span>  </span><a name="local-6989586621684440703"><a href="#local-6989586621684440703"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%vI_&quot;</span><span>   </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><a href="#local-6989586621684440703"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-276"></a><span>      </span><a href="Reg.html#RegVirtual"><span class="hs-identifier hs-var">RegVirtual</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#VirtualRegHi"><span class="hs-identifier hs-var">VirtualRegHi</span></a><span> </span><a name="local-6989586621684440704"><a href="#local-6989586621684440704"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%vHi_&quot;</span><span>  </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><a href="#local-6989586621684440704"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-277"></a><span>      </span><a href="Reg.html#RegVirtual"><span class="hs-identifier hs-var">RegVirtual</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#VirtualRegF"><span class="hs-identifier hs-var">VirtualRegF</span></a><span>  </span><a name="local-6989586621684440705"><a href="#local-6989586621684440705"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%vF_&quot;</span><span>   </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><a href="#local-6989586621684440705"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-278"></a><span>      </span><a href="Reg.html#RegVirtual"><span class="hs-identifier hs-var">RegVirtual</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#VirtualRegD"><span class="hs-identifier hs-var">VirtualRegD</span></a><span>  </span><a name="local-6989586621684440706"><a href="#local-6989586621684440706"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%vD_&quot;</span><span>   </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><a href="#local-6989586621684440706"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-279"></a><span>      </span><a href="Reg.html#RegVirtual"><span class="hs-identifier hs-var">RegVirtual</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#VirtualRegSSE"><span class="hs-identifier hs-var">VirtualRegSSE</span></a><span> </span><a name="local-6989586621684440707"><a href="#local-6989586621684440707"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%vSSE_&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pprUniqueAlways</span><span> </span><a href="#local-6989586621684440707"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-280"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-281"></a><span>    </span><span class="hs-identifier">ppr32_reg_no</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-282"></a><span>    </span><a name="local-6989586621684440685"><a href="#local-6989586621684440685"><span class="hs-identifier">ppr32_reg_no</span></a></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440686"><span class="hs-identifier hs-var">ppr32_reg_byte</span></a><span>
</span><a name="line-283"></a><span>    </span><span class="hs-identifier">ppr32_reg_no</span><span> </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440687"><span class="hs-identifier hs-var">ppr32_reg_word</span></a><span>
</span><a name="line-284"></a><span>    </span><span class="hs-identifier">ppr32_reg_no</span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440688"><span class="hs-identifier hs-var">ppr32_reg_long</span></a><span>
</span><a name="line-285"></a><span>
</span><a name="line-286"></a><span>    </span><a name="local-6989586621684440686"><a href="#local-6989586621684440686"><span class="hs-identifier">ppr32_reg_byte</span></a></a><span> </span><a name="local-6989586621684440694"><a href="#local-6989586621684440694"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-287"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440694"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-288"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%al&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bl&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-289"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%cl&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%dl&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-290"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-string">&quot;very naughty I386 byte register: &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621684440694"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-291"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-292"></a><span>
</span><a name="line-293"></a><span>    </span><a name="local-6989586621684440687"><a href="#local-6989586621684440687"><span class="hs-identifier">ppr32_reg_word</span></a></a><span> </span><a name="local-6989586621684440695"><a href="#local-6989586621684440695"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-294"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440695"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-295"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ax&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-296"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%cx&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%dx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-297"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%si&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%di&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-298"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bp&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%sp&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-299"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;very naughty I386 word register&quot;</span><span>
</span><a name="line-300"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-301"></a><span>
</span><a name="line-302"></a><span>    </span><a name="local-6989586621684440688"><a href="#local-6989586621684440688"><span class="hs-identifier">ppr32_reg_long</span></a></a><span> </span><a name="local-6989586621684440696"><a href="#local-6989586621684440696"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-303"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440696"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-304"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%eax&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ebx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-305"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ecx&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%edx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-306"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%esi&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%edi&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-307"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ebp&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%esp&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-308"></a><span>         </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Ppr.html#ppr_reg_float"><span class="hs-identifier hs-var">ppr_reg_float</span></a><span> </span><a href="#local-6989586621684440696"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-309"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-310"></a><span>
</span><a name="line-311"></a><span>    </span><span class="hs-identifier">ppr64_reg_no</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-312"></a><span>    </span><a name="local-6989586621684440689"><a href="#local-6989586621684440689"><span class="hs-identifier">ppr64_reg_no</span></a></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440690"><span class="hs-identifier hs-var">ppr64_reg_byte</span></a><span>
</span><a name="line-313"></a><span>    </span><span class="hs-identifier">ppr64_reg_no</span><span> </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440691"><span class="hs-identifier hs-var">ppr64_reg_word</span></a><span>
</span><a name="line-314"></a><span>    </span><span class="hs-identifier">ppr64_reg_no</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440692"><span class="hs-identifier hs-var">ppr64_reg_long</span></a><span>
</span><a name="line-315"></a><span>    </span><span class="hs-identifier">ppr64_reg_no</span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440693"><span class="hs-identifier hs-var">ppr64_reg_quad</span></a><span>
</span><a name="line-316"></a><span>
</span><a name="line-317"></a><span>    </span><a name="local-6989586621684440690"><a href="#local-6989586621684440690"><span class="hs-identifier">ppr64_reg_byte</span></a></a><span> </span><a name="local-6989586621684440697"><a href="#local-6989586621684440697"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-318"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440697"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-319"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%al&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bl&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-320"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%cl&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%dl&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-321"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%sil&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%dil&quot;</span><span class="hs-special">;</span><span> </span><span class="hs-comment">-- new 8-bit regs!</span><span>
</span><a name="line-322"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bpl&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%spl&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-323"></a><span>         </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r8b&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">9</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r9b&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-324"></a><span>        </span><span class="hs-number">10</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r10b&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">11</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r11b&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-325"></a><span>        </span><span class="hs-number">12</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r12b&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">13</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r13b&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-326"></a><span>        </span><span class="hs-number">14</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r14b&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">15</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r15b&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-327"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-string">&quot;very naughty x86_64 byte register: &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621684440697"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-328"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-329"></a><span>
</span><a name="line-330"></a><span>    </span><a name="local-6989586621684440691"><a href="#local-6989586621684440691"><span class="hs-identifier">ppr64_reg_word</span></a></a><span> </span><a name="local-6989586621684440698"><a href="#local-6989586621684440698"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-331"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440698"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-332"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ax&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-333"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%cx&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%dx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-334"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%si&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%di&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-335"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%bp&quot;</span><span class="hs-special">;</span><span>     </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%sp&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-336"></a><span>         </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r8w&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">9</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r9w&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-337"></a><span>        </span><span class="hs-number">10</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r10w&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">11</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r11w&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-338"></a><span>        </span><span class="hs-number">12</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r12w&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">13</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r13w&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-339"></a><span>        </span><span class="hs-number">14</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r14w&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">15</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r15w&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-340"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;very naughty x86_64 word register&quot;</span><span>
</span><a name="line-341"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-342"></a><span>
</span><a name="line-343"></a><span>    </span><a name="local-6989586621684440692"><a href="#local-6989586621684440692"><span class="hs-identifier">ppr64_reg_long</span></a></a><span> </span><a name="local-6989586621684440699"><a href="#local-6989586621684440699"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-344"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440699"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-345"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%eax&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">1</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ebx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-346"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ecx&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">3</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%edx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-347"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%esi&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">5</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%edi&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-348"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%ebp&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">7</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%esp&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-349"></a><span>         </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r8d&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">9</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r9d&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-350"></a><span>        </span><span class="hs-number">10</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r10d&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">11</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r11d&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-351"></a><span>        </span><span class="hs-number">12</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r12d&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">13</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r13d&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-352"></a><span>        </span><span class="hs-number">14</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r14d&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">15</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r15d&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-353"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;very naughty x86_64 register&quot;</span><span>
</span><a name="line-354"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-355"></a><span>
</span><a name="line-356"></a><span>    </span><a name="local-6989586621684440693"><a href="#local-6989586621684440693"><span class="hs-identifier">ppr64_reg_quad</span></a></a><span> </span><a name="local-6989586621684440700"><a href="#local-6989586621684440700"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span>
</span><a name="line-357"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440700"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-358"></a><span>         </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rax&quot;</span><span class="hs-special">;</span><span>      </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rbx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-359"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rcx&quot;</span><span class="hs-special">;</span><span>      </span><span class="hs-number">3</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rdx&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-360"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rsi&quot;</span><span class="hs-special">;</span><span>      </span><span class="hs-number">5</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rdi&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-361"></a><span>         </span><span class="hs-number">6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rbp&quot;</span><span class="hs-special">;</span><span>      </span><span class="hs-number">7</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%rsp&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-362"></a><span>         </span><span class="hs-number">8</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r8&quot;</span><span class="hs-special">;</span><span>       </span><span class="hs-number">9</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r9&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-363"></a><span>        </span><span class="hs-number">10</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r10&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">11</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r11&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-364"></a><span>        </span><span class="hs-number">12</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r12&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">13</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r13&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-365"></a><span>        </span><span class="hs-number">14</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r14&quot;</span><span class="hs-special">;</span><span>    </span><span class="hs-number">15</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%r15&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-366"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Ppr.html#ppr_reg_float"><span class="hs-identifier hs-var">ppr_reg_float</span></a><span> </span><a href="#local-6989586621684440700"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-367"></a><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-368"></a><span>
</span><a name="line-369"></a><span class="hs-identifier">ppr_reg_float</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span>
</span><a name="line-370"></a><a name="ppr_reg_float"><a href="X86.Ppr.html#ppr_reg_float"><span class="hs-identifier">ppr_reg_float</span></a></a><span> </span><a name="local-6989586621684440708"><a href="#local-6989586621684440708"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440708"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-371"></a><span>        </span><span class="hs-number">16</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake0&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">17</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake1&quot;</span><span>
</span><a name="line-372"></a><span>        </span><span class="hs-number">18</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake2&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">19</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake3&quot;</span><span>
</span><a name="line-373"></a><span>        </span><span class="hs-number">20</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake4&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">21</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%fake5&quot;</span><span>
</span><a name="line-374"></a><span>        </span><span class="hs-number">24</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm0&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">25</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm1&quot;</span><span>
</span><a name="line-375"></a><span>        </span><span class="hs-number">26</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm2&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">27</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm3&quot;</span><span>
</span><a name="line-376"></a><span>        </span><span class="hs-number">28</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm4&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">29</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm5&quot;</span><span>
</span><a name="line-377"></a><span>        </span><span class="hs-number">30</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm6&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">31</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm7&quot;</span><span>
</span><a name="line-378"></a><span>        </span><span class="hs-number">32</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm8&quot;</span><span class="hs-special">;</span><span>   </span><span class="hs-number">33</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm9&quot;</span><span>
</span><a name="line-379"></a><span>        </span><span class="hs-number">34</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm10&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">35</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm11&quot;</span><span>
</span><a name="line-380"></a><span>        </span><span class="hs-number">36</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm12&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">37</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm13&quot;</span><span>
</span><a name="line-381"></a><span>        </span><span class="hs-number">38</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm14&quot;</span><span class="hs-special">;</span><span>  </span><span class="hs-number">39</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;%xmm15&quot;</span><span>
</span><a name="line-382"></a><span>        </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;very naughty x86 register&quot;</span><span>
</span><a name="line-383"></a><span>
</span><a name="line-384"></a><span class="hs-identifier">pprFormat</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-385"></a><a name="pprFormat"><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier">pprFormat</span></a></a><span> </span><a name="local-6989586621684440709"><a href="#local-6989586621684440709"><span class="hs-identifier">x</span></a></a><span>
</span><a name="line-386"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440709"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-387"></a><span>                </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;b&quot;</span><span>
</span><a name="line-388"></a><span>                </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;w&quot;</span><span>
</span><a name="line-389"></a><span>                </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;l&quot;</span><span>
</span><a name="line-390"></a><span>                </span><a href="Format.html#II64"><span class="hs-identifier hs-var">II64</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;q&quot;</span><span>
</span><a name="line-391"></a><span>                </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ss&quot;</span><span>      </span><span class="hs-comment">-- &quot;scalar single-precision float&quot; (SSE2)</span><span>
</span><a name="line-392"></a><span>                </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sd&quot;</span><span>      </span><span class="hs-comment">-- &quot;scalar double-precision float&quot; (SSE2)</span><span>
</span><a name="line-393"></a><span>                </span><a href="Format.html#FF80"><span class="hs-identifier hs-var">FF80</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;t&quot;</span><span>
</span><a name="line-394"></a><span>                </span><span class="hs-special">)</span><span>
</span><a name="line-395"></a><span>
</span><a name="line-396"></a><span class="hs-identifier">pprFormat_x87</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-397"></a><a name="pprFormat_x87"><a href="X86.Ppr.html#pprFormat_x87"><span class="hs-identifier">pprFormat_x87</span></a></a><span> </span><a name="local-6989586621684440710"><a href="#local-6989586621684440710"><span class="hs-identifier">x</span></a></a><span>
</span><a name="line-398"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440710"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-399"></a><span>                </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;s&quot;</span><span>
</span><a name="line-400"></a><span>                </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;l&quot;</span><span>
</span><a name="line-401"></a><span>                </span><a href="Format.html#FF80"><span class="hs-identifier hs-var">FF80</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;t&quot;</span><span>
</span><a name="line-402"></a><span>                </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.pprFormat_x87&quot;</span><span>
</span><a name="line-403"></a><span>
</span><a name="line-404"></a><span class="hs-identifier">pprCond</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-405"></a><a name="pprCond"><a href="X86.Ppr.html#pprCond"><span class="hs-identifier">pprCond</span></a></a><span> </span><a name="local-6989586621684440711"><a href="#local-6989586621684440711"><span class="hs-identifier">c</span></a></a><span>
</span><a name="line-406"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440711"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span>
</span><a name="line-407"></a><span>                </span><a href="X86.Cond.html#GEU"><span class="hs-identifier hs-var">GEU</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ae&quot;</span><span class="hs-special">;</span><span>   </span><a href="X86.Cond.html#LU"><span class="hs-identifier hs-var">LU</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;b&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-408"></a><span>                </span><a href="X86.Cond.html#EQQ"><span class="hs-identifier hs-var">EQQ</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;e&quot;</span><span class="hs-special">;</span><span>    </span><a href="X86.Cond.html#GTT"><span class="hs-identifier hs-var">GTT</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;g&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-409"></a><span>                </span><a href="X86.Cond.html#GE"><span class="hs-identifier hs-var">GE</span></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ge&quot;</span><span class="hs-special">;</span><span>   </span><a href="X86.Cond.html#GU"><span class="hs-identifier hs-var">GU</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;a&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-410"></a><span>                </span><a href="X86.Cond.html#LTT"><span class="hs-identifier hs-var">LTT</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;l&quot;</span><span class="hs-special">;</span><span>    </span><a href="X86.Cond.html#LE"><span class="hs-identifier hs-var">LE</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;le&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-411"></a><span>                </span><a href="X86.Cond.html#LEU"><span class="hs-identifier hs-var">LEU</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;be&quot;</span><span class="hs-special">;</span><span>   </span><a href="X86.Cond.html#NE"><span class="hs-identifier hs-var">NE</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ne&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-412"></a><span>                </span><a href="X86.Cond.html#NEG"><span class="hs-identifier hs-var">NEG</span></a><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;s&quot;</span><span class="hs-special">;</span><span>    </span><a href="X86.Cond.html#POS"><span class="hs-identifier hs-var">POS</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ns&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-413"></a><span>                </span><a href="X86.Cond.html#CARRY"><span class="hs-identifier hs-var">CARRY</span></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;c&quot;</span><span class="hs-special">;</span><span>   </span><a href="X86.Cond.html#OFLO"><span class="hs-identifier hs-var">OFLO</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;o&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-414"></a><span>                </span><a href="X86.Cond.html#PARITY"><span class="hs-identifier hs-var">PARITY</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;p&quot;</span><span class="hs-special">;</span><span>   </span><a href="X86.Cond.html#NOTPARITY"><span class="hs-identifier hs-var">NOTPARITY</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;np&quot;</span><span class="hs-special">;</span><span>
</span><a name="line-415"></a><span>                </span><a href="X86.Cond.html#ALWAYS"><span class="hs-identifier hs-var">ALWAYS</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;mp&quot;</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-416"></a><span>
</span><a name="line-417"></a><span>
</span><a name="line-418"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Regs.html#Imm"><span class="hs-identifier hs-type">Imm</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-419"></a><a name="pprImm"><a href="X86.Ppr.html#pprImm"><span class="hs-identifier">pprImm</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><a name="local-6989586621684440712"><a href="#local-6989586621684440712"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440712"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-420"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInteger"><span class="hs-identifier hs-var">ImmInteger</span></a><span> </span><a name="local-6989586621684440713"><a href="#local-6989586621684440713"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">integer</span><span> </span><a href="#local-6989586621684440713"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-421"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmCLbl"><span class="hs-identifier hs-var">ImmCLbl</span></a><span> </span><a name="local-6989586621684440714"><a href="#local-6989586621684440714"><span class="hs-identifier">l</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440714"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-422"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmIndex"><span class="hs-identifier hs-var">ImmIndex</span></a><span> </span><a name="local-6989586621684440715"><a href="#local-6989586621684440715"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621684440716"><a href="#local-6989586621684440716"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440715"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'+'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440716"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-423"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmLit"><span class="hs-identifier hs-var">ImmLit</span></a><span> </span><a name="local-6989586621684440717"><a href="#local-6989586621684440717"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440717"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-424"></a><span>
</span><a name="line-425"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmFloat"><span class="hs-identifier hs-var">ImmFloat</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;naughty float immediate&quot;</span><span>
</span><a name="line-426"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmDouble"><span class="hs-identifier hs-var">ImmDouble</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;naughty double immediate&quot;</span><span>
</span><a name="line-427"></a><span>
</span><a name="line-428"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmConstantSum"><span class="hs-identifier hs-var">ImmConstantSum</span></a><span> </span><a name="local-6989586621684440718"><a href="#local-6989586621684440718"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621684440719"><a href="#local-6989586621684440719"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440718"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'+'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440719"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-429"></a><span class="hs-identifier">pprImm</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmConstantDiff"><span class="hs-identifier hs-var">ImmConstantDiff</span></a><span> </span><a name="local-6989586621684440720"><a href="#local-6989586621684440720"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621684440721"><a href="#local-6989586621684440721"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440720"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'-'</span><span>
</span><a name="line-430"></a><span>                            </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">lparen</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440721"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">rparen</span><span>
</span><a name="line-431"></a><span>
</span><a name="line-432"></a><span>
</span><a name="line-433"></a><span>
</span><a name="line-434"></a><span class="hs-identifier">pprAddr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Regs.html#AddrMode"><span class="hs-identifier hs-type">AddrMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-435"></a><a name="pprAddr"><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier">pprAddr</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmAddr"><span class="hs-identifier hs-var">ImmAddr</span></a><span> </span><a name="local-6989586621684440722"><a href="#local-6989586621684440722"><span class="hs-identifier">imm</span></a></a><span> </span><a name="local-6989586621684440723"><a href="#local-6989586621684440723"><span class="hs-identifier">off</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-436"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621684440724"><a href="#local-6989586621684440724"><span class="hs-identifier">pp_imm</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440722"><span class="hs-identifier hs-var">imm</span></a><span>
</span><a name="line-437"></a><span>    </span><span class="hs-keyword">in</span><span>
</span><a name="line-438"></a><span>    </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440723"><span class="hs-identifier hs-var">off</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span>
</span><a name="line-439"></a><span>        </span><a href="#local-6989586621684440724"><span class="hs-identifier hs-var">pp_imm</span></a><span>
</span><a name="line-440"></a><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440723"><span class="hs-identifier hs-var">off</span></a><span> </span><span class="hs-operator hs-var">&lt;</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span>
</span><a name="line-441"></a><span>        </span><a href="#local-6989586621684440724"><span class="hs-identifier hs-var">pp_imm</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440723"><span class="hs-identifier hs-var">off</span></a><span>
</span><a name="line-442"></a><span>    </span><span class="hs-keyword">else</span><span>
</span><a name="line-443"></a><span>        </span><a href="#local-6989586621684440724"><span class="hs-identifier hs-var">pp_imm</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'+'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440723"><span class="hs-identifier hs-var">off</span></a><span>
</span><a name="line-444"></a><span>
</span><a name="line-445"></a><span class="hs-identifier">pprAddr</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#AddrBaseIndex"><span class="hs-identifier hs-var">AddrBaseIndex</span></a><span> </span><a name="local-6989586621684440725"><a href="#local-6989586621684440725"><span class="hs-identifier">base</span></a></a><span> </span><a name="local-6989586621684440726"><a href="#local-6989586621684440726"><span class="hs-identifier">index</span></a></a><span> </span><a name="local-6989586621684440727"><a href="#local-6989586621684440727"><span class="hs-identifier">displacement</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-446"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440730"><a href="#local-6989586621684440730"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-447"></a><span>    </span><span class="hs-keyword">let</span><span>
</span><a name="line-448"></a><span>        </span><a name="local-6989586621684440731"><a href="#local-6989586621684440731"><span class="hs-identifier">pp_disp</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440728"><span class="hs-identifier hs-var">ppr_disp</span></a><span> </span><a href="#local-6989586621684440727"><span class="hs-identifier hs-var">displacement</span></a><span>
</span><a name="line-449"></a><span>        </span><a name="local-6989586621684440732"><a href="#local-6989586621684440732"><span class="hs-identifier">pp_off</span></a></a><span> </span><a name="local-6989586621684440734"><a href="#local-6989586621684440734"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440731"><span class="hs-identifier hs-var">pp_disp</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'('</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621684440734"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">')'</span><span>
</span><a name="line-450"></a><span>        </span><a name="local-6989586621684440733"><a href="#local-6989586621684440733"><span class="hs-identifier">pp_reg</span></a></a><span> </span><a name="local-6989586621684440735"><a href="#local-6989586621684440735"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440730"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440735"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-451"></a><span>    </span><span class="hs-keyword">in</span><span>
</span><a name="line-452"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440725"><span class="hs-identifier hs-var">base</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621684440726"><span class="hs-identifier hs-var">index</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-453"></a><span>      </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseNone"><span class="hs-identifier hs-var">EABaseNone</span></a><span class="hs-special">,</span><span>  </span><a href="X86.Regs.html#EAIndexNone"><span class="hs-identifier hs-var">EAIndexNone</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440731"><span class="hs-identifier hs-var">pp_disp</span></a><span>
</span><a name="line-454"></a><span>      </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseReg"><span class="hs-identifier hs-var">EABaseReg</span></a><span> </span><a name="local-6989586621684440736"><a href="#local-6989586621684440736"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><span> </span><a href="X86.Regs.html#EAIndexNone"><span class="hs-identifier hs-var">EAIndexNone</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440732"><span class="hs-identifier hs-var">pp_off</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440733"><span class="hs-identifier hs-var">pp_reg</span></a><span> </span><a href="#local-6989586621684440736"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-455"></a><span>      </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseRip"><span class="hs-identifier hs-var">EABaseRip</span></a><span class="hs-special">,</span><span>   </span><a href="X86.Regs.html#EAIndexNone"><span class="hs-identifier hs-var">EAIndexNone</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440732"><span class="hs-identifier hs-var">pp_off</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%rip&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-456"></a><span>      </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseNone"><span class="hs-identifier hs-var">EABaseNone</span></a><span class="hs-special">,</span><span>  </span><a href="X86.Regs.html#EAIndex"><span class="hs-identifier hs-var">EAIndex</span></a><span> </span><a name="local-6989586621684440737"><a href="#local-6989586621684440737"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-6989586621684440738"><a href="#local-6989586621684440738"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440732"><span class="hs-identifier hs-var">pp_off</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621684440733"><span class="hs-identifier hs-var">pp_reg</span></a><span> </span><a href="#local-6989586621684440737"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440738"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-457"></a><span>      </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseReg"><span class="hs-identifier hs-var">EABaseReg</span></a><span> </span><a name="local-6989586621684440739"><a href="#local-6989586621684440739"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><span> </span><a href="X86.Regs.html#EAIndex"><span class="hs-identifier hs-var">EAIndex</span></a><span> </span><a name="local-6989586621684440740"><a href="#local-6989586621684440740"><span class="hs-identifier">r</span></a></a><span> </span><a name="local-6989586621684440741"><a href="#local-6989586621684440741"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440732"><span class="hs-identifier hs-var">pp_off</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440733"><span class="hs-identifier hs-var">pp_reg</span></a><span> </span><a href="#local-6989586621684440739"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621684440733"><span class="hs-identifier hs-var">pp_reg</span></a><span> </span><a href="#local-6989586621684440740"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-458"></a><span>                                       </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">comma</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><a href="#local-6989586621684440741"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-459"></a><span>      </span><span class="hs-identifier">_</span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.pprAddr: no match&quot;</span><span>
</span><a name="line-460"></a><span>
</span><a name="line-461"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-462"></a><span>    </span><a name="local-6989586621684440728"><a href="#local-6989586621684440728"><span class="hs-identifier">ppr_disp</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-463"></a><span>    </span><span class="hs-identifier">ppr_disp</span><span> </span><a name="local-6989586621684440729"><a href="#local-6989586621684440729"><span class="hs-identifier">imm</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440729"><span class="hs-identifier hs-var">imm</span></a><span>
</span><a name="line-464"></a><span>
</span><a name="line-465"></a><span class="hs-comment">-- | Print section header and appropriate alignment for that section.</span><span>
</span><a name="line-466"></a><span class="hs-identifier">pprSectionAlign</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-467"></a><a name="pprSectionAlign"><a href="X86.Ppr.html#pprSectionAlign"><span class="hs-identifier">pprSectionAlign</span></a></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#Section"><span class="hs-identifier hs-var">Section</span></a><span> </span><span class="hs-special">(</span><a href="Cmm.html#OtherSection"><span class="hs-identifier hs-var">OtherSection</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-468"></a><span>     </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.pprSectionAlign: unknown section&quot;</span><span>
</span><a name="line-469"></a><span class="hs-identifier">pprSectionAlign</span><span> </span><a name="local-6989586621684440742"><a href="#local-6989586621684440742"><span class="hs-identifier">sec</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Cmm.html#Section"><span class="hs-identifier hs-var">Section</span></a><span> </span><a name="local-6989586621684440743"><a href="#local-6989586621684440743"><span class="hs-identifier">seg</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-470"></a><span>  </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440744"><a href="#local-6989586621684440744"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-471"></a><span>    </span><a href="PprBase.html#pprSectionHeader"><span class="hs-identifier hs-var">pprSectionHeader</span></a><span> </span><a href="#local-6989586621684440744"><span class="hs-identifier hs-var">platform</span></a><span> </span><a href="#local-6989586621684440742"><span class="hs-identifier hs-var">sec</span></a><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-472"></a><span>    </span><a href="X86.Ppr.html#pprAlignForSection"><span class="hs-identifier hs-var">pprAlignForSection</span></a><span> </span><a href="#local-6989586621684440743"><span class="hs-identifier hs-var">seg</span></a><span>
</span><a name="line-473"></a><span>
</span><a name="line-474"></a><span class="hs-comment">-- | Print appropriate alignment for the given section type.</span><span>
</span><a name="line-475"></a><span class="hs-identifier">pprAlignForSection</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Cmm.html#SectionType"><span class="hs-identifier hs-type">SectionType</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-476"></a><a name="pprAlignForSection"><a href="X86.Ppr.html#pprAlignForSection"><span class="hs-identifier">pprAlignForSection</span></a></a><span> </span><a name="local-6989586621684440745"><a href="#local-6989586621684440745"><span class="hs-identifier">seg</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-477"></a><span>  </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440746"><a href="#local-6989586621684440746"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-478"></a><span>    </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;.align &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span>
</span><a name="line-479"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440746"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-480"></a><span>      </span><span class="hs-comment">-- Darwin: alignments are given as shifts.</span><span>
</span><a name="line-481"></a><span>      </span><span class="hs-identifier hs-var">OSDarwin</span><span>
</span><a name="line-482"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440746"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-483"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440745"><span class="hs-identifier hs-var">seg</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-484"></a><span>           </span><a href="Cmm.html#ReadOnlyData16"><span class="hs-identifier hs-var">ReadOnlyData16</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-485"></a><span>           </span><a href="Cmm.html#CString"><span class="hs-identifier hs-var">CString</span></a><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-486"></a><span>           </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-487"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-488"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440745"><span class="hs-identifier hs-var">seg</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-489"></a><span>           </span><a href="Cmm.html#ReadOnlyData16"><span class="hs-identifier hs-var">ReadOnlyData16</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-490"></a><span>           </span><a href="Cmm.html#CString"><span class="hs-identifier hs-var">CString</span></a><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-491"></a><span>           </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">3</span><span>
</span><a name="line-492"></a><span>      </span><span class="hs-comment">-- Other: alignments are given as bytes.</span><span>
</span><a name="line-493"></a><span>      </span><span class="hs-identifier">_</span><span>
</span><a name="line-494"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440746"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-495"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440745"><span class="hs-identifier hs-var">seg</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-496"></a><span>           </span><a href="Cmm.html#Text"><span class="hs-identifier hs-var">Text</span></a><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;4,0x90&quot;</span><span>
</span><a name="line-497"></a><span>           </span><a href="Cmm.html#ReadOnlyData16"><span class="hs-identifier hs-var">ReadOnlyData16</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">16</span><span>
</span><a name="line-498"></a><span>           </span><a href="Cmm.html#CString"><span class="hs-identifier hs-var">CString</span></a><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-499"></a><span>           </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">4</span><span>
</span><a name="line-500"></a><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-501"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440745"><span class="hs-identifier hs-var">seg</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-502"></a><span>           </span><a href="Cmm.html#ReadOnlyData16"><span class="hs-identifier hs-var">ReadOnlyData16</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">16</span><span>
</span><a name="line-503"></a><span>           </span><a href="Cmm.html#CString"><span class="hs-identifier hs-var">CString</span></a><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-504"></a><span>           </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-number">8</span><span>
</span><a name="line-505"></a><span>
</span><a name="line-506"></a><span class="hs-identifier">pprDataItem</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="CmmExpr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-507"></a><a name="pprDataItem"><a href="X86.Ppr.html#pprDataItem"><span class="hs-identifier">pprDataItem</span></a></a><span> </span><a name="local-6989586621684440747"><a href="#local-6989586621684440747"><span class="hs-identifier">lit</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithDynFlags</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440748"><a href="#local-6989586621684440748"><span class="hs-identifier">dflags</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Ppr.html#pprDataItem%27"><span class="hs-identifier hs-var">pprDataItem'</span></a><span> </span><a href="#local-6989586621684440748"><span class="hs-identifier hs-var">dflags</span></a><span> </span><a href="#local-6989586621684440747"><span class="hs-identifier hs-var">lit</span></a><span>
</span><a name="line-508"></a><span>
</span><a name="line-509"></a><span class="hs-identifier">pprDataItem'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="CmmExpr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-510"></a><a name="pprDataItem%27"><a href="X86.Ppr.html#pprDataItem%27"><span class="hs-identifier">pprDataItem'</span></a></a><span> </span><a name="local-6989586621684440749"><a href="#local-6989586621684440749"><span class="hs-identifier">dflags</span></a></a><span> </span><a name="local-6989586621684440750"><a href="#local-6989586621684440750"><span class="hs-identifier">lit</span></a></a><span>
</span><a name="line-511"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440753"><span class="hs-identifier hs-var">ppr_item</span></a><span> </span><span class="hs-special">(</span><a href="Format.html#cmmTypeFormat"><span class="hs-identifier hs-var">cmmTypeFormat</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="CmmExpr.html#cmmLitType"><span class="hs-identifier hs-var">cmmLitType</span></a><span> </span><a href="#local-6989586621684440749"><span class="hs-identifier hs-var">dflags</span></a><span> </span><a href="#local-6989586621684440750"><span class="hs-identifier hs-var">lit</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440750"><span class="hs-identifier hs-var">lit</span></a><span class="hs-special">)</span><span>
</span><a name="line-512"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-513"></a><span>        </span><a name="local-6989586621684440751"><a href="#local-6989586621684440751"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">targetPlatform</span><span> </span><a href="#local-6989586621684440749"><span class="hs-identifier hs-var">dflags</span></a><span>
</span><a name="line-514"></a><span>        </span><a name="local-6989586621684440752"><a href="#local-6989586621684440752"><span class="hs-identifier">imm</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Regs.html#litToImm"><span class="hs-identifier hs-var">litToImm</span></a><span> </span><a href="#local-6989586621684440750"><span class="hs-identifier hs-var">lit</span></a><span>
</span><a name="line-515"></a><span>
</span><a name="line-516"></a><span>        </span><span class="hs-comment">-- These seem to be common:</span><span>
</span><a name="line-517"></a><span>        </span><a name="local-6989586621684440753"><a href="#local-6989586621684440753"><span class="hs-identifier">ppr_item</span></a></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.byte\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-518"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.word\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-519"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-520"></a><span>
</span><a name="line-521"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span>  </span><span class="hs-special">(</span><a href="CmmExpr.html#CmmFloat"><span class="hs-identifier hs-var">CmmFloat</span></a><span> </span><a name="local-6989586621684440754"><a href="#local-6989586621684440754"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-522"></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621684440755"><a href="#local-6989586621684440755"><span class="hs-identifier">bs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="PprBase.html#floatToBytes"><span class="hs-identifier hs-var">floatToBytes</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromRational</span><span> </span><a href="#local-6989586621684440754"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-523"></a><span>             </span><span class="hs-keyword">in</span><span>  </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621684440756"><a href="#local-6989586621684440756"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.byte\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><a href="#local-6989586621684440756"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440755"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-524"></a><span>
</span><a name="line-525"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><span class="hs-special">(</span><a href="CmmExpr.html#CmmFloat"><span class="hs-identifier hs-var">CmmFloat</span></a><span> </span><a name="local-6989586621684440757"><a href="#local-6989586621684440757"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-526"></a><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621684440758"><a href="#local-6989586621684440758"><span class="hs-identifier">bs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="PprBase.html#doubleToBytes"><span class="hs-identifier hs-var">doubleToBytes</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromRational</span><span> </span><a href="#local-6989586621684440757"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-527"></a><span>             </span><span class="hs-keyword">in</span><span>  </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621684440759"><a href="#local-6989586621684440759"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.byte\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><a href="#local-6989586621684440759"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440758"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-528"></a><span>
</span><a name="line-529"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><a href="Format.html#II64"><span class="hs-identifier hs-var">II64</span></a><span> </span><span class="hs-identifier">_</span><span>
</span><a name="line-530"></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><a href="#local-6989586621684440751"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-531"></a><span>              </span><span class="hs-identifier hs-var">OSDarwin</span><span>
</span><a name="line-532"></a><span>               </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440751"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-533"></a><span>                  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440750"><span class="hs-identifier hs-var">lit</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-534"></a><span>                  </span><a href="CmmExpr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a><span> </span><a name="local-6989586621684440760"><a href="#local-6989586621684440760"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-535"></a><span>                      </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long\t&quot;</span><span>
</span><a name="line-536"></a><span>                          </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><a href="#local-6989586621684440760"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word32</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-537"></a><span>                       </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long\t&quot;</span><span>
</span><a name="line-538"></a><span>                          </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span>
</span><a name="line-539"></a><span>                              </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440760"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftR</span><span class="hs-special">`</span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word32</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-540"></a><span>                  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.ppr_item: no match for II64&quot;</span><span>
</span><a name="line-541"></a><span>               </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-542"></a><span>                  </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.quad\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-543"></a><span>              </span><span class="hs-identifier">_</span><span>
</span><a name="line-544"></a><span>               </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440751"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-545"></a><span>                  </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.quad\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-546"></a><span>               </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-547"></a><span>                  </span><span class="hs-comment">-- x86_64: binutils can't handle the R_X86_64_PC64</span><span>
</span><a name="line-548"></a><span>                  </span><span class="hs-comment">-- relocation type, which means we can't do</span><span>
</span><a name="line-549"></a><span>                  </span><span class="hs-comment">-- pc-relative 64-bit addresses. Fortunately we're</span><span>
</span><a name="line-550"></a><span>                  </span><span class="hs-comment">-- assuming the small memory model, in which all such</span><span>
</span><a name="line-551"></a><span>                  </span><span class="hs-comment">-- offsets will fit into 32 bits, so we have to stick</span><span>
</span><a name="line-552"></a><span>                  </span><span class="hs-comment">-- to 32-bit offset fields and modify the RTS</span><span>
</span><a name="line-553"></a><span>                  </span><span class="hs-comment">-- appropriately</span><span>
</span><a name="line-554"></a><span>                  </span><span class="hs-comment">--</span><span>
</span><a name="line-555"></a><span>                  </span><span class="hs-comment">-- See Note [x86-64-relative] in includes/rts/storage/InfoTables.h</span><span>
</span><a name="line-556"></a><span>                  </span><span class="hs-comment">--</span><span>
</span><a name="line-557"></a><span>                  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440750"><span class="hs-identifier hs-var">lit</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-558"></a><span>                  </span><span class="hs-comment">-- A relative relocation:</span><span>
</span><a name="line-559"></a><span>                  </span><a href="CmmExpr.html#CmmLabelDiffOff"><span class="hs-identifier hs-var">CmmLabelDiffOff</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-560"></a><span>                      </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">,</span><span>
</span><a name="line-561"></a><span>                       </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.long\t0&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-562"></a><span>                  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-563"></a><span>                      </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.quad\t&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440752"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">]</span><span>
</span><a name="line-564"></a><span>
</span><a name="line-565"></a><span>        </span><span class="hs-identifier">ppr_item</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>
</span><a name="line-566"></a><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.ppr_item: no match&quot;</span><span>
</span><a name="line-567"></a><span>
</span><a name="line-568"></a><span>
</span><a name="line-569"></a><span class="hs-identifier">asmComment</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-570"></a><a name="asmComment"><a href="X86.Ppr.html#asmComment"><span class="hs-identifier">asmComment</span></a></a><span> </span><a name="local-6989586621684440761"><a href="#local-6989586621684440761"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">whenPprDebug</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;# &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621684440761"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-571"></a><span>
</span><a name="line-572"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-573"></a><span>
</span><a name="line-574"></a><a name="pprInstr"><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier">pprInstr</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#COMMENT"><span class="hs-identifier hs-var">COMMENT</span></a><span> </span><a name="local-6989586621684440762"><a href="#local-6989586621684440762"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-575"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#asmComment"><span class="hs-identifier hs-var">asmComment</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ftext</span><span> </span><a href="#local-6989586621684440762"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-576"></a><span>
</span><a name="line-577"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LOCATION"><span class="hs-identifier hs-var">LOCATION</span></a><span> </span><a name="local-6989586621684440763"><a href="#local-6989586621684440763"><span class="hs-identifier">file</span></a></a><span> </span><a name="local-6989586621684440764"><a href="#local-6989586621684440764"><span class="hs-identifier">line</span></a></a><span> </span><a name="local-6989586621684440765"><a href="#local-6989586621684440765"><span class="hs-identifier">col</span></a></a><span> </span><a name="local-6989586621684440766"><a href="#local-6989586621684440766"><span class="hs-identifier">_name</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-578"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t.loc &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440763"><span class="hs-identifier hs-var">file</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440764"><span class="hs-identifier hs-var">line</span></a><span> </span><span class="hs-operator hs-var">&lt;+&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440765"><span class="hs-identifier hs-var">col</span></a><span>
</span><a name="line-579"></a><span>
</span><a name="line-580"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#DELTA"><span class="hs-identifier hs-var">DELTA</span></a><span> </span><a name="local-6989586621684440767"><a href="#local-6989586621684440767"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-581"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#asmComment"><span class="hs-identifier hs-var">asmComment</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;\tdelta = &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621684440767"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-582"></a><span>
</span><a name="line-583"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#NEWBLOCK"><span class="hs-identifier hs-var">NEWBLOCK</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-584"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;PprMach.pprInstr: NEWBLOCK&quot;</span><span>
</span><a name="line-585"></a><span>
</span><a name="line-586"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#UNWIND"><span class="hs-identifier hs-var">UNWIND</span></a><span> </span><a name="local-6989586621684440768"><a href="#local-6989586621684440768"><span class="hs-identifier">lbl</span></a></a><span> </span><a name="local-6989586621684440769"><a href="#local-6989586621684440769"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-587"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#asmComment"><span class="hs-identifier hs-var">asmComment</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tunwind = &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440769"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-588"></a><span>     </span><span class="hs-operator hs-var">$$</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440768"><span class="hs-identifier hs-var">lbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">colon</span><span>
</span><a name="line-589"></a><span>
</span><a name="line-590"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LDATA"><span class="hs-identifier hs-var">LDATA</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-591"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;PprMach.pprInstr: LDATA&quot;</span><span>
</span><a name="line-592"></a><span>
</span><a name="line-593"></a><span class="hs-comment">{-
pprInstr (SPILL reg slot)
   = hcat [
        text &quot;\tSPILL&quot;,
        char ' ',
        pprUserReg reg,
        comma,
        text &quot;SLOT&quot; &lt;&gt; parens (int slot)]

pprInstr (RELOAD slot reg)
   = hcat [
        text &quot;\tRELOAD&quot;,
        char ' ',
        text &quot;SLOT&quot; &lt;&gt; parens (int slot),
        comma,
        pprUserReg reg]
-}</span><span>
</span><a name="line-610"></a><span>
</span><a name="line-611"></a><span class="hs-comment">-- Replace 'mov $0x0,%reg' by 'xor %reg,%reg', which is smaller and cheaper.</span><span>
</span><a name="line-612"></a><span class="hs-comment">-- The code generator catches most of these already, but not all.</span><span>
</span><a name="line-613"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MOV"><span class="hs-identifier hs-var">MOV</span></a><span> </span><a name="local-6989586621684440770"><a href="#local-6989586621684440770"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440771"><a href="#local-6989586621684440771"><span class="hs-identifier">dst</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-614"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#XOR"><span class="hs-identifier hs-var">XOR</span></a><span> </span><a href="#local-6989586621684440772"><span class="hs-identifier hs-var">format'</span></a><span> </span><a href="#local-6989586621684440771"><span class="hs-identifier hs-var">dst</span></a><span> </span><a href="#local-6989586621684440771"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-615"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621684440772"><a href="#local-6989586621684440772"><span class="hs-identifier">format'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440770"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-616"></a><span>          </span><a href="Format.html#II64"><span class="hs-identifier hs-var">II64</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span>          </span><span class="hs-comment">-- 32-bit version is equivalent, and smaller</span><span>
</span><a name="line-617"></a><span>          </span><span class="hs-identifier">_</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440770"><span class="hs-identifier hs-var">format</span></a><span>
</span><a name="line-618"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MOV"><span class="hs-identifier hs-var">MOV</span></a><span> </span><a name="local-6989586621684440773"><a href="#local-6989586621684440773"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440774"><a href="#local-6989586621684440774"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440775"><a href="#local-6989586621684440775"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-619"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;mov&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440773"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440774"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440775"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-620"></a><span>
</span><a name="line-621"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CMOV"><span class="hs-identifier hs-var">CMOV</span></a><span> </span><a name="local-6989586621684440776"><a href="#local-6989586621684440776"><span class="hs-identifier">cc</span></a></a><span> </span><a name="local-6989586621684440777"><a href="#local-6989586621684440777"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440778"><a href="#local-6989586621684440778"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440779"><a href="#local-6989586621684440779"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-622"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprCondOpReg"><span class="hs-identifier hs-var">pprCondOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cmov&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440777"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440776"><span class="hs-identifier hs-var">cc</span></a><span> </span><a href="#local-6989586621684440778"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440779"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-623"></a><span>
</span><a name="line-624"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MOVZxL"><span class="hs-identifier hs-var">MOVZxL</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a name="local-6989586621684440780"><a href="#local-6989586621684440780"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440781"><a href="#local-6989586621684440781"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;mov&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440780"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440781"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-625"></a><span>        </span><span class="hs-comment">-- 32-to-64 bit zero extension on x86_64 is accomplished by a simple</span><span>
</span><a name="line-626"></a><span>        </span><span class="hs-comment">-- movl.  But we represent it as a MOVZxL instruction, because</span><span>
</span><a name="line-627"></a><span>        </span><span class="hs-comment">-- the reg alloc would tend to throw away a plain reg-to-reg</span><span>
</span><a name="line-628"></a><span>        </span><span class="hs-comment">-- move, and we still want it to do that.</span><span>
</span><a name="line-629"></a><span>
</span><a name="line-630"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MOVZxL"><span class="hs-identifier hs-var">MOVZxL</span></a><span> </span><a name="local-6989586621684440782"><a href="#local-6989586621684440782"><span class="hs-identifier">formats</span></a></a><span> </span><a name="local-6989586621684440783"><a href="#local-6989586621684440783"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440784"><a href="#local-6989586621684440784"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-631"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOpCoerce"><span class="hs-identifier hs-var">pprFormatOpOpCoerce</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;movz&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440782"><span class="hs-identifier hs-var">formats</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440783"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440784"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-632"></a><span>        </span><span class="hs-comment">-- zero-extension only needs to extend to 32 bits: on x86_64,</span><span>
</span><a name="line-633"></a><span>        </span><span class="hs-comment">-- the remaining zero-extension to 64 bits is automatic, and the 32-bit</span><span>
</span><a name="line-634"></a><span>        </span><span class="hs-comment">-- instruction is shorter.</span><span>
</span><a name="line-635"></a><span>
</span><a name="line-636"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MOVSxL"><span class="hs-identifier hs-var">MOVSxL</span></a><span> </span><a name="local-6989586621684440785"><a href="#local-6989586621684440785"><span class="hs-identifier">formats</span></a></a><span> </span><a name="local-6989586621684440786"><a href="#local-6989586621684440786"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440787"><a href="#local-6989586621684440787"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-637"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440788"><a href="#local-6989586621684440788"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-638"></a><span>    </span><a href="X86.Ppr.html#pprFormatOpOpCoerce"><span class="hs-identifier hs-var">pprFormatOpOpCoerce</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;movs&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440785"><span class="hs-identifier hs-var">formats</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440788"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440786"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440787"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-639"></a><span>
</span><a name="line-640"></a><span class="hs-comment">-- here we do some patching, since the physical registers are only set late</span><span>
</span><a name="line-641"></a><span class="hs-comment">-- in the code generation.</span><span>
</span><a name="line-642"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LEA"><span class="hs-identifier hs-var">LEA</span></a><span> </span><a name="local-6989586621684440789"><a href="#local-6989586621684440789"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpAddr"><span class="hs-identifier hs-var">OpAddr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#AddrBaseIndex"><span class="hs-identifier hs-var">AddrBaseIndex</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseReg"><span class="hs-identifier hs-var">EABaseReg</span></a><span> </span><a name="local-6989586621684440790"><a href="#local-6989586621684440790"><span class="hs-identifier">reg1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#EAIndex"><span class="hs-identifier hs-var">EAIndex</span></a><span> </span><a name="local-6989586621684440791"><a href="#local-6989586621684440791"><span class="hs-identifier">reg2</span></a></a><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440792"><a href="#local-6989586621684440792"><span class="hs-identifier">dst</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a name="local-6989586621684440793"><a href="#local-6989586621684440793"><span class="hs-identifier">reg3</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-643"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684440790"><span class="hs-identifier hs-var">reg1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684440793"><span class="hs-identifier hs-var">reg3</span></a><span>
</span><a name="line-644"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;add&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440789"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440791"><span class="hs-identifier hs-var">reg2</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440792"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-645"></a><span>
</span><a name="line-646"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LEA"><span class="hs-identifier hs-var">LEA</span></a><span> </span><a name="local-6989586621684440794"><a href="#local-6989586621684440794"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpAddr"><span class="hs-identifier hs-var">OpAddr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#AddrBaseIndex"><span class="hs-identifier hs-var">AddrBaseIndex</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseReg"><span class="hs-identifier hs-var">EABaseReg</span></a><span> </span><a name="local-6989586621684440795"><a href="#local-6989586621684440795"><span class="hs-identifier">reg1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#EAIndex"><span class="hs-identifier hs-var">EAIndex</span></a><span> </span><a name="local-6989586621684440796"><a href="#local-6989586621684440796"><span class="hs-identifier">reg2</span></a></a><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440797"><a href="#local-6989586621684440797"><span class="hs-identifier">dst</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a name="local-6989586621684440798"><a href="#local-6989586621684440798"><span class="hs-identifier">reg3</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-647"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684440796"><span class="hs-identifier hs-var">reg2</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684440798"><span class="hs-identifier hs-var">reg3</span></a><span>
</span><a name="line-648"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;add&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440794"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440795"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440797"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-649"></a><span>
</span><a name="line-650"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LEA"><span class="hs-identifier hs-var">LEA</span></a><span> </span><a name="local-6989586621684440799"><a href="#local-6989586621684440799"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpAddr"><span class="hs-identifier hs-var">OpAddr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#AddrBaseIndex"><span class="hs-identifier hs-var">AddrBaseIndex</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#EABaseReg"><span class="hs-identifier hs-var">EABaseReg</span></a><span> </span><a name="local-6989586621684440800"><a href="#local-6989586621684440800"><span class="hs-identifier">reg1</span></a></a><span class="hs-special">)</span><span> </span><a href="X86.Regs.html#EAIndexNone"><span class="hs-identifier hs-var">EAIndexNone</span></a><span> </span><a name="local-6989586621684440801"><a href="#local-6989586621684440801"><span class="hs-identifier">displ</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440802"><a href="#local-6989586621684440802"><span class="hs-identifier">dst</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a name="local-6989586621684440803"><a href="#local-6989586621684440803"><span class="hs-identifier">reg3</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-651"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684440800"><span class="hs-identifier hs-var">reg1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684440803"><span class="hs-identifier hs-var">reg3</span></a><span>
</span><a name="line-652"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADD"><span class="hs-identifier hs-var">ADD</span></a><span> </span><a href="#local-6989586621684440799"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><a href="#local-6989586621684440801"><span class="hs-identifier hs-var">displ</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440802"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-653"></a><span>
</span><a name="line-654"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LEA"><span class="hs-identifier hs-var">LEA</span></a><span> </span><a name="local-6989586621684440804"><a href="#local-6989586621684440804"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440805"><a href="#local-6989586621684440805"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440806"><a href="#local-6989586621684440806"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;lea&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440804"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440805"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440806"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-655"></a><span>
</span><a name="line-656"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADD"><span class="hs-identifier hs-var">ADD</span></a><span> </span><a name="local-6989586621684440807"><a href="#local-6989586621684440807"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440808"><a href="#local-6989586621684440808"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-657"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;dec&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440807"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440808"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-658"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADD"><span class="hs-identifier hs-var">ADD</span></a><span> </span><a name="local-6989586621684440809"><a href="#local-6989586621684440809"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInt"><span class="hs-identifier hs-var">ImmInt</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440810"><a href="#local-6989586621684440810"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-659"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;inc&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440809"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440810"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-660"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADD"><span class="hs-identifier hs-var">ADD</span></a><span> </span><a name="local-6989586621684440811"><a href="#local-6989586621684440811"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440812"><a href="#local-6989586621684440812"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440813"><a href="#local-6989586621684440813"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;add&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440811"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440812"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440813"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-661"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADC"><span class="hs-identifier hs-var">ADC</span></a><span> </span><a name="local-6989586621684440814"><a href="#local-6989586621684440814"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440815"><a href="#local-6989586621684440815"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440816"><a href="#local-6989586621684440816"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;adc&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440814"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440815"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440816"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-662"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SUB"><span class="hs-identifier hs-var">SUB</span></a><span> </span><a name="local-6989586621684440817"><a href="#local-6989586621684440817"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440818"><a href="#local-6989586621684440818"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440819"><a href="#local-6989586621684440819"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sub&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440817"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440818"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440819"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-663"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SBB"><span class="hs-identifier hs-var">SBB</span></a><span> </span><a name="local-6989586621684440820"><a href="#local-6989586621684440820"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440821"><a href="#local-6989586621684440821"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440822"><a href="#local-6989586621684440822"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sbb&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440820"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440821"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440822"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-664"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#IMUL"><span class="hs-identifier hs-var">IMUL</span></a><span> </span><a name="local-6989586621684440823"><a href="#local-6989586621684440823"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440824"><a href="#local-6989586621684440824"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684440825"><a href="#local-6989586621684440825"><span class="hs-identifier">op2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;imul&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440823"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440824"><span class="hs-identifier hs-var">op1</span></a><span> </span><a href="#local-6989586621684440825"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-665"></a><span>
</span><a name="line-666"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#ADD_CC"><span class="hs-identifier hs-var">ADD_CC</span></a><span> </span><a name="local-6989586621684440826"><a href="#local-6989586621684440826"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440827"><a href="#local-6989586621684440827"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440828"><a href="#local-6989586621684440828"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-667"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;add&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440826"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440827"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440828"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-668"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SUB_CC"><span class="hs-identifier hs-var">SUB_CC</span></a><span> </span><a name="local-6989586621684440829"><a href="#local-6989586621684440829"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440830"><a href="#local-6989586621684440830"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440831"><a href="#local-6989586621684440831"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-669"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sub&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440829"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440830"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440831"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-670"></a><span>
</span><a name="line-671"></a><span class="hs-comment">{- A hack.  The Intel documentation says that &quot;The two and three
   operand forms [of IMUL] may also be used with unsigned operands
   because the lower half of the product is the same regardless if
   (sic) the operands are signed or unsigned.  The CF and OF flags,
   however, cannot be used to determine if the upper half of the
   result is non-zero.&quot;  So there.
-}</span><span>
</span><a name="line-678"></a><span>
</span><a name="line-679"></a><span class="hs-comment">-- Use a 32-bit instruction when possible as it saves a byte.</span><span>
</span><a name="line-680"></a><span class="hs-comment">-- Notably, extracting the tag bits of a pointer has this form.</span><span>
</span><a name="line-681"></a><span class="hs-comment">-- TODO: we could save a byte in a subsequent CMP instruction too,</span><span>
</span><a name="line-682"></a><span class="hs-comment">-- but need something like a peephole pass for this</span><span>
</span><a name="line-683"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><a href="Format.html#II64"><span class="hs-identifier hs-var">II64</span></a><span> </span><a name="local-6989586621684440832"><a href="#local-6989586621684440832"><span class="hs-identifier">src</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInteger"><span class="hs-identifier hs-var">ImmInteger</span></a><span> </span><a name="local-6989586621684440833"><a href="#local-6989586621684440833"><span class="hs-identifier">mask</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621684440834"><a href="#local-6989586621684440834"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-684"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><a href="#local-6989586621684440833"><span class="hs-identifier hs-var">mask</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440833"><span class="hs-identifier hs-var">mask</span></a><span> </span><span class="hs-operator hs-var">&lt;</span><span> </span><span class="hs-number">0xffffffff</span><span>
</span><a name="line-685"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440832"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440834"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-686"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a name="local-6989586621684440835"><a href="#local-6989586621684440835"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440836"><a href="#local-6989586621684440836"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;andps&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="#local-6989586621684440835"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440836"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-687"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a name="local-6989586621684440837"><a href="#local-6989586621684440837"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440838"><a href="#local-6989586621684440838"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;andpd&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684440837"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440838"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-688"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><a name="local-6989586621684440839"><a href="#local-6989586621684440839"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440840"><a href="#local-6989586621684440840"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440841"><a href="#local-6989586621684440841"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;and&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440839"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440840"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440841"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-689"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OR"><span class="hs-identifier hs-var">OR</span></a><span>  </span><a name="local-6989586621684440842"><a href="#local-6989586621684440842"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440843"><a href="#local-6989586621684440843"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440844"><a href="#local-6989586621684440844"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;or&quot;</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621684440842"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440843"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440844"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-690"></a><span>
</span><a name="line-691"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#XOR"><span class="hs-identifier hs-var">XOR</span></a><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a name="local-6989586621684440845"><a href="#local-6989586621684440845"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440846"><a href="#local-6989586621684440846"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;xorps&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="#local-6989586621684440845"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440846"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-692"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#XOR"><span class="hs-identifier hs-var">XOR</span></a><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a name="local-6989586621684440847"><a href="#local-6989586621684440847"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440848"><a href="#local-6989586621684440848"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;xorpd&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684440847"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440848"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-693"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#XOR"><span class="hs-identifier hs-var">XOR</span></a><span> </span><a name="local-6989586621684440849"><a href="#local-6989586621684440849"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440850"><a href="#local-6989586621684440850"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440851"><a href="#local-6989586621684440851"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;xor&quot;</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621684440849"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440850"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440851"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-694"></a><span>
</span><a name="line-695"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#POPCNT"><span class="hs-identifier hs-var">POPCNT</span></a><span> </span><a name="local-6989586621684440852"><a href="#local-6989586621684440852"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440853"><a href="#local-6989586621684440853"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440854"><a href="#local-6989586621684440854"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;popcnt&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440852"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440853"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440854"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-696"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#BSF"><span class="hs-identifier hs-var">BSF</span></a><span> </span><a name="local-6989586621684440855"><a href="#local-6989586621684440855"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440856"><a href="#local-6989586621684440856"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440857"><a href="#local-6989586621684440857"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;bsf&quot;</span><span class="hs-special">)</span><span>    </span><a href="#local-6989586621684440855"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440856"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440857"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-697"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#BSR"><span class="hs-identifier hs-var">BSR</span></a><span> </span><a name="local-6989586621684440858"><a href="#local-6989586621684440858"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440859"><a href="#local-6989586621684440859"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440860"><a href="#local-6989586621684440860"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier hs-var">pprOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;bsr&quot;</span><span class="hs-special">)</span><span>    </span><a href="#local-6989586621684440858"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440859"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440860"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-698"></a><span>
</span><a name="line-699"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PDEP"><span class="hs-identifier hs-var">PDEP</span></a><span> </span><a name="local-6989586621684440861"><a href="#local-6989586621684440861"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440862"><a href="#local-6989586621684440862"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440863"><a href="#local-6989586621684440863"><span class="hs-identifier">mask</span></a></a><span> </span><a name="local-6989586621684440864"><a href="#local-6989586621684440864"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOpReg"><span class="hs-identifier hs-var">pprFormatOpOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;pdep&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440861"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440862"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440863"><span class="hs-identifier hs-var">mask</span></a><span> </span><a href="#local-6989586621684440864"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-700"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PEXT"><span class="hs-identifier hs-var">PEXT</span></a><span> </span><a name="local-6989586621684440865"><a href="#local-6989586621684440865"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440866"><a href="#local-6989586621684440866"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440867"><a href="#local-6989586621684440867"><span class="hs-identifier">mask</span></a></a><span> </span><a name="local-6989586621684440868"><a href="#local-6989586621684440868"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOpReg"><span class="hs-identifier hs-var">pprFormatOpOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;pext&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440865"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440866"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440867"><span class="hs-identifier hs-var">mask</span></a><span> </span><a href="#local-6989586621684440868"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-701"></a><span>
</span><a name="line-702"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PREFETCH"><span class="hs-identifier hs-var">PREFETCH</span></a><span> </span><a href="X86.Instr.html#NTA"><span class="hs-identifier hs-var">NTA</span></a><span> </span><a name="local-6989586621684440869"><a href="#local-6989586621684440869"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440870"><a href="#local-6989586621684440870"><span class="hs-identifier">src</span></a></a><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp_"><span class="hs-identifier hs-var">pprFormatOp_</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;prefetchnta&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440869"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440870"><span class="hs-identifier hs-var">src</span></a><span>
</span><a name="line-703"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PREFETCH"><span class="hs-identifier hs-var">PREFETCH</span></a><span> </span><a href="X86.Instr.html#Lvl0"><span class="hs-identifier hs-var">Lvl0</span></a><span> </span><a name="local-6989586621684440871"><a href="#local-6989586621684440871"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440872"><a href="#local-6989586621684440872"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp_"><span class="hs-identifier hs-var">pprFormatOp_</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;prefetcht0&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440871"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440872"><span class="hs-identifier hs-var">src</span></a><span>
</span><a name="line-704"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PREFETCH"><span class="hs-identifier hs-var">PREFETCH</span></a><span> </span><a href="X86.Instr.html#Lvl1"><span class="hs-identifier hs-var">Lvl1</span></a><span> </span><a name="local-6989586621684440873"><a href="#local-6989586621684440873"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440874"><a href="#local-6989586621684440874"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp_"><span class="hs-identifier hs-var">pprFormatOp_</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;prefetcht1&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440873"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440874"><span class="hs-identifier hs-var">src</span></a><span>
</span><a name="line-705"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PREFETCH"><span class="hs-identifier hs-var">PREFETCH</span></a><span> </span><a href="X86.Instr.html#Lvl2"><span class="hs-identifier hs-var">Lvl2</span></a><span> </span><a name="local-6989586621684440875"><a href="#local-6989586621684440875"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440876"><a href="#local-6989586621684440876"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp_"><span class="hs-identifier hs-var">pprFormatOp_</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;prefetcht2&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440875"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440876"><span class="hs-identifier hs-var">src</span></a><span>
</span><a name="line-706"></a><span>
</span><a name="line-707"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#NOT"><span class="hs-identifier hs-var">NOT</span></a><span> </span><a name="local-6989586621684440877"><a href="#local-6989586621684440877"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440878"><a href="#local-6989586621684440878"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;not&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440877"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440878"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-708"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#BSWAP"><span class="hs-identifier hs-var">BSWAP</span></a><span> </span><a name="local-6989586621684440879"><a href="#local-6989586621684440879"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440880"><a href="#local-6989586621684440880"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;bswap&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440879"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a href="#local-6989586621684440880"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span>
</span><a name="line-709"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#NEGI"><span class="hs-identifier hs-var">NEGI</span></a><span> </span><a name="local-6989586621684440881"><a href="#local-6989586621684440881"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440882"><a href="#local-6989586621684440882"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;neg&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440881"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440882"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-710"></a><span>
</span><a name="line-711"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SHL"><span class="hs-identifier hs-var">SHL</span></a><span> </span><a name="local-6989586621684440883"><a href="#local-6989586621684440883"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440884"><a href="#local-6989586621684440884"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440885"><a href="#local-6989586621684440885"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprShift"><span class="hs-identifier hs-var">pprShift</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;shl&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440883"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440884"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440885"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-712"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SAR"><span class="hs-identifier hs-var">SAR</span></a><span> </span><a name="local-6989586621684440886"><a href="#local-6989586621684440886"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440887"><a href="#local-6989586621684440887"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440888"><a href="#local-6989586621684440888"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprShift"><span class="hs-identifier hs-var">pprShift</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sar&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440886"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440887"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440888"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-713"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SHR"><span class="hs-identifier hs-var">SHR</span></a><span> </span><a name="local-6989586621684440889"><a href="#local-6989586621684440889"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440890"><a href="#local-6989586621684440890"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440891"><a href="#local-6989586621684440891"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprShift"><span class="hs-identifier hs-var">pprShift</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;shr&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440889"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440890"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440891"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-714"></a><span>
</span><a name="line-715"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#BT"><span class="hs-identifier hs-var">BT</span></a><span>  </span><a name="local-6989586621684440892"><a href="#local-6989586621684440892"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440893"><a href="#local-6989586621684440893"><span class="hs-identifier">imm</span></a></a><span> </span><a name="local-6989586621684440894"><a href="#local-6989586621684440894"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatImmOp"><span class="hs-identifier hs-var">pprFormatImmOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;bt&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440892"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440893"><span class="hs-identifier hs-var">imm</span></a><span> </span><a href="#local-6989586621684440894"><span class="hs-identifier hs-var">src</span></a><span>
</span><a name="line-716"></a><span>
</span><a name="line-717"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CMP"><span class="hs-identifier hs-var">CMP</span></a><span> </span><a name="local-6989586621684440895"><a href="#local-6989586621684440895"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440896"><a href="#local-6989586621684440896"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440897"><a href="#local-6989586621684440897"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-718"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="Format.html#isFloatFormat"><span class="hs-identifier hs-var">isFloatFormat</span></a><span> </span><a href="#local-6989586621684440895"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;ucomi&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440895"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440896"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440897"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-comment">-- SSE2</span><span>
</span><a name="line-719"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>     </span><span class="hs-glyph">=</span><span>  </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cmp&quot;</span><span class="hs-special">)</span><span>   </span><a href="#local-6989586621684440895"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440896"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440897"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-720"></a><span>
</span><a name="line-721"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#TEST"><span class="hs-identifier hs-var">TEST</span></a><span> </span><a name="local-6989586621684440898"><a href="#local-6989586621684440898"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440899"><a href="#local-6989586621684440899"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440900"><a href="#local-6989586621684440900"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440904"><a href="#local-6989586621684440904"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-722"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621684440905"><a href="#local-6989586621684440905"><span class="hs-identifier">format'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440899"><span class="hs-identifier hs-var">src</span></a><span class="hs-special">,</span><a href="#local-6989586621684440900"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-723"></a><span>        </span><span class="hs-comment">-- Match instructions like 'test $0x3,%esi' or 'test $0x7,%rbx'.</span><span>
</span><a name="line-724"></a><span>        </span><span class="hs-comment">-- We can replace them by equivalent, but smaller instructions</span><span>
</span><a name="line-725"></a><span>        </span><span class="hs-comment">-- by reducing the size of the immediate operand as far as possible.</span><span>
</span><a name="line-726"></a><span>        </span><span class="hs-comment">-- (We could handle masks larger than a single byte too,</span><span>
</span><a name="line-727"></a><span>        </span><span class="hs-comment">-- but it would complicate the code considerably</span><span>
</span><a name="line-728"></a><span>        </span><span class="hs-comment">-- and tag checks are by far the most common case.)</span><span>
</span><a name="line-729"></a><span>        </span><span class="hs-comment">-- The mask must have the high bit clear for this smaller encoding</span><span>
</span><a name="line-730"></a><span>        </span><span class="hs-comment">-- to be completely equivalent to the original; in particular so</span><span>
</span><a name="line-731"></a><span>        </span><span class="hs-comment">-- that the signed comparison condition bits are the same as they</span><span>
</span><a name="line-732"></a><span>        </span><span class="hs-comment">-- would be if doing a full word comparison. See Trac #13425.</span><span>
</span><a name="line-733"></a><span>        </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><span class="hs-special">(</span><a href="X86.Regs.html#ImmInteger"><span class="hs-identifier hs-var">ImmInteger</span></a><span> </span><a name="local-6989586621684440906"><a href="#local-6989586621684440906"><span class="hs-identifier">mask</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a name="local-6989586621684440907"><a href="#local-6989586621684440907"><span class="hs-identifier">dstReg</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-734"></a><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><a href="#local-6989586621684440906"><span class="hs-identifier hs-var">mask</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440906"><span class="hs-identifier hs-var">mask</span></a><span> </span><span class="hs-operator hs-var">&lt;</span><span> </span><span class="hs-number">128</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440901"><span class="hs-identifier hs-var">minSizeOfReg</span></a><span> </span><a href="#local-6989586621684440904"><span class="hs-identifier hs-var">platform</span></a><span> </span><a href="#local-6989586621684440907"><span class="hs-identifier hs-var">dstReg</span></a><span>
</span><a name="line-735"></a><span>        </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621684440898"><span class="hs-identifier hs-var">format</span></a><span>
</span><a name="line-736"></a><span>  </span><span class="hs-keyword">in</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;test&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440905"><span class="hs-identifier hs-var">format'</span></a><span> </span><a href="#local-6989586621684440899"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440900"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-737"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-738"></a><span>    </span><a name="local-6989586621684440901"><a href="#local-6989586621684440901"><span class="hs-identifier">minSizeOfReg</span></a></a><span> </span><a name="local-6989586621684440902"><a href="#local-6989586621684440902"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-special">(</span><a href="Reg.html#RegReal"><span class="hs-identifier hs-var">RegReal</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#RealRegSingle"><span class="hs-identifier hs-var">RealRegSingle</span></a><span> </span><a name="local-6989586621684440903"><a href="#local-6989586621684440903"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-739"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440902"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440903"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><span class="hs-number">3</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>  </span><span class="hs-comment">-- al, bl, cl, dl</span><span>
</span><a name="line-740"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440902"><span class="hs-identifier hs-var">platform</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440903"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><span class="hs-number">7</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span> </span><span class="hs-comment">-- si, di, bp, sp</span><span>
</span><a name="line-741"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440902"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440903"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><span class="hs-number">15</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span>  </span><span class="hs-comment">-- al .. r15b</span><span>
</span><a name="line-742"></a><span>    </span><span class="hs-identifier">minSizeOfReg</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684440898"><span class="hs-identifier hs-var">format</span></a><span>                 </span><span class="hs-comment">-- other</span><span>
</span><a name="line-743"></a><span>
</span><a name="line-744"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#PUSH"><span class="hs-identifier hs-var">PUSH</span></a><span> </span><a name="local-6989586621684440908"><a href="#local-6989586621684440908"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440909"><a href="#local-6989586621684440909"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;push&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440908"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440909"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-745"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#POP"><span class="hs-identifier hs-var">POP</span></a><span> </span><a name="local-6989586621684440910"><a href="#local-6989586621684440910"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440911"><a href="#local-6989586621684440911"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;pop&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440910"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440911"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-746"></a><span>
</span><a name="line-747"></a><span class="hs-comment">-- both unused (SDM):</span><span>
</span><a name="line-748"></a><span class="hs-comment">-- pprInstr PUSHA = text &quot;\tpushal&quot;</span><span>
</span><a name="line-749"></a><span class="hs-comment">-- pprInstr POPA = text &quot;\tpopal&quot;</span><span>
</span><a name="line-750"></a><span>
</span><a name="line-751"></a><span class="hs-identifier">pprInstr</span><span> </span><a href="X86.Instr.html#NOP"><span class="hs-identifier hs-var">NOP</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tnop&quot;</span><span>
</span><a name="line-752"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CLTD"><span class="hs-identifier hs-var">CLTD</span></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcbtw&quot;</span><span>
</span><a name="line-753"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CLTD"><span class="hs-identifier hs-var">CLTD</span></a><span> </span><a href="Format.html#II16"><span class="hs-identifier hs-var">II16</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcwtd&quot;</span><span>
</span><a name="line-754"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CLTD"><span class="hs-identifier hs-var">CLTD</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcltd&quot;</span><span>
</span><a name="line-755"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CLTD"><span class="hs-identifier hs-var">CLTD</span></a><span> </span><a href="Format.html#II64"><span class="hs-identifier hs-var">II64</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcqto&quot;</span><span>
</span><a name="line-756"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CLTD"><span class="hs-identifier hs-var">CLTD</span></a><span> </span><a name="local-6989586621684440912"><a href="#local-6989586621684440912"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-string">&quot;pprInstr: &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621684440912"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-757"></a><span>
</span><a name="line-758"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SETCC"><span class="hs-identifier hs-var">SETCC</span></a><span> </span><a name="local-6989586621684440913"><a href="#local-6989586621684440913"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684440914"><a href="#local-6989586621684440914"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprCondInstr"><span class="hs-identifier hs-var">pprCondInstr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;set&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440913"><span class="hs-identifier hs-var">cond</span></a><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span> </span><a href="#local-6989586621684440914"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span>
</span><a name="line-759"></a><span>
</span><a name="line-760"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#JXX"><span class="hs-identifier hs-var">JXX</span></a><span> </span><a name="local-6989586621684440915"><a href="#local-6989586621684440915"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684440916"><a href="#local-6989586621684440916"><span class="hs-identifier">blockid</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-761"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprCondInstr"><span class="hs-identifier hs-var">pprCondInstr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;j&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440915"><span class="hs-identifier hs-var">cond</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684440917"><span class="hs-identifier hs-var">lab</span></a><span class="hs-special">)</span><span>
</span><a name="line-762"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621684440917"><a href="#local-6989586621684440917"><span class="hs-identifier">lab</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BlockId.html#blockLbl"><span class="hs-identifier hs-var">blockLbl</span></a><span> </span><a href="#local-6989586621684440916"><span class="hs-identifier hs-var">blockid</span></a><span>
</span><a name="line-763"></a><span>
</span><a name="line-764"></a><span class="hs-identifier">pprInstr</span><span>        </span><span class="hs-special">(</span><a href="X86.Instr.html#JXX_GBL"><span class="hs-identifier hs-var">JXX_GBL</span></a><span> </span><a name="local-6989586621684440918"><a href="#local-6989586621684440918"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684440919"><a href="#local-6989586621684440919"><span class="hs-identifier">imm</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprCondInstr"><span class="hs-identifier hs-var">pprCondInstr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;j&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440918"><span class="hs-identifier hs-var">cond</span></a><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440919"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">)</span><span>
</span><a name="line-765"></a><span>
</span><a name="line-766"></a><span class="hs-identifier">pprInstr</span><span>        </span><span class="hs-special">(</span><a href="X86.Instr.html#JMP"><span class="hs-identifier hs-var">JMP</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><a name="local-6989586621684440920"><a href="#local-6989586621684440920"><span class="hs-identifier">imm</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tjmp &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440920"><span class="hs-identifier hs-var">imm</span></a><span>
</span><a name="line-767"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#JMP"><span class="hs-identifier hs-var">JMP</span></a><span> </span><a name="local-6989586621684440921"><a href="#local-6989586621684440921"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440922"><a href="#local-6989586621684440922"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-768"></a><span>                               </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tjmp *&quot;</span><span>
</span><a name="line-769"></a><span>                                   </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440922"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440921"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-770"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#JMP_TBL"><span class="hs-identifier hs-var">JMP_TBL</span></a><span> </span><a name="local-6989586621684440923"><a href="#local-6989586621684440923"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#JMP"><span class="hs-identifier hs-var">JMP</span></a><span> </span><a href="#local-6989586621684440923"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-771"></a><span class="hs-identifier">pprInstr</span><span>        </span><span class="hs-special">(</span><a href="X86.Instr.html#CALL"><span class="hs-identifier hs-var">CALL</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621684440924"><a href="#local-6989586621684440924"><span class="hs-identifier">imm</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcall &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684440924"><span class="hs-identifier hs-var">imm</span></a><span>
</span><a name="line-772"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CALL"><span class="hs-identifier hs-var">CALL</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621684440925"><a href="#local-6989586621684440925"><span class="hs-identifier">reg</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684440926"><a href="#local-6989586621684440926"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-773"></a><span>                                  </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcall *&quot;</span><span>
</span><a name="line-774"></a><span>                                      </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684440926"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440925"><span class="hs-identifier hs-var">reg</span></a><span>
</span><a name="line-775"></a><span>
</span><a name="line-776"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#IDIV"><span class="hs-identifier hs-var">IDIV</span></a><span> </span><a name="local-6989586621684440927"><a href="#local-6989586621684440927"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440928"><a href="#local-6989586621684440928"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;idiv&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440927"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440928"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-777"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#DIV"><span class="hs-identifier hs-var">DIV</span></a><span> </span><a name="local-6989586621684440929"><a href="#local-6989586621684440929"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440930"><a href="#local-6989586621684440930"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;div&quot;</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621684440929"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440930"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-778"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#IMUL2"><span class="hs-identifier hs-var">IMUL2</span></a><span> </span><a name="local-6989586621684440931"><a href="#local-6989586621684440931"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440932"><a href="#local-6989586621684440932"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;imul&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440931"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440932"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-779"></a><span>
</span><a name="line-780"></a><span class="hs-comment">-- x86_64 only</span><span>
</span><a name="line-781"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MUL"><span class="hs-identifier hs-var">MUL</span></a><span> </span><a name="local-6989586621684440933"><a href="#local-6989586621684440933"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440934"><a href="#local-6989586621684440934"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684440935"><a href="#local-6989586621684440935"><span class="hs-identifier">op2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;mul&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440933"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440934"><span class="hs-identifier hs-var">op1</span></a><span> </span><a href="#local-6989586621684440935"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-782"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#MUL2"><span class="hs-identifier hs-var">MUL2</span></a><span> </span><a name="local-6989586621684440936"><a href="#local-6989586621684440936"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440937"><a href="#local-6989586621684440937"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier hs-var">pprFormatOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;mul&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440936"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440937"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-783"></a><span>
</span><a name="line-784"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#FDIV"><span class="hs-identifier hs-var">FDIV</span></a><span> </span><a name="local-6989586621684440938"><a href="#local-6989586621684440938"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440939"><a href="#local-6989586621684440939"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684440940"><a href="#local-6989586621684440940"><span class="hs-identifier">op2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;div&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440938"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440939"><span class="hs-identifier hs-var">op1</span></a><span> </span><a href="#local-6989586621684440940"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-785"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#SQRT"><span class="hs-identifier hs-var">SQRT</span></a><span> </span><a name="local-6989586621684440941"><a href="#local-6989586621684440941"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684440942"><a href="#local-6989586621684440942"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684440943"><a href="#local-6989586621684440943"><span class="hs-identifier">op2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpReg"><span class="hs-identifier hs-var">pprFormatOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;sqrt&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440941"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684440942"><span class="hs-identifier hs-var">op1</span></a><span> </span><a href="#local-6989586621684440943"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-786"></a><span>
</span><a name="line-787"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTSS2SD"><span class="hs-identifier hs-var">CVTSS2SD</span></a><span> </span><a name="local-6989586621684440944"><a href="#local-6989586621684440944"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440945"><a href="#local-6989586621684440945"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprRegReg"><span class="hs-identifier hs-var">pprRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvtss2sd&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440944"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440945"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-788"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTSD2SS"><span class="hs-identifier hs-var">CVTSD2SS</span></a><span> </span><a name="local-6989586621684440946"><a href="#local-6989586621684440946"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440947"><a href="#local-6989586621684440947"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprRegReg"><span class="hs-identifier hs-var">pprRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvtsd2ss&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440946"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440947"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-789"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTTSS2SIQ"><span class="hs-identifier hs-var">CVTTSS2SIQ</span></a><span> </span><a name="local-6989586621684440948"><a href="#local-6989586621684440948"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440949"><a href="#local-6989586621684440949"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440950"><a href="#local-6989586621684440950"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatOpReg"><span class="hs-identifier hs-var">pprFormatFormatOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvttss2si&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="#local-6989586621684440948"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440949"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440950"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-790"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTTSD2SIQ"><span class="hs-identifier hs-var">CVTTSD2SIQ</span></a><span> </span><a name="local-6989586621684440951"><a href="#local-6989586621684440951"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440952"><a href="#local-6989586621684440952"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440953"><a href="#local-6989586621684440953"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatOpReg"><span class="hs-identifier hs-var">pprFormatFormatOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvttsd2si&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684440951"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440952"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440953"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-791"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTSI2SS"><span class="hs-identifier hs-var">CVTSI2SS</span></a><span> </span><a name="local-6989586621684440954"><a href="#local-6989586621684440954"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440955"><a href="#local-6989586621684440955"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440956"><a href="#local-6989586621684440956"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpReg"><span class="hs-identifier hs-var">pprFormatOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvtsi2ss&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440954"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440955"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440956"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-792"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CVTSI2SD"><span class="hs-identifier hs-var">CVTSI2SD</span></a><span> </span><a name="local-6989586621684440957"><a href="#local-6989586621684440957"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440958"><a href="#local-6989586621684440958"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621684440959"><a href="#local-6989586621684440959"><span class="hs-identifier">to</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpReg"><span class="hs-identifier hs-var">pprFormatOpReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cvtsi2sd&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684440957"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684440958"><span class="hs-identifier hs-var">from</span></a><span> </span><a href="#local-6989586621684440959"><span class="hs-identifier hs-var">to</span></a><span>
</span><a name="line-793"></a><span>
</span><a name="line-794"></a><span>    </span><span class="hs-comment">-- FETCHGOT for PIC on ELF platforms</span><span>
</span><a name="line-795"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#FETCHGOT"><span class="hs-identifier hs-var">FETCHGOT</span></a><span> </span><a name="local-6989586621684440960"><a href="#local-6989586621684440960"><span class="hs-identifier">reg</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-796"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcall 1f&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-797"></a><span>            </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;1:\tpopl\t&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440960"><span class="hs-identifier hs-var">reg</span></a><span> </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-798"></a><span>            </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\taddl\t$_GLOBAL_OFFSET_TABLE_+(.-1b), &quot;</span><span class="hs-special">,</span><span>
</span><a name="line-799"></a><span>                   </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440960"><span class="hs-identifier hs-var">reg</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-800"></a><span>          </span><span class="hs-special">]</span><span>
</span><a name="line-801"></a><span>
</span><a name="line-802"></a><span>    </span><span class="hs-comment">-- FETCHPC for PIC on Darwin/x86</span><span>
</span><a name="line-803"></a><span>    </span><span class="hs-comment">-- get the instruction pointer into a register</span><span>
</span><a name="line-804"></a><span>    </span><span class="hs-comment">-- (Terminology note: the IP is called Program Counter on PPC,</span><span>
</span><a name="line-805"></a><span>    </span><span class="hs-comment">--  and it's a good thing to use the same name on both platforms)</span><span>
</span><a name="line-806"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#FETCHPC"><span class="hs-identifier hs-var">FETCHPC</span></a><span> </span><a name="local-6989586621684440961"><a href="#local-6989586621684440961"><span class="hs-identifier">reg</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-807"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tcall 1f&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-808"></a><span>            </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;1:\tpopl\t&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440961"><span class="hs-identifier hs-var">reg</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-809"></a><span>          </span><span class="hs-special">]</span><span>
</span><a name="line-810"></a><span>
</span><a name="line-811"></a><span>
</span><a name="line-812"></a><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><a name="line-813"></a><span class="hs-comment">-- i386 floating-point</span><span>
</span><a name="line-814"></a><span>
</span><a name="line-815"></a><span class="hs-comment">-- Simulating a flat register set on the x86 FP stack is tricky.</span><span>
</span><a name="line-816"></a><span class="hs-comment">-- you have to free %st(7) before pushing anything on the FP reg stack</span><span>
</span><a name="line-817"></a><span class="hs-comment">-- so as to preclude the possibility of a FP stack overflow exception.</span><span>
</span><a name="line-818"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440962"><a href="#local-6989586621684440962"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GMOV"><span class="hs-identifier hs-var">GMOV</span></a><span> </span><a name="local-6989586621684440963"><a href="#local-6989586621684440963"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440964"><a href="#local-6989586621684440964"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-819"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684440963"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684440964"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-820"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-821"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-822"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440962"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440963"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440964"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-823"></a><span>
</span><a name="line-824"></a><span class="hs-comment">-- GLD fmt addr dst ==&gt; FLDsz addr ; FSTP (dst+1)</span><span>
</span><a name="line-825"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440965"><a href="#local-6989586621684440965"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GLD"><span class="hs-identifier hs-var">GLD</span></a><span> </span><a name="local-6989586621684440966"><a href="#local-6989586621684440966"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440967"><a href="#local-6989586621684440967"><span class="hs-identifier">addr</span></a></a><span> </span><a name="local-6989586621684440968"><a href="#local-6989586621684440968"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-826"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440965"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fld&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprFormat_x87"><span class="hs-identifier hs-var">pprFormat_x87</span></a><span> </span><a href="#local-6989586621684440966"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsp"><span class="hs-identifier hs-var">gsp</span></a><span class="hs-special">,</span><span>
</span><a name="line-827"></a><span>                 </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684440967"><span class="hs-identifier hs-var">addr</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440968"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-828"></a><span>
</span><a name="line-829"></a><span class="hs-comment">-- GST fmt src addr ==&gt; FLD dst ; FSTPsz addr</span><span>
</span><a name="line-830"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440969"><a href="#local-6989586621684440969"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GST"><span class="hs-identifier hs-var">GST</span></a><span> </span><a name="local-6989586621684440970"><a href="#local-6989586621684440970"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684440971"><a href="#local-6989586621684440971"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440972"><a href="#local-6989586621684440972"><span class="hs-identifier">addr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-831"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684440971"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="X86.Regs.html#fake0"><span class="hs-identifier hs-var">fake0</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621684440970"><span class="hs-identifier hs-var">fmt</span></a><span> </span><span class="hs-operator hs-var">/=</span><span> </span><a href="Format.html#FF80"><span class="hs-identifier hs-var">FF80</span></a><span> </span><span class="hs-comment">-- fstt instruction doesn't exist</span><span>
</span><a name="line-832"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440969"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span>
</span><a name="line-833"></a><span>                 </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fst&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprFormat_x87"><span class="hs-identifier hs-var">pprFormat_x87</span></a><span> </span><a href="#local-6989586621684440970"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsp"><span class="hs-identifier hs-var">gsp</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684440972"><span class="hs-identifier hs-var">addr</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-834"></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-835"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440969"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440971"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span>
</span><a name="line-836"></a><span>                 </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fstp&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprFormat_x87"><span class="hs-identifier hs-var">pprFormat_x87</span></a><span> </span><a href="#local-6989586621684440970"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gsp"><span class="hs-identifier hs-var">gsp</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684440972"><span class="hs-identifier hs-var">addr</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-837"></a><span>
</span><a name="line-838"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440973"><a href="#local-6989586621684440973"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GLDZ"><span class="hs-identifier hs-var">GLDZ</span></a><span> </span><a name="local-6989586621684440974"><a href="#local-6989586621684440974"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-839"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440973"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fldz ; &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440974"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-840"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440975"><a href="#local-6989586621684440975"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GLD1"><span class="hs-identifier hs-var">GLD1</span></a><span> </span><a name="local-6989586621684440976"><a href="#local-6989586621684440976"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-841"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440975"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fld1 ; &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440976"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-842"></a><span>
</span><a name="line-843"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GFTOI"><span class="hs-identifier hs-var">GFTOI</span></a><span> </span><a name="local-6989586621684440977"><a href="#local-6989586621684440977"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440978"><a href="#local-6989586621684440978"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-844"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GDTOI"><span class="hs-identifier hs-var">GDTOI</span></a><span> </span><a href="#local-6989586621684440977"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440978"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-845"></a><span>
</span><a name="line-846"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440979"><a href="#local-6989586621684440979"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GDTOI"><span class="hs-identifier hs-var">GDTOI</span></a><span> </span><a name="local-6989586621684440980"><a href="#local-6989586621684440980"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440981"><a href="#local-6989586621684440981"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-847"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440979"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-848"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;subl $8, %esp ; fnstcw 4(%esp)&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-849"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440980"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-850"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;movzwl 4(%esp), &quot;</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621684440982"><span class="hs-identifier hs-var">reg</span></a><span class="hs-special">,</span><span>
</span><a name="line-851"></a><span>                     </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; orl $0xC00, &quot;</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621684440982"><span class="hs-identifier hs-var">reg</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-852"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;movl &quot;</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621684440982"><span class="hs-identifier hs-var">reg</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;, 0(%esp) ; fldcw 0(%esp)&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-853"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fistpl 0(%esp)&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-854"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fldcw 4(%esp) ; movl 0(%esp), &quot;</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621684440982"><span class="hs-identifier hs-var">reg</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-855"></a><span>         </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;addl $8, %esp&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-856"></a><span>     </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-857"></a><span>   </span><span class="hs-keyword">where</span><span>
</span><a name="line-858"></a><span>     </span><a name="local-6989586621684440982"><a href="#local-6989586621684440982"><span class="hs-identifier">reg</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440981"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-859"></a><span>
</span><a name="line-860"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GITOF"><span class="hs-identifier hs-var">GITOF</span></a><span> </span><a name="local-6989586621684440983"><a href="#local-6989586621684440983"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440984"><a href="#local-6989586621684440984"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-861"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GITOD"><span class="hs-identifier hs-var">GITOD</span></a><span> </span><a href="#local-6989586621684440983"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684440984"><span class="hs-identifier hs-var">dst</span></a><span class="hs-special">)</span><span>
</span><a name="line-862"></a><span>
</span><a name="line-863"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440985"><a href="#local-6989586621684440985"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GITOD"><span class="hs-identifier hs-var">GITOD</span></a><span> </span><a name="local-6989586621684440986"><a href="#local-6989586621684440986"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440987"><a href="#local-6989586621684440987"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-864"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440985"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;pushl &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684440986"><span class="hs-identifier hs-var">src</span></a><span class="hs-special">,</span><span>
</span><a name="line-865"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fildl (%esp) ; &quot;</span><span class="hs-special">,</span><span>
</span><a name="line-866"></a><span>                   </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440987"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; addl $4,%esp&quot;</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-867"></a><span>
</span><a name="line-868"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440988"><a href="#local-6989586621684440988"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GDTOF"><span class="hs-identifier hs-var">GDTOF</span></a><span> </span><a name="local-6989586621684440989"><a href="#local-6989586621684440989"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440990"><a href="#local-6989586621684440990"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-869"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440988"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440989"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-870"></a><span>                  </span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;subl $4,%esp ; fstps (%esp) ; flds (%esp) ; addl $4,%esp ;&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-871"></a><span>                  </span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440990"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-872"></a><span>
</span><a name="line-873"></a><span class="hs-comment">{- Gruesome swamp follows.  If you're unfortunate enough to have ventured
   this far into the jungle AND you give a Rat's Ass (tm) what's going
   on, here's the deal.  Generate code to do a floating point comparison
   of src1 and src2, of kind cond, and set the Zero flag if true.

   The complications are to do with handling NaNs correctly.  We want the
   property that if either argument is NaN, then the result of the
   comparison is False ... except if we're comparing for inequality,
   in which case the answer is True.

   Here's how the general (non-inequality) case works.  As an
   example, consider generating the an equality test:

     pushl %eax         -- we need to mess with this
     &lt;get src1 to top of FPU stack&gt;
     fcomp &lt;src2 location in FPU stack&gt; and pop pushed src1
                -- Result of comparison is in FPU Status Register bits
                -- C3 C2 and C0
     fstsw %ax  -- Move FPU Status Reg to %ax
     sahf       -- move C3 C2 C0 from %ax to integer flag reg
     -- now the serious magic begins
     setpo %ah     -- %ah = if comparable(neither arg was NaN) then 1 else 0
     sete  %al     -- %al = if arg1 == arg2 then 1 else 0
     andb %ah,%al  -- %al &amp;= %ah
                   -- so %al == 1 iff (comparable &amp;&amp; same); else it holds 0
     decb %al      -- %al == 0, ZeroFlag=1  iff (comparable &amp;&amp; same);
                      else %al == 0xFF, ZeroFlag=0
     -- the zero flag is now set as we desire.
     popl %eax

   The special case of inequality differs thusly:

     setpe %ah     -- %ah = if incomparable(either arg was NaN) then 1 else 0
     setne %al     -- %al = if arg1 /= arg2 then 1 else 0
     orb %ah,%al   -- %al = if (incomparable || different) then 1 else 0
     decb %al      -- if (incomparable || different) then (%al == 0, ZF=1)
                                                     else (%al == 0xFF, ZF=0)
-}</span><span>
</span><a name="line-911"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440991"><a href="#local-6989586621684440991"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GCMP"><span class="hs-identifier hs-var">GCMP</span></a><span> </span><a name="local-6989586621684440992"><a href="#local-6989586621684440992"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684440993"><a href="#local-6989586621684440993"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684440994"><a href="#local-6989586621684440994"><span class="hs-identifier">src2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-912"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621684440992"><span class="hs-identifier hs-var">cond</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><a href="X86.Cond.html#NE"><span class="hs-identifier hs-var">NE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">;</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-913"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440991"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-914"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;pushl %eax ; &quot;</span><span class="hs-special">,</span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440993"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-915"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fcomp &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684440994"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span>
</span><a name="line-916"></a><span>                    </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;; fstsw %ax ; sahf ;  setpe %ah&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-917"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;setne %al ;  &quot;</span><span class="hs-special">,</span><span>
</span><a name="line-918"></a><span>              </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;orb %ah,%al ;  decb %al ;  popl %eax&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-919"></a><span>    </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-920"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-921"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440991"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-922"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;pushl %eax ; &quot;</span><span class="hs-special">,</span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440993"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-923"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fcomp &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684440994"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span>
</span><a name="line-924"></a><span>                    </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;; fstsw %ax ; sahf ;  setpo %ah&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-925"></a><span>        </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;set&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprCond"><span class="hs-identifier hs-var">pprCond</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621684440995"><span class="hs-identifier hs-var">fix_FP_cond</span></a><span> </span><a href="#local-6989586621684440992"><span class="hs-identifier hs-var">cond</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; %al ;  &quot;</span><span class="hs-special">,</span><span>
</span><a name="line-926"></a><span>              </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;andb %ah,%al ;  decb %al ;  popl %eax&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-927"></a><span>    </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-928"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-929"></a><span>        </span><span class="hs-comment">{- On the 486, the flags set by FP compare are the unsigned ones!
           (This looks like a HACK to me.  WDP 96/03)
        -}</span><span>
</span><a name="line-932"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span>
</span><a name="line-933"></a><span>        </span><a name="local-6989586621684440995"><a href="#local-6989586621684440995"><span class="hs-identifier">fix_FP_cond</span></a></a><span> </span><a href="X86.Cond.html#GE"><span class="hs-identifier hs-var">GE</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#GEU"><span class="hs-identifier hs-var">GEU</span></a><span>
</span><a name="line-934"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><a href="X86.Cond.html#GTT"><span class="hs-identifier hs-var">GTT</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#GU"><span class="hs-identifier hs-var">GU</span></a><span>
</span><a name="line-935"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><a href="X86.Cond.html#LTT"><span class="hs-identifier hs-var">LTT</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#LU"><span class="hs-identifier hs-var">LU</span></a><span>
</span><a name="line-936"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><a href="X86.Cond.html#LE"><span class="hs-identifier hs-var">LE</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#LEU"><span class="hs-identifier hs-var">LEU</span></a><span>
</span><a name="line-937"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><a href="X86.Cond.html#EQQ"><span class="hs-identifier hs-var">EQQ</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#EQQ"><span class="hs-identifier hs-var">EQQ</span></a><span>
</span><a name="line-938"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><a href="X86.Cond.html#NE"><span class="hs-identifier hs-var">NE</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Cond.html#NE"><span class="hs-identifier hs-var">NE</span></a><span>
</span><a name="line-939"></a><span>        </span><span class="hs-identifier">fix_FP_cond</span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.fix_FP_cond: no match&quot;</span><span>
</span><a name="line-940"></a><span>        </span><span class="hs-comment">-- there should be no others</span><span>
</span><a name="line-941"></a><span>
</span><a name="line-942"></a><span>
</span><a name="line-943"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440996"><a href="#local-6989586621684440996"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GABS"><span class="hs-identifier hs-var">GABS</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684440997"><a href="#local-6989586621684440997"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684440998"><a href="#local-6989586621684440998"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-944"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440996"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684440997"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fabs ; &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684440998"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-945"></a><span>
</span><a name="line-946"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684440999"><a href="#local-6989586621684440999"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GNEG"><span class="hs-identifier hs-var">GNEG</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441000"><a href="#local-6989586621684441000"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441001"><a href="#local-6989586621684441001"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-947"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684440999"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441000"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fchs ; &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441001"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-948"></a><span>
</span><a name="line-949"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441002"><a href="#local-6989586621684441002"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GSQRT"><span class="hs-identifier hs-var">GSQRT</span></a><span> </span><a name="local-6989586621684441003"><a href="#local-6989586621684441003"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441004"><a href="#local-6989586621684441004"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441005"><a href="#local-6989586621684441005"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-950"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441002"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441004"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fsqrt&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-951"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gcoerceto"><span class="hs-identifier hs-var">gcoerceto</span></a><span> </span><a href="#local-6989586621684441003"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441005"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-952"></a><span>
</span><a name="line-953"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441006"><a href="#local-6989586621684441006"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GSIN"><span class="hs-identifier hs-var">GSIN</span></a><span> </span><a name="local-6989586621684441007"><a href="#local-6989586621684441007"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441008"><a href="#local-6989586621684441008"><span class="hs-identifier">l1</span></a></a><span> </span><a name="local-6989586621684441009"><a href="#local-6989586621684441009"><span class="hs-identifier">l2</span></a></a><span> </span><a name="local-6989586621684441010"><a href="#local-6989586621684441010"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441011"><a href="#local-6989586621684441011"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-954"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441006"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprTrigOp"><span class="hs-identifier hs-var">pprTrigOp</span></a><span> </span><span class="hs-string">&quot;fsin&quot;</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a href="#local-6989586621684441008"><span class="hs-identifier hs-var">l1</span></a><span> </span><a href="#local-6989586621684441009"><span class="hs-identifier hs-var">l2</span></a><span> </span><a href="#local-6989586621684441010"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441011"><span class="hs-identifier hs-var">dst</span></a><span> </span><a href="#local-6989586621684441007"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">)</span><span>
</span><a name="line-955"></a><span>
</span><a name="line-956"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441012"><a href="#local-6989586621684441012"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GCOS"><span class="hs-identifier hs-var">GCOS</span></a><span> </span><a name="local-6989586621684441013"><a href="#local-6989586621684441013"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441014"><a href="#local-6989586621684441014"><span class="hs-identifier">l1</span></a></a><span> </span><a name="local-6989586621684441015"><a href="#local-6989586621684441015"><span class="hs-identifier">l2</span></a></a><span> </span><a name="local-6989586621684441016"><a href="#local-6989586621684441016"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441017"><a href="#local-6989586621684441017"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-957"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441012"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprTrigOp"><span class="hs-identifier hs-var">pprTrigOp</span></a><span> </span><span class="hs-string">&quot;fcos&quot;</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a href="#local-6989586621684441014"><span class="hs-identifier hs-var">l1</span></a><span> </span><a href="#local-6989586621684441015"><span class="hs-identifier hs-var">l2</span></a><span> </span><a href="#local-6989586621684441016"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441017"><span class="hs-identifier hs-var">dst</span></a><span> </span><a href="#local-6989586621684441013"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">)</span><span>
</span><a name="line-958"></a><span>
</span><a name="line-959"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441018"><a href="#local-6989586621684441018"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GTAN"><span class="hs-identifier hs-var">GTAN</span></a><span> </span><a name="local-6989586621684441019"><a href="#local-6989586621684441019"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441020"><a href="#local-6989586621684441020"><span class="hs-identifier">l1</span></a></a><span> </span><a name="local-6989586621684441021"><a href="#local-6989586621684441021"><span class="hs-identifier">l2</span></a></a><span> </span><a name="local-6989586621684441022"><a href="#local-6989586621684441022"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441023"><a href="#local-6989586621684441023"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-960"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441018"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#pprTrigOp"><span class="hs-identifier hs-var">pprTrigOp</span></a><span> </span><span class="hs-string">&quot;fptan&quot;</span><span> </span><span class="hs-identifier hs-var">True</span><span> </span><a href="#local-6989586621684441020"><span class="hs-identifier hs-var">l1</span></a><span> </span><a href="#local-6989586621684441021"><span class="hs-identifier hs-var">l2</span></a><span> </span><a href="#local-6989586621684441022"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441023"><span class="hs-identifier hs-var">dst</span></a><span> </span><a href="#local-6989586621684441019"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">)</span><span>
</span><a name="line-961"></a><span>
</span><a name="line-962"></a><span class="hs-comment">-- In the translations for GADD, GMUL, GSUB and GDIV,</span><span>
</span><a name="line-963"></a><span class="hs-comment">-- the first two cases are mere optimisations.  The otherwise clause</span><span>
</span><a name="line-964"></a><span class="hs-comment">-- generates correct code under all circumstances.</span><span>
</span><a name="line-965"></a><span>
</span><a name="line-966"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441024"><a href="#local-6989586621684441024"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GADD"><span class="hs-identifier hs-var">GADD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441025"><a href="#local-6989586621684441025"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441026"><a href="#local-6989586621684441026"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441027"><a href="#local-6989586621684441027"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-967"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441025"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441027"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-968"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441024"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GADD-xxxcase1&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-969"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441026"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-970"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; faddp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441025"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-971"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441026"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441027"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-972"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441024"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GADD-xxxcase2&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-973"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441025"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-974"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; faddp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441026"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-975"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-976"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441024"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441025"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-977"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fadd &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441026"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,%st(0)&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-978"></a><span>                   </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441027"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-979"></a><span>
</span><a name="line-980"></a><span>
</span><a name="line-981"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441028"><a href="#local-6989586621684441028"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GMUL"><span class="hs-identifier hs-var">GMUL</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441029"><a href="#local-6989586621684441029"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441030"><a href="#local-6989586621684441030"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441031"><a href="#local-6989586621684441031"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-982"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441029"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441031"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-983"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441028"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GMUL-xxxcase1&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-984"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441030"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-985"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fmulp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441029"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-986"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441030"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441031"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-987"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441028"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GMUL-xxxcase2&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-988"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441029"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-989"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fmulp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441030"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-990"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-991"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441028"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441029"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-992"></a><span>             </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fmul &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441030"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,%st(0)&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-993"></a><span>             </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441031"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-994"></a><span>
</span><a name="line-995"></a><span>
</span><a name="line-996"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441032"><a href="#local-6989586621684441032"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GSUB"><span class="hs-identifier hs-var">GSUB</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441033"><a href="#local-6989586621684441033"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441034"><a href="#local-6989586621684441034"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441035"><a href="#local-6989586621684441035"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-997"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441033"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441035"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-998"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441032"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GSUB-xxxcase1&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-999"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441034"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1000"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fsubrp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441033"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1001"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441034"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441035"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1002"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441032"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GSUB-xxxcase2&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1003"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441033"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1004"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fsubp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441034"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1005"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-1006"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441032"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441033"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1007"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fsub &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441034"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,%st(0)&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-1008"></a><span>                   </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441035"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span>
</span><a name="line-1011"></a><span class="hs-identifier">pprInstr</span><span> </span><a name="local-6989586621684441036"><a href="#local-6989586621684441036"><span class="hs-identifier">g</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="X86.Instr.html#GDIV"><span class="hs-identifier hs-var">GDIV</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441037"><a href="#local-6989586621684441037"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441038"><a href="#local-6989586621684441038"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441039"><a href="#local-6989586621684441039"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1012"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441037"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441039"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1013"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441036"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GDIV-xxxcase1&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1014"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441038"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1015"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fdivrp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441037"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1016"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621684441038"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621684441039"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1017"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441036"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\t#GDIV-xxxcase2&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1018"></a><span>             </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441037"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1019"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fdivp %st(0),&quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441038"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1020"></a><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-1021"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprG"><span class="hs-identifier hs-var">pprG</span></a><span> </span><a href="#local-6989586621684441036"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441037"><span class="hs-identifier hs-var">src1</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><a name="line-1022"></a><span>                   </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; fdiv &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441038"><span class="hs-identifier hs-var">src2</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;,%st(0)&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-1023"></a><span>                   </span><a href="X86.Ppr.html#gsemi"><span class="hs-identifier hs-var">gsemi</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441039"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1024"></a><span>
</span><a name="line-1025"></a><span>
</span><a name="line-1026"></a><span class="hs-identifier">pprInstr</span><span> </span><a href="X86.Instr.html#GFREE"><span class="hs-identifier hs-var">GFREE</span></a><span>
</span><a name="line-1027"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">vcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tffree %st(0) ;ffree %st(1) ;ffree %st(2) ;ffree %st(3)&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-1028"></a><span>            </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tffree %st(4) ;ffree %st(5)&quot;</span><span>
</span><a name="line-1029"></a><span>          </span><span class="hs-special">]</span><span>
</span><a name="line-1030"></a><span>
</span><a name="line-1031"></a><span class="hs-comment">-- Atomics</span><span>
</span><a name="line-1032"></a><span>
</span><a name="line-1033"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#LOCK"><span class="hs-identifier hs-var">LOCK</span></a><span> </span><a name="local-6989586621684441040"><a href="#local-6989586621684441040"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tlock&quot;</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="X86.Ppr.html#pprInstr"><span class="hs-identifier hs-var">pprInstr</span></a><span> </span><a href="#local-6989586621684441040"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1034"></a><span>
</span><a name="line-1035"></a><span class="hs-identifier">pprInstr</span><span> </span><a href="X86.Instr.html#MFENCE"><span class="hs-identifier hs-var">MFENCE</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;\tmfence&quot;</span><span>
</span><a name="line-1036"></a><span>
</span><a name="line-1037"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#XADD"><span class="hs-identifier hs-var">XADD</span></a><span> </span><a name="local-6989586621684441041"><a href="#local-6989586621684441041"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441042"><a href="#local-6989586621684441042"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441043"><a href="#local-6989586621684441043"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;xadd&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441041"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441042"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441043"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1038"></a><span>
</span><a name="line-1039"></a><span class="hs-identifier">pprInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#CMPXCHG"><span class="hs-identifier hs-var">CMPXCHG</span></a><span> </span><a name="local-6989586621684441044"><a href="#local-6989586621684441044"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441045"><a href="#local-6989586621684441045"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441046"><a href="#local-6989586621684441046"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1040"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier hs-var">pprFormatOpOp</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;cmpxchg&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441044"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441045"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441046"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1041"></a><span>
</span><a name="line-1042"></a><span>
</span><a name="line-1043"></a><span class="hs-identifier">pprTrigOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a><span>
</span><a name="line-1044"></a><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1045"></a><a name="pprTrigOp"><a href="X86.Ppr.html#pprTrigOp"><span class="hs-identifier">pprTrigOp</span></a></a><span> </span><a name="local-6989586621684441047"><a href="#local-6989586621684441047"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-comment">-- fsin, fcos or fptan</span><span>
</span><a name="line-1046"></a><span>          </span><a name="local-6989586621684441048"><a href="#local-6989586621684441048"><span class="hs-identifier">isTan</span></a></a><span> </span><span class="hs-comment">-- we need a couple of extra steps if we're doing tan</span><span>
</span><a name="line-1047"></a><span>          </span><a name="local-6989586621684441049"><a href="#local-6989586621684441049"><span class="hs-identifier">l1</span></a></a><span> </span><a name="local-6989586621684441050"><a href="#local-6989586621684441050"><span class="hs-identifier">l2</span></a></a><span> </span><span class="hs-comment">-- internal labels for us to use</span><span>
</span><a name="line-1048"></a><span>          </span><a name="local-6989586621684441051"><a href="#local-6989586621684441051"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441052"><a href="#local-6989586621684441052"><span class="hs-identifier">dst</span></a></a><span> </span><a name="local-6989586621684441053"><a href="#local-6989586621684441053"><span class="hs-identifier">fmt</span></a></a><span>
</span><a name="line-1049"></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- We'll be needing %eax later on</span><span>
</span><a name="line-1050"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;pushl %eax;&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1051"></a><span>      </span><span class="hs-comment">-- tan is going to use an extra space on the FP stack</span><span>
</span><a name="line-1052"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621684441048"><span class="hs-identifier hs-var">isTan</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;ffree %st(6)&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1053"></a><span>      </span><span class="hs-comment">-- First put the value in %st(0) and try to apply the op to it</span><span>
</span><a name="line-1054"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gpush"><span class="hs-identifier hs-var">gpush</span></a><span> </span><a href="#local-6989586621684441051"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;; &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621684441047"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1055"></a><span>      </span><span class="hs-comment">-- Now look to see if C2 was set (overflow, |value| &gt;= 2^63)</span><span>
</span><a name="line-1056"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fnstsw %ax&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1057"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;test   $0x400,%eax&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1058"></a><span>      </span><span class="hs-comment">-- If we were in bounds then jump to the end</span><span>
</span><a name="line-1059"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;je     &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684441049"><span class="hs-identifier hs-var">l1</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1060"></a><span>      </span><span class="hs-comment">-- Otherwise we need to shrink the value. Start by</span><span>
</span><a name="line-1061"></a><span>      </span><span class="hs-comment">-- loading pi, doubleing it (by adding it to itself),</span><span>
</span><a name="line-1062"></a><span>      </span><span class="hs-comment">-- and then swapping pi with the value, so the value we</span><span>
</span><a name="line-1063"></a><span>      </span><span class="hs-comment">-- want to apply op to is in %st(0) again</span><span>
</span><a name="line-1064"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;ffree %st(7); fldpi&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1065"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fadd   %st(0),%st&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1066"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fxch   %st(1)&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1067"></a><span>      </span><span class="hs-comment">-- Now we have a loop in which we make the value smaller,</span><span>
</span><a name="line-1068"></a><span>      </span><span class="hs-comment">-- see if it's small enough, and loop if not</span><span>
</span><a name="line-1069"></a><span>      </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684441050"><span class="hs-identifier hs-var">l2</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1070"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fprem1&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1071"></a><span>      </span><span class="hs-comment">-- My Debian libc uses fstsw here for the tan code, but I can't</span><span>
</span><a name="line-1072"></a><span>      </span><span class="hs-comment">-- see any reason why it should need to be different for tan.</span><span>
</span><a name="line-1073"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fnstsw %ax&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1074"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;test   $0x400,%eax&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1075"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;jne    &quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684441050"><span class="hs-identifier hs-var">l2</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1076"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fstp   %st(1)&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1077"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><a href="#local-6989586621684441047"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1078"></a><span>      </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ppr</span><span> </span><a href="#local-6989586621684441049"><span class="hs-identifier hs-var">l1</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">':'</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1079"></a><span>      </span><span class="hs-comment">-- Pop the 1.0 tan gave us</span><span>
</span><a name="line-1080"></a><span>      </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621684441048"><span class="hs-identifier hs-var">isTan</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fstp %st(0)&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">empty</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1081"></a><span>      </span><span class="hs-comment">-- Restore %eax</span><span>
</span><a name="line-1082"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;popl %eax;&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-operator hs-var">$$</span><span>
</span><a name="line-1083"></a><span>      </span><span class="hs-comment">-- And finally make the result the right size</span><span>
</span><a name="line-1084"></a><span>      </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><a href="X86.Ppr.html#gtab"><span class="hs-identifier hs-var">gtab</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gcoerceto"><span class="hs-identifier hs-var">gcoerceto</span></a><span> </span><a href="#local-6989586621684441053"><span class="hs-identifier hs-var">fmt</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#gpop"><span class="hs-identifier hs-var">gpop</span></a><span> </span><a href="#local-6989586621684441052"><span class="hs-identifier hs-var">dst</span></a><span> </span><span class="hs-number">1</span><span class="hs-special">]</span><span>
</span><a name="line-1085"></a><span>
</span><a name="line-1086"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1087"></a><span>
</span><a name="line-1088"></a><span class="hs-comment">-- coerce %st(0) to the specified size</span><span>
</span><a name="line-1089"></a><span class="hs-identifier">gcoerceto</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1090"></a><a name="gcoerceto"><a href="X86.Ppr.html#gcoerceto"><span class="hs-identifier">gcoerceto</span></a></a><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span>
</span><a name="line-1091"></a><span class="hs-identifier">gcoerceto</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">empty</span><span> </span><span class="hs-comment">--text &quot;subl $4,%esp ; fstps (%esp) ; flds (%esp) ; addl $4,%esp ; &quot;</span><span>
</span><a name="line-1092"></a><span class="hs-identifier">gcoerceto</span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.gcoerceto: no match&quot;</span><span>
</span><a name="line-1093"></a><span>
</span><a name="line-1094"></a><span class="hs-identifier">gpush</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#RegNo"><span class="hs-identifier hs-type">RegNo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1095"></a><a name="gpush"><a href="X86.Ppr.html#gpush"><span class="hs-identifier">gpush</span></a></a><span> </span><a name="local-6989586621684441054"><a href="#local-6989586621684441054"><span class="hs-identifier">reg</span></a></a><span> </span><a name="local-6989586621684441055"><a href="#local-6989586621684441055"><span class="hs-identifier">offset</span></a></a><span>
</span><a name="line-1096"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fld &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441054"><span class="hs-identifier hs-var">reg</span></a><span> </span><a href="#local-6989586621684441055"><span class="hs-identifier hs-var">offset</span></a><span class="hs-special">]</span><span>
</span><a name="line-1097"></a><span>
</span><a name="line-1098"></a><span class="hs-identifier">gpop</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#RegNo"><span class="hs-identifier hs-type">RegNo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1099"></a><a name="gpop"><a href="X86.Ppr.html#gpop"><span class="hs-identifier">gpop</span></a></a><span> </span><a name="local-6989586621684441056"><a href="#local-6989586621684441056"><span class="hs-identifier">reg</span></a></a><span> </span><a name="local-6989586621684441057"><a href="#local-6989586621684441057"><span class="hs-identifier">offset</span></a></a><span>
</span><a name="line-1100"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;fstp &quot;</span><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#greg"><span class="hs-identifier hs-var">greg</span></a><span> </span><a href="#local-6989586621684441056"><span class="hs-identifier hs-var">reg</span></a><span> </span><a href="#local-6989586621684441057"><span class="hs-identifier hs-var">offset</span></a><span class="hs-special">]</span><span>
</span><a name="line-1101"></a><span>
</span><a name="line-1102"></a><span class="hs-identifier">greg</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#RegNo"><span class="hs-identifier hs-type">RegNo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1103"></a><a name="greg"><a href="X86.Ppr.html#greg"><span class="hs-identifier">greg</span></a></a><span> </span><a name="local-6989586621684441058"><a href="#local-6989586621684441058"><span class="hs-identifier">reg</span></a></a><span> </span><a name="local-6989586621684441059"><a href="#local-6989586621684441059"><span class="hs-identifier">offset</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;%st(&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">int</span><span> </span><span class="hs-special">(</span><a href="X86.Ppr.html#gregno"><span class="hs-identifier hs-var">gregno</span></a><span> </span><a href="#local-6989586621684441058"><span class="hs-identifier hs-var">reg</span></a><span> </span><span class="hs-glyph">-</span><span> </span><a href="X86.Regs.html#firstfake"><span class="hs-identifier hs-var">firstfake</span></a><span class="hs-operator hs-var">+</span><a href="#local-6989586621684441059"><span class="hs-identifier hs-var">offset</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">')'</span><span>
</span><a name="line-1104"></a><span>
</span><a name="line-1105"></a><span class="hs-identifier">gsemi</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1106"></a><a name="gsemi"><a href="X86.Ppr.html#gsemi"><span class="hs-identifier">gsemi</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot; ; &quot;</span><span>
</span><a name="line-1107"></a><span>
</span><a name="line-1108"></a><span class="hs-identifier">gtab</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1109"></a><a name="gtab"><a href="X86.Ppr.html#gtab"><span class="hs-identifier">gtab</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span>
</span><a name="line-1110"></a><span>
</span><a name="line-1111"></a><span class="hs-identifier">gsp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1112"></a><a name="gsp"><a href="X86.Ppr.html#gsp"><span class="hs-identifier">gsp</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">' '</span><span>
</span><a name="line-1113"></a><span>
</span><a name="line-1114"></a><span class="hs-identifier">gregno</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#RegNo"><span class="hs-identifier hs-type">RegNo</span></a><span>
</span><a name="line-1115"></a><a name="gregno"><a href="X86.Ppr.html#gregno"><span class="hs-identifier">gregno</span></a></a><span> </span><span class="hs-special">(</span><a href="Reg.html#RegReal"><span class="hs-identifier hs-var">RegReal</span></a><span> </span><span class="hs-special">(</span><a href="Reg.html#RealRegSingle"><span class="hs-identifier hs-var">RealRegSingle</span></a><span> </span><a name="local-6989586621684441060"><a href="#local-6989586621684441060"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621684441060"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1116"></a><span class="hs-identifier">gregno</span><span> </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">--pprPanic &quot;gregno&quot; (ppr other)</span><span>
</span><a name="line-1117"></a><span>                     </span><span class="hs-number">999</span><span>   </span><span class="hs-comment">-- bogus; only needed for debug printing</span><span>
</span><a name="line-1118"></a><span>
</span><a name="line-1119"></a><span class="hs-identifier">pprG</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1120"></a><a name="pprG"><a href="X86.Ppr.html#pprG"><span class="hs-identifier">pprG</span></a></a><span> </span><a name="local-6989586621684441061"><a href="#local-6989586621684441061"><span class="hs-identifier">fake</span></a></a><span> </span><a name="local-6989586621684441062"><a href="#local-6989586621684441062"><span class="hs-identifier">actual</span></a></a><span>
</span><a name="line-1121"></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'#'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprGInstr"><span class="hs-identifier hs-var">pprGInstr</span></a><span> </span><a href="#local-6989586621684441061"><span class="hs-identifier hs-var">fake</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$$</span><span> </span><a href="#local-6989586621684441062"><span class="hs-identifier hs-var">actual</span></a><span>
</span><a name="line-1122"></a><span>
</span><a name="line-1123"></a><span>
</span><a name="line-1124"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1125"></a><a name="pprGInstr"><a href="X86.Ppr.html#pprGInstr"><span class="hs-identifier">pprGInstr</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GMOV"><span class="hs-identifier hs-var">GMOV</span></a><span> </span><a name="local-6989586621684441063"><a href="#local-6989586621684441063"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441064"><a href="#local-6989586621684441064"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gmov&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684441063"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441064"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1126"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GLD"><span class="hs-identifier hs-var">GLD</span></a><span> </span><a name="local-6989586621684441065"><a href="#local-6989586621684441065"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441066"><a href="#local-6989586621684441066"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441067"><a href="#local-6989586621684441067"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatAddrReg"><span class="hs-identifier hs-var">pprFormatAddrReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gld&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441065"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441066"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441067"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1127"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GST"><span class="hs-identifier hs-var">GST</span></a><span> </span><a name="local-6989586621684441068"><a href="#local-6989586621684441068"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441069"><a href="#local-6989586621684441069"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441070"><a href="#local-6989586621684441070"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegAddr"><span class="hs-identifier hs-var">pprFormatRegAddr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gst&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441068"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441069"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441070"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1128"></a><span>
</span><a name="line-1129"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GLDZ"><span class="hs-identifier hs-var">GLDZ</span></a><span> </span><a name="local-6989586621684441071"><a href="#local-6989586621684441071"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatReg"><span class="hs-identifier hs-var">pprFormatReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gldz&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684441071"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1130"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GLD1"><span class="hs-identifier hs-var">GLD1</span></a><span> </span><a name="local-6989586621684441072"><a href="#local-6989586621684441072"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatReg"><span class="hs-identifier hs-var">pprFormatReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gld1&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684441072"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1131"></a><span>
</span><a name="line-1132"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GFTOI"><span class="hs-identifier hs-var">GFTOI</span></a><span> </span><a name="local-6989586621684441073"><a href="#local-6989586621684441073"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441074"><a href="#local-6989586621684441074"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier hs-var">pprFormatFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gftoi&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684441073"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441074"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1133"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GDTOI"><span class="hs-identifier hs-var">GDTOI</span></a><span> </span><a name="local-6989586621684441075"><a href="#local-6989586621684441075"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441076"><a href="#local-6989586621684441076"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier hs-var">pprFormatFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gdtoi&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="#local-6989586621684441075"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441076"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1134"></a><span>
</span><a name="line-1135"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GITOF"><span class="hs-identifier hs-var">GITOF</span></a><span> </span><a name="local-6989586621684441077"><a href="#local-6989586621684441077"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441078"><a href="#local-6989586621684441078"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier hs-var">pprFormatFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gitof&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="#local-6989586621684441077"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441078"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1136"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GITOD"><span class="hs-identifier hs-var">GITOD</span></a><span> </span><a name="local-6989586621684441079"><a href="#local-6989586621684441079"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441080"><a href="#local-6989586621684441080"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier hs-var">pprFormatFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gitod&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#II32"><span class="hs-identifier hs-var">II32</span></a><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684441079"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441080"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1137"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GDTOF"><span class="hs-identifier hs-var">GDTOF</span></a><span> </span><a name="local-6989586621684441081"><a href="#local-6989586621684441081"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441082"><a href="#local-6989586621684441082"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier hs-var">pprFormatFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gdtof&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="Format.html#FF32"><span class="hs-identifier hs-var">FF32</span></a><span> </span><a href="#local-6989586621684441081"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441082"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1138"></a><span>
</span><a name="line-1139"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GCMP"><span class="hs-identifier hs-var">GCMP</span></a><span> </span><a name="local-6989586621684441083"><a href="#local-6989586621684441083"><span class="hs-identifier">co</span></a></a><span> </span><a name="local-6989586621684441084"><a href="#local-6989586621684441084"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441085"><a href="#local-6989586621684441085"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprCondRegReg"><span class="hs-identifier hs-var">pprCondRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gcmp_&quot;</span><span class="hs-special">)</span><span> </span><a href="Format.html#FF64"><span class="hs-identifier hs-var">FF64</span></a><span> </span><a href="#local-6989586621684441083"><span class="hs-identifier hs-var">co</span></a><span> </span><a href="#local-6989586621684441084"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441085"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1140"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GABS"><span class="hs-identifier hs-var">GABS</span></a><span> </span><a name="local-6989586621684441086"><a href="#local-6989586621684441086"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441087"><a href="#local-6989586621684441087"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441088"><a href="#local-6989586621684441088"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gabs&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441086"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441087"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441088"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1141"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GNEG"><span class="hs-identifier hs-var">GNEG</span></a><span> </span><a name="local-6989586621684441089"><a href="#local-6989586621684441089"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441090"><a href="#local-6989586621684441090"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441091"><a href="#local-6989586621684441091"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gneg&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441089"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441090"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441091"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1142"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GSQRT"><span class="hs-identifier hs-var">GSQRT</span></a><span> </span><a name="local-6989586621684441092"><a href="#local-6989586621684441092"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441093"><a href="#local-6989586621684441093"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441094"><a href="#local-6989586621684441094"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gsqrt&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441092"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441093"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441094"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1143"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GSIN"><span class="hs-identifier hs-var">GSIN</span></a><span> </span><a name="local-6989586621684441095"><a href="#local-6989586621684441095"><span class="hs-identifier">fmt</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441096"><a href="#local-6989586621684441096"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441097"><a href="#local-6989586621684441097"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gsin&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441095"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441096"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441097"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1144"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GCOS"><span class="hs-identifier hs-var">GCOS</span></a><span> </span><a name="local-6989586621684441098"><a href="#local-6989586621684441098"><span class="hs-identifier">fmt</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441099"><a href="#local-6989586621684441099"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441100"><a href="#local-6989586621684441100"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gcos&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441098"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441099"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441100"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1145"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GTAN"><span class="hs-identifier hs-var">GTAN</span></a><span> </span><a name="local-6989586621684441101"><a href="#local-6989586621684441101"><span class="hs-identifier">fmt</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621684441102"><a href="#local-6989586621684441102"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441103"><a href="#local-6989586621684441103"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier hs-var">pprFormatRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gtan&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441101"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441102"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="#local-6989586621684441103"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1146"></a><span>
</span><a name="line-1147"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GADD"><span class="hs-identifier hs-var">GADD</span></a><span> </span><a name="local-6989586621684441104"><a href="#local-6989586621684441104"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441105"><a href="#local-6989586621684441105"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441106"><a href="#local-6989586621684441106"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441107"><a href="#local-6989586621684441107"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegRegReg"><span class="hs-identifier hs-var">pprFormatRegRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gadd&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441104"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441105"><span class="hs-identifier hs-var">src1</span></a><span> </span><a href="#local-6989586621684441106"><span class="hs-identifier hs-var">src2</span></a><span> </span><a href="#local-6989586621684441107"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1148"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GSUB"><span class="hs-identifier hs-var">GSUB</span></a><span> </span><a name="local-6989586621684441108"><a href="#local-6989586621684441108"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441109"><a href="#local-6989586621684441109"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441110"><a href="#local-6989586621684441110"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441111"><a href="#local-6989586621684441111"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegRegReg"><span class="hs-identifier hs-var">pprFormatRegRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gsub&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441108"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441109"><span class="hs-identifier hs-var">src1</span></a><span> </span><a href="#local-6989586621684441110"><span class="hs-identifier hs-var">src2</span></a><span> </span><a href="#local-6989586621684441111"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1149"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GMUL"><span class="hs-identifier hs-var">GMUL</span></a><span> </span><a name="local-6989586621684441112"><a href="#local-6989586621684441112"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441113"><a href="#local-6989586621684441113"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441114"><a href="#local-6989586621684441114"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441115"><a href="#local-6989586621684441115"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegRegReg"><span class="hs-identifier hs-var">pprFormatRegRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gmul&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441112"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441113"><span class="hs-identifier hs-var">src1</span></a><span> </span><a href="#local-6989586621684441114"><span class="hs-identifier hs-var">src2</span></a><span> </span><a href="#local-6989586621684441115"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1150"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#GDIV"><span class="hs-identifier hs-var">GDIV</span></a><span> </span><a name="local-6989586621684441116"><a href="#local-6989586621684441116"><span class="hs-identifier">fmt</span></a></a><span> </span><a name="local-6989586621684441117"><a href="#local-6989586621684441117"><span class="hs-identifier">src1</span></a></a><span> </span><a name="local-6989586621684441118"><a href="#local-6989586621684441118"><span class="hs-identifier">src2</span></a></a><span> </span><a name="local-6989586621684441119"><a href="#local-6989586621684441119"><span class="hs-identifier">dst</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprFormatRegRegReg"><span class="hs-identifier hs-var">pprFormatRegRegReg</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">sLit</span><span> </span><span class="hs-string">&quot;gdiv&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441116"><span class="hs-identifier hs-var">fmt</span></a><span> </span><a href="#local-6989586621684441117"><span class="hs-identifier hs-var">src1</span></a><span> </span><a href="#local-6989586621684441118"><span class="hs-identifier hs-var">src2</span></a><span> </span><a href="#local-6989586621684441119"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1151"></a><span>
</span><a name="line-1152"></a><span class="hs-identifier">pprGInstr</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">panic</span><span> </span><span class="hs-string">&quot;X86.Ppr.pprGInstr: no match&quot;</span><span>
</span><a name="line-1153"></a><span>
</span><a name="line-1154"></a><span class="hs-identifier">pprDollImm</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="X86.Regs.html#Imm"><span class="hs-identifier hs-type">Imm</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1155"></a><a name="pprDollImm"><a href="X86.Ppr.html#pprDollImm"><span class="hs-identifier">pprDollImm</span></a></a><span> </span><a name="local-6989586621684441120"><a href="#local-6989586621684441120"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">text</span><span> </span><span class="hs-string">&quot;$&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684441120"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1156"></a><span>
</span><a name="line-1157"></a><span>
</span><a name="line-1158"></a><span class="hs-identifier">pprOperand</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1159"></a><a name="pprOperand"><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier">pprOperand</span></a></a><span> </span><a name="local-6989586621684441121"><a href="#local-6989586621684441121"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpReg"><span class="hs-identifier hs-var">OpReg</span></a><span> </span><a name="local-6989586621684441122"><a href="#local-6989586621684441122"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441121"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621684441122"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-1160"></a><span class="hs-identifier">pprOperand</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpImm"><span class="hs-identifier hs-var">OpImm</span></a><span> </span><a name="local-6989586621684441123"><a href="#local-6989586621684441123"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprDollImm"><span class="hs-identifier hs-var">pprDollImm</span></a><span> </span><a href="#local-6989586621684441123"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1161"></a><span class="hs-identifier">pprOperand</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#OpAddr"><span class="hs-identifier hs-var">OpAddr</span></a><span> </span><a name="local-6989586621684441124"><a href="#local-6989586621684441124"><span class="hs-identifier">ea</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684441124"><span class="hs-identifier hs-var">ea</span></a><span>
</span><a name="line-1162"></a><span>
</span><a name="line-1163"></a><span>
</span><a name="line-1164"></a><span class="hs-identifier">pprMnemonic_</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1165"></a><a name="pprMnemonic_"><a href="X86.Ppr.html#pprMnemonic_"><span class="hs-identifier">pprMnemonic_</span></a></a><span> </span><a name="local-6989586621684441125"><a href="#local-6989586621684441125"><span class="hs-identifier">name</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1166"></a><span>   </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441125"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">space</span><span>
</span><a name="line-1167"></a><span>
</span><a name="line-1168"></a><span>
</span><a name="line-1169"></a><span class="hs-identifier">pprMnemonic</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1170"></a><a name="pprMnemonic"><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier">pprMnemonic</span></a></a><span> </span><a name="local-6989586621684441126"><a href="#local-6989586621684441126"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441127"><a href="#local-6989586621684441127"><span class="hs-identifier">format</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1171"></a><span>   </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441126"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span> </span><a href="#local-6989586621684441127"><span class="hs-identifier hs-var">format</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">space</span><span>
</span><a name="line-1172"></a><span>
</span><a name="line-1173"></a><span>
</span><a name="line-1174"></a><span class="hs-identifier">pprFormatImmOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Regs.html#Imm"><span class="hs-identifier hs-type">Imm</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1175"></a><a name="pprFormatImmOp"><a href="X86.Ppr.html#pprFormatImmOp"><span class="hs-identifier">pprFormatImmOp</span></a></a><span> </span><a name="local-6989586621684441128"><a href="#local-6989586621684441128"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441129"><a href="#local-6989586621684441129"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441130"><a href="#local-6989586621684441130"><span class="hs-identifier">imm</span></a></a><span> </span><a name="local-6989586621684441131"><a href="#local-6989586621684441131"><span class="hs-identifier">op1</span></a></a><span>
</span><a name="line-1176"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1177"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441128"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441129"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1178"></a><span>        </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'$'</span><span class="hs-special">,</span><span>
</span><a name="line-1179"></a><span>        </span><a href="X86.Ppr.html#pprImm"><span class="hs-identifier hs-var">pprImm</span></a><span> </span><a href="#local-6989586621684441130"><span class="hs-identifier hs-var">imm</span></a><span class="hs-special">,</span><span>
</span><a name="line-1180"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1181"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441129"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441131"><span class="hs-identifier hs-var">op1</span></a><span>
</span><a name="line-1182"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1183"></a><span>
</span><a name="line-1184"></a><span>
</span><a name="line-1185"></a><span class="hs-identifier">pprFormatOp_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1186"></a><a name="pprFormatOp_"><a href="X86.Ppr.html#pprFormatOp_"><span class="hs-identifier">pprFormatOp_</span></a></a><span> </span><a name="local-6989586621684441132"><a href="#local-6989586621684441132"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441133"><a href="#local-6989586621684441133"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441134"><a href="#local-6989586621684441134"><span class="hs-identifier">op1</span></a></a><span>
</span><a name="line-1187"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1188"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic_"><span class="hs-identifier hs-var">pprMnemonic_</span></a><span> </span><a href="#local-6989586621684441132"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-special">,</span><span>
</span><a name="line-1189"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441133"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441134"><span class="hs-identifier hs-var">op1</span></a><span>
</span><a name="line-1190"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1191"></a><span>
</span><a name="line-1192"></a><span class="hs-identifier">pprFormatOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1193"></a><a name="pprFormatOp"><a href="X86.Ppr.html#pprFormatOp"><span class="hs-identifier">pprFormatOp</span></a></a><span> </span><a name="local-6989586621684441135"><a href="#local-6989586621684441135"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441136"><a href="#local-6989586621684441136"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441137"><a href="#local-6989586621684441137"><span class="hs-identifier">op1</span></a></a><span>
</span><a name="line-1194"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1195"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441135"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441136"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1196"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441136"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441137"><span class="hs-identifier hs-var">op1</span></a><span>
</span><a name="line-1197"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1198"></a><span>
</span><a name="line-1199"></a><span>
</span><a name="line-1200"></a><span class="hs-identifier">pprFormatOpOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1201"></a><a name="pprFormatOpOp"><a href="X86.Ppr.html#pprFormatOpOp"><span class="hs-identifier">pprFormatOpOp</span></a></a><span> </span><a name="local-6989586621684441138"><a href="#local-6989586621684441138"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441139"><a href="#local-6989586621684441139"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441140"><a href="#local-6989586621684441140"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441141"><a href="#local-6989586621684441141"><span class="hs-identifier">op2</span></a></a><span>
</span><a name="line-1202"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1203"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441138"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441139"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1204"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441139"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441140"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1205"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1206"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441139"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441141"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-1207"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1208"></a><span>
</span><a name="line-1209"></a><span>
</span><a name="line-1210"></a><span class="hs-identifier">pprOpOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1211"></a><a name="pprOpOp"><a href="X86.Ppr.html#pprOpOp"><span class="hs-identifier">pprOpOp</span></a></a><span> </span><a name="local-6989586621684441142"><a href="#local-6989586621684441142"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441143"><a href="#local-6989586621684441143"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441144"><a href="#local-6989586621684441144"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441145"><a href="#local-6989586621684441145"><span class="hs-identifier">op2</span></a></a><span>
</span><a name="line-1212"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1213"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic_"><span class="hs-identifier hs-var">pprMnemonic_</span></a><span> </span><a href="#local-6989586621684441142"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span>
</span><a name="line-1214"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441143"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441144"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1215"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1216"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441143"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441145"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-1217"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1218"></a><span>
</span><a name="line-1219"></a><span>
</span><a name="line-1220"></a><span class="hs-identifier">pprFormatReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1221"></a><a name="pprFormatReg"><a href="X86.Ppr.html#pprFormatReg"><span class="hs-identifier">pprFormatReg</span></a></a><span> </span><a name="local-6989586621684441146"><a href="#local-6989586621684441146"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441147"><a href="#local-6989586621684441147"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441148"><a href="#local-6989586621684441148"><span class="hs-identifier">reg1</span></a></a><span>
</span><a name="line-1222"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1223"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441146"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441147"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1224"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441147"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441148"><span class="hs-identifier hs-var">reg1</span></a><span>
</span><a name="line-1225"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1226"></a><span>
</span><a name="line-1227"></a><span>
</span><a name="line-1228"></a><span class="hs-identifier">pprFormatRegReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1229"></a><a name="pprFormatRegReg"><a href="X86.Ppr.html#pprFormatRegReg"><span class="hs-identifier">pprFormatRegReg</span></a></a><span> </span><a name="local-6989586621684441149"><a href="#local-6989586621684441149"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441150"><a href="#local-6989586621684441150"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441151"><a href="#local-6989586621684441151"><span class="hs-identifier">reg1</span></a></a><span> </span><a name="local-6989586621684441152"><a href="#local-6989586621684441152"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1230"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1231"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441149"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441150"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1232"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441150"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441151"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1233"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1234"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441150"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441152"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1235"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1236"></a><span>
</span><a name="line-1237"></a><span>
</span><a name="line-1238"></a><span class="hs-identifier">pprRegReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1239"></a><a name="pprRegReg"><a href="X86.Ppr.html#pprRegReg"><span class="hs-identifier">pprRegReg</span></a></a><span> </span><a name="local-6989586621684441153"><a href="#local-6989586621684441153"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441154"><a href="#local-6989586621684441154"><span class="hs-identifier">reg1</span></a></a><span> </span><a name="local-6989586621684441155"><a href="#local-6989586621684441155"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1240"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684441156"><a href="#local-6989586621684441156"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1241"></a><span>    </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1242"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic_"><span class="hs-identifier hs-var">pprMnemonic_</span></a><span> </span><a href="#local-6989586621684441153"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span>
</span><a name="line-1243"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684441156"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441154"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1244"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1245"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684441156"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441155"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1246"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1247"></a><span>
</span><a name="line-1248"></a><span>
</span><a name="line-1249"></a><span class="hs-identifier">pprFormatOpReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1250"></a><a name="pprFormatOpReg"><a href="X86.Ppr.html#pprFormatOpReg"><span class="hs-identifier">pprFormatOpReg</span></a></a><span> </span><a name="local-6989586621684441157"><a href="#local-6989586621684441157"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441158"><a href="#local-6989586621684441158"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441159"><a href="#local-6989586621684441159"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441160"><a href="#local-6989586621684441160"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1251"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">sdocWithPlatform</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621684441161"><a href="#local-6989586621684441161"><span class="hs-identifier">platform</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1252"></a><span>    </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1253"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441157"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441158"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1254"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441158"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441159"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1255"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1256"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><span class="hs-special">(</span><a href="X86.Instr.html#archWordFormat"><span class="hs-identifier hs-var">archWordFormat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">target32Bit</span><span> </span><a href="#local-6989586621684441161"><span class="hs-identifier hs-var">platform</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621684441160"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1257"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1258"></a><span>
</span><a name="line-1259"></a><span class="hs-identifier">pprCondOpReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1260"></a><a name="pprCondOpReg"><a href="X86.Ppr.html#pprCondOpReg"><span class="hs-identifier">pprCondOpReg</span></a></a><span> </span><a name="local-6989586621684441162"><a href="#local-6989586621684441162"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441163"><a href="#local-6989586621684441163"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441164"><a href="#local-6989586621684441164"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684441165"><a href="#local-6989586621684441165"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441166"><a href="#local-6989586621684441166"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1261"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1262"></a><span>        </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span class="hs-special">,</span><span>
</span><a name="line-1263"></a><span>        </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441162"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span>
</span><a name="line-1264"></a><span>        </span><a href="X86.Ppr.html#pprCond"><span class="hs-identifier hs-var">pprCond</span></a><span> </span><a href="#local-6989586621684441164"><span class="hs-identifier hs-var">cond</span></a><span class="hs-special">,</span><span>
</span><a name="line-1265"></a><span>        </span><span class="hs-identifier hs-var">space</span><span class="hs-special">,</span><span>
</span><a name="line-1266"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441163"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441165"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1267"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1268"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441163"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441166"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1269"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1270"></a><span>
</span><a name="line-1271"></a><span class="hs-identifier">pprCondRegReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1272"></a><a name="pprCondRegReg"><a href="X86.Ppr.html#pprCondRegReg"><span class="hs-identifier">pprCondRegReg</span></a></a><span> </span><a name="local-6989586621684441167"><a href="#local-6989586621684441167"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441168"><a href="#local-6989586621684441168"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441169"><a href="#local-6989586621684441169"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684441170"><a href="#local-6989586621684441170"><span class="hs-identifier">reg1</span></a></a><span> </span><a name="local-6989586621684441171"><a href="#local-6989586621684441171"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1273"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1274"></a><span>        </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span class="hs-special">,</span><span>
</span><a name="line-1275"></a><span>        </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441167"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span>
</span><a name="line-1276"></a><span>        </span><a href="X86.Ppr.html#pprCond"><span class="hs-identifier hs-var">pprCond</span></a><span> </span><a href="#local-6989586621684441169"><span class="hs-identifier hs-var">cond</span></a><span class="hs-special">,</span><span>
</span><a name="line-1277"></a><span>        </span><span class="hs-identifier hs-var">space</span><span class="hs-special">,</span><span>
</span><a name="line-1278"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441168"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441170"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1279"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1280"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441168"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441171"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1281"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1282"></a><span>
</span><a name="line-1283"></a><span class="hs-identifier">pprFormatFormatRegReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1284"></a><a name="pprFormatFormatRegReg"><a href="X86.Ppr.html#pprFormatFormatRegReg"><span class="hs-identifier">pprFormatFormatRegReg</span></a></a><span> </span><a name="local-6989586621684441172"><a href="#local-6989586621684441172"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441173"><a href="#local-6989586621684441173"><span class="hs-identifier">format1</span></a></a><span> </span><a name="local-6989586621684441174"><a href="#local-6989586621684441174"><span class="hs-identifier">format2</span></a></a><span> </span><a name="local-6989586621684441175"><a href="#local-6989586621684441175"><span class="hs-identifier">reg1</span></a></a><span> </span><a name="local-6989586621684441176"><a href="#local-6989586621684441176"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1285"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1286"></a><span>        </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span class="hs-special">,</span><span>
</span><a name="line-1287"></a><span>        </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441172"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span>
</span><a name="line-1288"></a><span>        </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span> </span><a href="#local-6989586621684441173"><span class="hs-identifier hs-var">format1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1289"></a><span>        </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span> </span><a href="#local-6989586621684441174"><span class="hs-identifier hs-var">format2</span></a><span class="hs-special">,</span><span>
</span><a name="line-1290"></a><span>        </span><span class="hs-identifier hs-var">space</span><span class="hs-special">,</span><span>
</span><a name="line-1291"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441173"><span class="hs-identifier hs-var">format1</span></a><span> </span><a href="#local-6989586621684441175"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1292"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1293"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441174"><span class="hs-identifier hs-var">format2</span></a><span> </span><a href="#local-6989586621684441176"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1294"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1295"></a><span>
</span><a name="line-1296"></a><span class="hs-identifier">pprFormatFormatOpReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1297"></a><a name="pprFormatFormatOpReg"><a href="X86.Ppr.html#pprFormatFormatOpReg"><span class="hs-identifier">pprFormatFormatOpReg</span></a></a><span> </span><a name="local-6989586621684441177"><a href="#local-6989586621684441177"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441178"><a href="#local-6989586621684441178"><span class="hs-identifier">format1</span></a></a><span> </span><a name="local-6989586621684441179"><a href="#local-6989586621684441179"><span class="hs-identifier">format2</span></a></a><span> </span><a name="local-6989586621684441180"><a href="#local-6989586621684441180"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441181"><a href="#local-6989586621684441181"><span class="hs-identifier">reg2</span></a></a><span>
</span><a name="line-1298"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1299"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441177"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441179"><span class="hs-identifier hs-var">format2</span></a><span class="hs-special">,</span><span>
</span><a name="line-1300"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441178"><span class="hs-identifier hs-var">format1</span></a><span> </span><a href="#local-6989586621684441180"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1301"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1302"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441179"><span class="hs-identifier hs-var">format2</span></a><span> </span><a href="#local-6989586621684441181"><span class="hs-identifier hs-var">reg2</span></a><span>
</span><a name="line-1303"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1304"></a><span>
</span><a name="line-1305"></a><span class="hs-identifier">pprFormatRegRegReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1306"></a><a name="pprFormatRegRegReg"><a href="X86.Ppr.html#pprFormatRegRegReg"><span class="hs-identifier">pprFormatRegRegReg</span></a></a><span> </span><a name="local-6989586621684441182"><a href="#local-6989586621684441182"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441183"><a href="#local-6989586621684441183"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441184"><a href="#local-6989586621684441184"><span class="hs-identifier">reg1</span></a></a><span> </span><a name="local-6989586621684441185"><a href="#local-6989586621684441185"><span class="hs-identifier">reg2</span></a></a><span> </span><a name="local-6989586621684441186"><a href="#local-6989586621684441186"><span class="hs-identifier">reg3</span></a></a><span>
</span><a name="line-1307"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1308"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441182"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441183"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1309"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441183"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441184"><span class="hs-identifier hs-var">reg1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1310"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1311"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441183"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441185"><span class="hs-identifier hs-var">reg2</span></a><span class="hs-special">,</span><span>
</span><a name="line-1312"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1313"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441183"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441186"><span class="hs-identifier hs-var">reg3</span></a><span>
</span><a name="line-1314"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1315"></a><span>
</span><a name="line-1316"></a><span class="hs-identifier">pprFormatOpOpReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1317"></a><a name="pprFormatOpOpReg"><a href="X86.Ppr.html#pprFormatOpOpReg"><span class="hs-identifier">pprFormatOpOpReg</span></a></a><span> </span><a name="local-6989586621684441187"><a href="#local-6989586621684441187"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441188"><a href="#local-6989586621684441188"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441189"><a href="#local-6989586621684441189"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441190"><a href="#local-6989586621684441190"><span class="hs-identifier">op2</span></a></a><span> </span><a name="local-6989586621684441191"><a href="#local-6989586621684441191"><span class="hs-identifier">reg3</span></a></a><span>
</span><a name="line-1318"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1319"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441187"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441188"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1320"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441188"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441189"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1321"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1322"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441188"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441190"><span class="hs-identifier hs-var">op2</span></a><span class="hs-special">,</span><span>
</span><a name="line-1323"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1324"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441188"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441191"><span class="hs-identifier hs-var">reg3</span></a><span>
</span><a name="line-1325"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1326"></a><span>
</span><a name="line-1327"></a><span class="hs-identifier">pprFormatAddrReg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Regs.html#AddrMode"><span class="hs-identifier hs-type">AddrMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1328"></a><a name="pprFormatAddrReg"><a href="X86.Ppr.html#pprFormatAddrReg"><span class="hs-identifier">pprFormatAddrReg</span></a></a><span> </span><a name="local-6989586621684441192"><a href="#local-6989586621684441192"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441193"><a href="#local-6989586621684441193"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441194"><a href="#local-6989586621684441194"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621684441195"><a href="#local-6989586621684441195"><span class="hs-identifier">dst</span></a></a><span>
</span><a name="line-1329"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1330"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441192"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441193"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1331"></a><span>        </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684441194"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">,</span><span>
</span><a name="line-1332"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1333"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441193"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441195"><span class="hs-identifier hs-var">dst</span></a><span>
</span><a name="line-1334"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1335"></a><span>
</span><a name="line-1336"></a><span>
</span><a name="line-1337"></a><span class="hs-identifier">pprFormatRegAddr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Reg.html#Reg"><span class="hs-identifier hs-type">Reg</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Regs.html#AddrMode"><span class="hs-identifier hs-type">AddrMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1338"></a><a name="pprFormatRegAddr"><a href="X86.Ppr.html#pprFormatRegAddr"><span class="hs-identifier">pprFormatRegAddr</span></a></a><span> </span><a name="local-6989586621684441196"><a href="#local-6989586621684441196"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441197"><a href="#local-6989586621684441197"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441198"><a href="#local-6989586621684441198"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441199"><a href="#local-6989586621684441199"><span class="hs-identifier">op</span></a></a><span>
</span><a name="line-1339"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1340"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441196"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441197"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1341"></a><span>        </span><a href="X86.Ppr.html#pprReg"><span class="hs-identifier hs-var">pprReg</span></a><span> </span><a href="#local-6989586621684441197"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441198"><span class="hs-identifier hs-var">src</span></a><span class="hs-special">,</span><span>
</span><a name="line-1342"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1343"></a><span>        </span><a href="X86.Ppr.html#pprAddr"><span class="hs-identifier hs-var">pprAddr</span></a><span> </span><a href="#local-6989586621684441199"><span class="hs-identifier hs-var">op</span></a><span>
</span><a name="line-1344"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1345"></a><span>
</span><a name="line-1346"></a><span>
</span><a name="line-1347"></a><span class="hs-identifier">pprShift</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1348"></a><a name="pprShift"><a href="X86.Ppr.html#pprShift"><span class="hs-identifier">pprShift</span></a></a><span> </span><a name="local-6989586621684441200"><a href="#local-6989586621684441200"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441201"><a href="#local-6989586621684441201"><span class="hs-identifier">format</span></a></a><span> </span><a name="local-6989586621684441202"><a href="#local-6989586621684441202"><span class="hs-identifier">src</span></a></a><span> </span><a name="local-6989586621684441203"><a href="#local-6989586621684441203"><span class="hs-identifier">dest</span></a></a><span>
</span><a name="line-1349"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-1350"></a><span>        </span><a href="X86.Ppr.html#pprMnemonic"><span class="hs-identifier hs-var">pprMnemonic</span></a><span> </span><a href="#local-6989586621684441200"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="#local-6989586621684441201"><span class="hs-identifier hs-var">format</span></a><span class="hs-special">,</span><span>
</span><a name="line-1351"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="Format.html#II8"><span class="hs-identifier hs-var">II8</span></a><span> </span><a href="#local-6989586621684441202"><span class="hs-identifier hs-var">src</span></a><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- src is 8-bit sized</span><span>
</span><a name="line-1352"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1353"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441201"><span class="hs-identifier hs-var">format</span></a><span> </span><a href="#local-6989586621684441203"><span class="hs-identifier hs-var">dest</span></a><span>
</span><a name="line-1354"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1355"></a><span>
</span><a name="line-1356"></a><span>
</span><a name="line-1357"></a><span class="hs-identifier">pprFormatOpOpCoerce</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Format.html#Format"><span class="hs-identifier hs-type">Format</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Instr.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1358"></a><a name="pprFormatOpOpCoerce"><a href="X86.Ppr.html#pprFormatOpOpCoerce"><span class="hs-identifier">pprFormatOpOpCoerce</span></a></a><span> </span><a name="local-6989586621684441204"><a href="#local-6989586621684441204"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441205"><a href="#local-6989586621684441205"><span class="hs-identifier">format1</span></a></a><span> </span><a name="local-6989586621684441206"><a href="#local-6989586621684441206"><span class="hs-identifier">format2</span></a></a><span> </span><a name="local-6989586621684441207"><a href="#local-6989586621684441207"><span class="hs-identifier">op1</span></a></a><span> </span><a name="local-6989586621684441208"><a href="#local-6989586621684441208"><span class="hs-identifier">op2</span></a></a><span>
</span><a name="line-1359"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441204"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span> </span><a href="#local-6989586621684441205"><span class="hs-identifier hs-var">format1</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprFormat"><span class="hs-identifier hs-var">pprFormat</span></a><span> </span><a href="#local-6989586621684441206"><span class="hs-identifier hs-var">format2</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">space</span><span class="hs-special">,</span><span>
</span><a name="line-1360"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441205"><span class="hs-identifier hs-var">format1</span></a><span> </span><a href="#local-6989586621684441207"><span class="hs-identifier hs-var">op1</span></a><span class="hs-special">,</span><span>
</span><a name="line-1361"></a><span>        </span><span class="hs-identifier hs-var">comma</span><span class="hs-special">,</span><span>
</span><a name="line-1362"></a><span>        </span><a href="X86.Ppr.html#pprOperand"><span class="hs-identifier hs-var">pprOperand</span></a><span> </span><a href="#local-6989586621684441206"><span class="hs-identifier hs-var">format2</span></a><span> </span><a href="#local-6989586621684441208"><span class="hs-identifier hs-var">op2</span></a><span>
</span><a name="line-1363"></a><span>    </span><span class="hs-special">]</span><span>
</span><a name="line-1364"></a><span>
</span><a name="line-1365"></a><span>
</span><a name="line-1366"></a><span class="hs-identifier">pprCondInstr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PtrString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="X86.Cond.html#Cond"><span class="hs-identifier hs-type">Cond</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">SDoc</span><span>
</span><a name="line-1367"></a><a name="pprCondInstr"><a href="X86.Ppr.html#pprCondInstr"><span class="hs-identifier">pprCondInstr</span></a></a><span> </span><a name="local-6989586621684441209"><a href="#local-6989586621684441209"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621684441210"><a href="#local-6989586621684441210"><span class="hs-identifier">cond</span></a></a><span> </span><a name="local-6989586621684441211"><a href="#local-6989586621684441211"><span class="hs-identifier">arg</span></a></a><span>
</span><a name="line-1368"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">hcat</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier hs-var">char</span><span> </span><span class="hs-char">'\t'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">ptext</span><span> </span><a href="#local-6989586621684441209"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">,</span><span> </span><a href="X86.Ppr.html#pprCond"><span class="hs-identifier hs-var">pprCond</span></a><span> </span><a href="#local-6989586621684441210"><span class="hs-identifier hs-var">cond</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">space</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621684441211"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">]</span><span>
</span><a name="line-1369"></a></pre></body></html>