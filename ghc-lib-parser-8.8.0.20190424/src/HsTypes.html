<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998


HsTypes: Abstract syntax: user-defined types
-}</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><a name="line-13"></a><span class="hs-pragma">{-# LANGUAGE TypeSynonymInstances #-}</span><span>
</span><a name="line-14"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span> </span><span class="hs-comment">-- Note [Pass sensitive types]</span><span>
</span><a name="line-15"></a><span>                                      </span><span class="hs-comment">-- in module PlaceHolder</span><span>
</span><a name="line-16"></a><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><a name="line-17"></a><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><a name="line-18"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><a name="line-19"></a><span>
</span><a name="line-20"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">HsTypes</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-21"></a><span>        </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#NewHsTypeX"><span class="hs-identifier hs-type">NewHsTypeX</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#HsKind"><span class="hs-identifier hs-type">HsKind</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>        </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>        </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-type">HsQTvsRn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-24"></a><span>        </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>        </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>        </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsWcType"><span class="hs-identifier hs-type">LHsWcType</span></a><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>        </span><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier hs-type">HsTupleSort</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>        </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>        </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-30"></a><span>        </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsIPNameFS"><span class="hs-identifier hs-var">hsIPNameFS</span></a><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>        </span><a href="HsTypes.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#numVisibleArgs"><span class="hs-identifier hs-var">numVisibleArgs</span></a><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>        </span><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a><span class="hs-special">,</span><span>
</span><a name="line-33"></a><span>
</span><a name="line-34"></a><span>        </span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#BangType"><span class="hs-identifier hs-type">BangType</span></a><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>        </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#HsImplBang"><span class="hs-identifier hs-type">HsImplBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>        </span><a href="DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-37"></a><span>        </span><a href="HsTypes.html#getBangType"><span class="hs-identifier hs-var">getBangType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getBangStrictness"><span class="hs-identifier hs-var">getBangStrictness</span></a><span class="hs-special">,</span><span>
</span><a name="line-38"></a><span>
</span><a name="line-39"></a><span>        </span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span class="hs-special">,</span><span>
</span><a name="line-40"></a><span>
</span><a name="line-41"></a><span>        </span><a href="HsTypes.html#HsConDetails"><span class="hs-identifier hs-type">HsConDetails</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-42"></a><span>
</span><a name="line-43"></a><span>        </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier hs-type">LFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkFieldOcc"><span class="hs-identifier hs-var">mkFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span>        </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkAmbiguousFieldOcc"><span class="hs-identifier hs-var">mkAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>        </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#selectorAmbiguousFieldOcc"><span class="hs-identifier hs-var">selectorAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-46"></a><span>        </span><a href="HsTypes.html#unambiguousFieldOcc"><span class="hs-identifier hs-var">unambiguousFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ambiguousFieldOcc"><span class="hs-identifier hs-var">ambiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span>        </span><a href="HsTypes.html#mkAnonWildCardTy"><span class="hs-identifier hs-var">mkAnonWildCardTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprAnonWildCard"><span class="hs-identifier hs-var">pprAnonWildCard</span></a><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>
</span><a name="line-50"></a><span>        </span><a href="HsTypes.html#mkHsImplicitBndrs"><span class="hs-identifier hs-var">mkHsImplicitBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier hs-var">hsImplicitBody</span></a><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>        </span><a href="HsTypes.html#mkEmptyImplicitBndrs"><span class="hs-identifier hs-var">mkEmptyImplicitBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkEmptyWildCardBndrs"><span class="hs-identifier hs-var">mkEmptyWildCardBndrs</span></a><span class="hs-special">,</span><span>
</span><a name="line-52"></a><span>        </span><a href="HsTypes.html#mkHsQTvs"><span class="hs-identifier hs-var">mkHsQTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#emptyLHsQTvs"><span class="hs-identifier hs-var">emptyLHsQTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#isEmptyLHsQTvs"><span class="hs-identifier hs-var">isEmptyLHsQTvs</span></a><span class="hs-special">,</span><span>
</span><a name="line-53"></a><span>        </span><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier hs-var">isHsKindedTyVar</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier hs-var">hsTvbAllKinded</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#isLHsForAllTy"><span class="hs-identifier hs-var">isLHsForAllTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-54"></a><span>        </span><a href="HsTypes.html#hsScopedTvs"><span class="hs-identifier hs-var">hsScopedTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsWcScopedTvs"><span class="hs-identifier hs-var">hsWcScopedTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span>        </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsAllLTyVarNames"><span class="hs-identifier hs-var">hsAllLTyVarNames</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarLocNames"><span class="hs-identifier hs-var">hsLTyVarLocNames</span></a><span class="hs-special">,</span><span>
</span><a name="line-56"></a><span>        </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier hs-var">hsLTyVarLocName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsExplicitLTyVarNames"><span class="hs-identifier hs-var">hsExplicitLTyVarNames</span></a><span class="hs-special">,</span><span>
</span><a name="line-57"></a><span>        </span><a href="HsTypes.html#splitLHsInstDeclTy"><span class="hs-identifier hs-var">splitLHsInstDeclTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier hs-var">getLHsInstDeclHead</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getLHsInstDeclClass_maybe"><span class="hs-identifier hs-var">getLHsInstDeclClass_maybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-58"></a><span>        </span><a href="HsTypes.html#splitLHsPatSynTy"><span class="hs-identifier hs-var">splitLHsPatSynTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-59"></a><span>        </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-60"></a><span>        </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span class="hs-special">,</span><span>
</span><a name="line-61"></a><span>        </span><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier hs-var">splitHsAppTys</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier hs-var">hsTyGetAppHead_maybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-62"></a><span>        </span><a href="HsTypes.html#mkHsOpTy"><span class="hs-identifier hs-var">mkHsOpTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier hs-var">mkHsAppTys</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppKindTy"><span class="hs-identifier hs-var">mkHsAppKindTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-63"></a><span>        </span><a href="HsTypes.html#ignoreParens"><span class="hs-identifier hs-var">ignoreParens</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsSigType"><span class="hs-identifier hs-var">hsSigType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsSigWcType"><span class="hs-identifier hs-var">hsSigWcType</span></a><span class="hs-special">,</span><span>
</span><a name="line-64"></a><span>        </span><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier hs-var">hsLTyVarBndrToType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarBndrsToTypes"><span class="hs-identifier hs-var">hsLTyVarBndrsToTypes</span></a><span class="hs-special">,</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span>        </span><span class="hs-comment">-- Printing</span><span>
</span><a name="line-67"></a><span>        </span><a href="HsTypes.html#pprHsType"><span class="hs-identifier hs-var">pprHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier hs-var">pprHsForAll</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier hs-var">pprHsForAllExtra</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsExplicitForAll"><span class="hs-identifier hs-var">pprHsExplicitForAll</span></a><span class="hs-special">,</span><span>
</span><a name="line-68"></a><span>        </span><a href="HsTypes.html#pprLHsContext"><span class="hs-identifier hs-var">pprLHsContext</span></a><span class="hs-special">,</span><span>
</span><a name="line-69"></a><span>        </span><a href="HsTypes.html#hsTypeNeedsParens"><span class="hs-identifier hs-var">hsTypeNeedsParens</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#parenthesizeHsContext"><span class="hs-identifier hs-var">parenthesizeHsContext</span></a><span>
</span><a name="line-70"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-keyword">import</span><span> </span><a href="GhcPrelude.html"><span class="hs-identifier">GhcPrelude</span></a><span>
</span><a name="line-73"></a><span>
</span><a name="line-74"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><a href="HsExpr.html"><span class="hs-identifier">HsExpr</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span class="hs-keyword">import</span><span> </span><a href="HsExtension.html"><span class="hs-identifier">HsExtension</span></a><span>
</span><a name="line-77"></a><span class="hs-keyword">import</span><span> </span><a href="HsLit.html"><span class="hs-identifier">HsLit</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- for instances</span><span>
</span><a name="line-78"></a><span>
</span><a name="line-79"></a><span class="hs-keyword">import</span><span> </span><a href="Id.html"><span class="hs-identifier">Id</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-80"></a><span class="hs-keyword">import</span><span> </span><a href="Name.html"><span class="hs-identifier">Name</span></a><span class="hs-special">(</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-81"></a><span class="hs-keyword">import</span><span> </span><a href="RdrName.html"><span class="hs-identifier">RdrName</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-82"></a><span class="hs-keyword">import</span><span> </span><a href="NameSet.html"><span class="hs-identifier">NameSet</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span class="hs-special">,</span><span> </span><a href="NameSet.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-83"></a><span class="hs-keyword">import</span><span> </span><a href="DataCon.html"><span class="hs-identifier">DataCon</span></a><span class="hs-special">(</span><span> </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#HsImplBang"><span class="hs-identifier hs-type">HsImplBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-84"></a><span>                </span><a href="DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span class="hs-keyword">import</span><span> </span><a href="TysPrim.html"><span class="hs-identifier">TysPrim</span></a><span class="hs-special">(</span><span> </span><a href="TysPrim.html#funTyConName"><span class="hs-identifier hs-var">funTyConName</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-86"></a><span class="hs-keyword">import</span><span> </span><a href="Type.html"><span class="hs-identifier">Type</span></a><span>
</span><a name="line-87"></a><span class="hs-keyword">import</span><span> </span><a href="HsDoc.html"><span class="hs-identifier">HsDoc</span></a><span>
</span><a name="line-88"></a><span class="hs-keyword">import</span><span> </span><a href="BasicTypes.html"><span class="hs-identifier">BasicTypes</span></a><span>
</span><a name="line-89"></a><span class="hs-keyword">import</span><span> </span><a href="SrcLoc.html"><span class="hs-identifier">SrcLoc</span></a><span>
</span><a name="line-90"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-91"></a><span class="hs-keyword">import</span><span> </span><a href="FastString.html"><span class="hs-identifier">FastString</span></a><span>
</span><a name="line-92"></a><span class="hs-keyword">import</span><span> </span><a href="Maybes.html"><span class="hs-identifier">Maybes</span></a><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-var">isJust</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-93"></a><span class="hs-keyword">import</span><span> </span><a href="Util.html"><span class="hs-identifier">Util</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Data</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Fixity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Prefix</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Infix</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Bang annotations}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-104"></a><span>
</span><a name="line-105"></a><span class="hs-comment">-- | Located Bang Type</span><span>
</span><a name="line-106"></a><span class="hs-keyword">type</span><span> </span><a name="LBangType"><a href="HsTypes.html#LBangType"><span class="hs-identifier">LBangType</span></a></a><span> </span><a name="local-6989586621682666406"><a href="#local-6989586621682666406"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#BangType"><span class="hs-identifier hs-type">BangType</span></a><span> </span><a href="#local-6989586621682666406"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-107"></a><span>
</span><a name="line-108"></a><span class="hs-comment">-- | Bang Type</span><span>
</span><a name="line-109"></a><span class="hs-keyword">type</span><span> </span><a name="BangType"><a href="HsTypes.html#BangType"><span class="hs-identifier">BangType</span></a></a><span> </span><a name="local-6989586621682666405"><a href="#local-6989586621682666405"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621682666405"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- Bangs are in the HsType data type</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-identifier">getBangType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666547"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666547"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-112"></a><a name="getBangType"><a href="HsTypes.html#getBangType"><span class="hs-identifier">getBangType</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666548"><a href="#local-6989586621682666548"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666548"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-113"></a><span class="hs-identifier">getBangType</span><span> </span><a name="local-6989586621682666549"><a href="#local-6989586621682666549"><span class="hs-identifier">ty</span></a></a><span>                      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666549"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-114"></a><span>
</span><a name="line-115"></a><span class="hs-identifier">getBangStrictness</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666546"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span>
</span><a name="line-116"></a><a name="getBangStrictness"><a href="HsTypes.html#getBangStrictness"><span class="hs-identifier">getBangStrictness</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666550"><a href="#local-6989586621682666550"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666550"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-117"></a><span class="hs-identifier">getBangStrictness</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a><span> </span><a href="BasicTypes.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a><span> </span><a href="DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a><span> </span><a href="DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a><span class="hs-special">)</span><span>
</span><a name="line-118"></a><span>
</span><a name="line-119"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Data types}
*                                                                      *
************************************************************************

This is the syntax for types as seen in type signatures.

Note [HsBSig binder lists]
~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider a binder (or pattern) decorated with a type or kind,
   \ (x :: a -&gt; a). blah
   forall (a :: k -&gt; *) (b :: k). blah
Then we use a LHsBndrSig on the binder, so that the
renamer can decorate it with the variables bound
by the pattern ('a' in the first example, 'k' in the second),
assuming that neither of them is in scope already
See also Note [Kind and type-variable binders] in RnTypes

Note [HsType binders]
~~~~~~~~~~~~~~~~~~~~~
The system for recording type and kind-variable binders in HsTypes
is a bit complicated.  Here's how it works.

* In a HsType,
     HsForAllTy   represents an /explicit, user-written/ 'forall'
                   e.g.   forall a b. ...
     HsQualTy     represents an /explicit, user-written/ context
                   e.g.   (Eq a, Show a) =&gt; ...
                  The context can be empty if that's what the user wrote
  These constructors represent what the user wrote, no more
  and no less.

* HsTyVarBndr describes a quantified type variable written by the
  user.  For example
     f :: forall a (b :: *).  blah
  here 'a' and '(b::*)' are each a HsTyVarBndr.  A HsForAllTy has
  a list of LHsTyVarBndrs.

* HsImplicitBndrs is a wrapper that gives the implicitly-quantified
  kind and type variables of the wrapped thing.  It is filled in by
  the renamer. For example, if the user writes
     f :: a -&gt; a
  the HsImplicitBinders binds the 'a' (not a HsForAllTy!).
  NB: this implicit quantification is purely lexical: we bind any
      type or kind variables that are not in scope. The type checker
      may subsequently quantify over further kind variables.

* HsWildCardBndrs is a wrapper that binds the wildcard variables
  of the wrapped thing.  It is filled in by the renamer
     f :: _a -&gt; _
  The enclosing HsWildCardBndrs binds the wildcards _a and _.

* The explicit presence of these wrappers specifies, in the HsSyn,
  exactly where implicit quantification is allowed, and where
  wildcards are allowed.

* LHsQTyVars is used in data/class declarations, where the user gives
  explicit *type* variable bindings, but we need to implicitly bind
  *kind* variables.  For example
      class C (a :: k -&gt; *) where ...
  The 'k' is implicitly bound in the hsq_tvs field of LHsQTyVars

Note [The wildcard story for types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Types can have wildcards in them, to support partial type signatures,
like       f :: Int -&gt; (_ , _a) -&gt; _a

A wildcard in a type can be

  * An anonymous wildcard,
        written '_'
    In HsType this is represented by HsWildCardTy.
    The renamer leaves it untouched, and it is later given fresh meta tyvars in
    the typechecker.

  * A named wildcard,
        written '_a', '_foo', etc
    In HsType this is represented by (HsTyVar &quot;_a&quot;)
    i.e. a perfectly ordinary type variable that happens
         to start with an underscore

Note carefully:

* When NamedWildCards is off, type variables that start with an
  underscore really /are/ ordinary type variables.  And indeed, even
  when NamedWildCards is on you can bind _a explicitly as an ordinary
  type variable:
        data T _a _b = MkT _b _a
  Or even:
        f :: forall _a. _a -&gt; _b
  Here _a is an ordinary forall'd binder, but (With NamedWildCards)
  _b is a named wildcard.  (See the comments in Trac #10982)

* Named wildcards are bound by the HsWildCardBndrs construct, which wraps
  types that are allowed to have wildcards. Unnamed wildcards however are left
  unchanged until typechecking, where we give them fresh wild tyavrs and
  determine whether or not to emit hole constraints on each wildcard
  (we don't if it's a visible type/kind argument or a type family pattern).
  See related notes Note [Wildcards in visible kind application]
  and Note [Wildcards in visible type application] in TcHsType.hs

* After type checking is done, we report what types the wildcards
  got unified with.

Note [Ordering of implicit variables]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Since the advent of -XTypeApplications, GHC makes promises about the ordering
of implicit variable quantification. Specifically, we offer that implicitly
quantified variables (such as those in const :: a -&gt; b -&gt; a, without a `forall`)
will occur in left-to-right order of first occurrence. Here are a few examples:

  const :: a -&gt; b -&gt; a       -- forall a b. ...
  f :: Eq a =&gt; b -&gt; a -&gt; a   -- forall a b. ...  contexts are included

  type a &lt;-&lt; b = b -&gt; a
  g :: a &lt;-&lt; b               -- forall a b. ...  type synonyms matter

  class Functor f where
    fmap :: (a -&gt; b) -&gt; f a -&gt; f b   -- forall f a b. ...
    -- The f is quantified by the class, so only a and b are considered in fmap

This simple story is complicated by the possibility of dependency: all variables
must come after any variables mentioned in their kinds.

  typeRep :: Typeable a =&gt; TypeRep (a :: k)   -- forall k a. ...

The k comes first because a depends on k, even though the k appears later than
the a in the code. Thus, GHC does a *stable topological sort* on the variables.
By &quot;stable&quot;, we mean that any two variables who do not depend on each other
preserve their existing left-to-right ordering.

Implicitly bound variables are collected by the extract- family of functions
(extractHsTysRdrTyVars, extractHsTyVarBndrsKVs, etc.) in RnTypes.
These functions thus promise to keep left-to-right ordering.
Look for pointers to this note to see the places where the action happens.

Note that we also maintain this ordering in kind signatures. Even though
there's no visible kind application (yet), having implicit variables be
quantified in left-to-right order in kind signatures is nice since:

* It's consistent with the treatment for type signatures.
* It can affect how types are displayed with -fprint-explicit-kinds (see
  #15568 for an example), which is a situation where knowing the order in
  which implicit variables are quantified can be useful.
* In the event that visible kind application is implemented, the order in
  which we would expect implicit variables to be ordered in kinds will have
  already been established.
-}</span><span>
</span><a name="line-269"></a><span>
</span><a name="line-270"></a><span class="hs-comment">-- | Located Haskell Context</span><span>
</span><a name="line-271"></a><span class="hs-keyword">type</span><span> </span><a name="LHsContext"><a href="HsTypes.html#LHsContext"><span class="hs-identifier">LHsContext</span></a></a><span> </span><a name="local-6989586621682666404"><a href="#local-6989586621682666404"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621682666404"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-272"></a><span>      </span><span class="hs-comment">-- ^ 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnUnit'</span><span>
</span><a name="line-273"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-274"></a><span>
</span><a name="line-275"></a><span class="hs-identifier">noLHsContext</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666545"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-276"></a><span class="hs-comment">-- Use this when there is no context in the original program</span><span>
</span><a name="line-277"></a><span class="hs-comment">-- It would really be more kosher to use a Maybe, to distinguish</span><span>
</span><a name="line-278"></a><span class="hs-comment">--     class () =&gt; C a where ...</span><span>
</span><a name="line-279"></a><span class="hs-comment">-- from</span><span>
</span><a name="line-280"></a><span class="hs-comment">--     class C a where ...</span><span>
</span><a name="line-281"></a><a name="noLHsContext"><a href="HsTypes.html#noLHsContext"><span class="hs-identifier">noLHsContext</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-282"></a><span>
</span><a name="line-283"></a><span class="hs-comment">-- | Haskell Context</span><span>
</span><a name="line-284"></a><span class="hs-keyword">type</span><span> </span><a name="HsContext"><a href="HsTypes.html#HsContext"><span class="hs-identifier">HsContext</span></a></a><span> </span><a name="local-6989586621682666403"><a href="#local-6989586621682666403"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666403"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-285"></a><span>
</span><a name="line-286"></a><span class="hs-comment">-- | Located Haskell Type</span><span>
</span><a name="line-287"></a><span class="hs-keyword">type</span><span> </span><a name="LHsType"><a href="HsTypes.html#LHsType"><span class="hs-identifier">LHsType</span></a></a><span> </span><a name="local-6989586621682666402"><a href="#local-6989586621682666402"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621682666402"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-288"></a><span>      </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma' when</span><span>
</span><a name="line-289"></a><span>      </span><span class="hs-comment">--   in a list</span><span>
</span><a name="line-290"></a><span>
</span><a name="line-291"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-292"></a><span>
</span><a name="line-293"></a><span class="hs-comment">-- | Haskell Kind</span><span>
</span><a name="line-294"></a><span class="hs-keyword">type</span><span> </span><a name="HsKind"><a href="HsTypes.html#HsKind"><span class="hs-identifier">HsKind</span></a></a><span> </span><a name="local-6989586621682666401"><a href="#local-6989586621682666401"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621682666401"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-295"></a><span>
</span><a name="line-296"></a><span class="hs-comment">-- | Located Haskell Kind</span><span>
</span><a name="line-297"></a><span class="hs-keyword">type</span><span> </span><a name="LHsKind"><a href="HsTypes.html#LHsKind"><span class="hs-identifier">LHsKind</span></a></a><span> </span><a name="local-6989586621682666400"><a href="#local-6989586621682666400"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKind"><span class="hs-identifier hs-type">HsKind</span></a><span> </span><a href="#local-6989586621682666400"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-298"></a><span>      </span><span class="hs-comment">-- ^ 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-299"></a><span>
</span><a name="line-300"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-301"></a><span>
</span><a name="line-302"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-303"></a><span class="hs-comment">--             LHsQTyVars</span><span>
</span><a name="line-304"></a><span class="hs-comment">--  The explicitly-quantified binders in a data/type declaration</span><span>
</span><a name="line-305"></a><span>
</span><a name="line-306"></a><span class="hs-comment">-- | Located Haskell Type Variable Binder</span><span>
</span><a name="line-307"></a><span class="hs-keyword">type</span><span> </span><a name="LHsTyVarBndr"><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier">LHsTyVarBndr</span></a></a><span> </span><a name="local-6989586621682666399"><a href="#local-6989586621682666399"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666399"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-308"></a><span>                         </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-309"></a><span>
</span><a name="line-310"></a><span class="hs-comment">-- | Located Haskell Quantified Type Variables</span><span>
</span><a name="line-311"></a><span class="hs-keyword">data</span><span> </span><a name="LHsQTyVars"><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier">LHsQTyVars</span></a></a><span> </span><a name="local-6989586621682666398"><a href="#local-6989586621682666398"><span class="hs-identifier">pass</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-312"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsQTvs"><a href="HsTypes.html#HsQTvs"><span class="hs-identifier">HsQTvs</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hsq_ext"><a href="HsTypes.html#hsq_ext"><span class="hs-identifier">hsq_ext</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XHsQTvs"><span class="hs-identifier hs-type">XHsQTvs</span></a><span> </span><a href="#local-6989586621682666398"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-313"></a><span>
</span><a name="line-314"></a><span>           </span><span class="hs-special">,</span><span> </span><a name="hsq_explicit"><a href="HsTypes.html#hsq_explicit"><span class="hs-identifier">hsq_explicit</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666398"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-315"></a><span>                </span><span class="hs-comment">-- Explicit variables, written by the user</span><span>
</span><a name="line-316"></a><span>                </span><span class="hs-comment">-- See Note [HsForAllTy tyvar binders]</span><span>
</span><a name="line-317"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-318"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XLHsQTyVars"><a href="HsTypes.html#XLHsQTyVars"><span class="hs-identifier">XLHsQTyVars</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXLHsQTyVars"><span class="hs-identifier hs-type">XXLHsQTyVars</span></a><span> </span><a href="#local-6989586621682666398"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-319"></a><span>
</span><a name="line-320"></a><span class="hs-keyword">data</span><span> </span><a name="HsQTvsRn"><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier">HsQTvsRn</span></a></a><span>
</span><a name="line-321"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsQTvsRn"><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier">HsQTvsRn</span></a></a><span>
</span><a name="line-322"></a><span>           </span><span class="hs-special">{</span><span> </span><a name="hsq_implicit"><a href="HsTypes.html#hsq_implicit"><span class="hs-identifier">hsq_implicit</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-323"></a><span>                </span><span class="hs-comment">-- Implicit (dependent) variables</span><span>
</span><a name="line-324"></a><span>
</span><a name="line-325"></a><span>           </span><span class="hs-special">,</span><span> </span><a name="hsq_dependent"><a href="HsTypes.html#hsq_dependent"><span class="hs-identifier">hsq_dependent</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span>
</span><a name="line-326"></a><span>               </span><span class="hs-comment">-- Which members of hsq_explicit are dependent; that is,</span><span>
</span><a name="line-327"></a><span>               </span><span class="hs-comment">-- mentioned in the kind of a later hsq_explicit,</span><span>
</span><a name="line-328"></a><span>               </span><span class="hs-comment">-- or mentioned in a kind in the scope of this HsQTvs</span><span>
</span><a name="line-329"></a><span>               </span><span class="hs-comment">-- See Note [Dependent LHsQTyVars] in TcHsType</span><span>
</span><a name="line-330"></a><span>           </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-331"></a><span>
</span><a name="line-332"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsQTvs"><span class="hs-identifier hs-type">XHsQTvs</span></a><span>       </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-333"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsQTvs"><span class="hs-identifier hs-type">XHsQTvs</span></a><span>       </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-type">HsQTvsRn</span></a><span>
</span><a name="line-334"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsQTvs"><span class="hs-identifier hs-type">XHsQTvs</span></a><span>       </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-type">HsQTvsRn</span></a><span>
</span><a name="line-335"></a><span>
</span><a name="line-336"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXLHsQTyVars"><span class="hs-identifier hs-type">XXLHsQTyVars</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-337"></a><span>
</span><a name="line-338"></a><span class="hs-identifier">mkHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-339"></a><a name="mkHsQTvs"><a href="HsTypes.html#mkHsQTvs"><span class="hs-identifier">mkHsQTvs</span></a></a><span> </span><a name="local-6989586621682666551"><a href="#local-6989586621682666551"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666551"><span class="hs-identifier hs-var">tvs</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-340"></a><span>
</span><a name="line-341"></a><span class="hs-identifier">hsQTvExplicit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621682666544"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666544"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-342"></a><a name="hsQTvExplicit"><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier">hsQTvExplicit</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hsq_explicit</span><span>
</span><a name="line-343"></a><span>
</span><a name="line-344"></a><span class="hs-identifier">emptyLHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span>
</span><a name="line-345"></a><a name="emptyLHsQTvs"><a href="HsTypes.html#emptyLHsQTvs"><span class="hs-identifier">emptyLHsQTvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-var">HsQTvsRn</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><a href="NameSet.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-346"></a><span>
</span><a name="line-347"></a><span class="hs-identifier">isEmptyLHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-348"></a><a name="isEmptyLHsQTvs"><a href="HsTypes.html#isEmptyLHsQTvs"><span class="hs-identifier">isEmptyLHsQTvs</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-var">HsQTvsRn</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-349"></a><span class="hs-identifier">isEmptyLHsQTvs</span><span> </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-350"></a><span>
</span><a name="line-351"></a><span class="hs-comment">------------------------------------------------</span><span>
</span><a name="line-352"></a><span class="hs-comment">--            HsImplicitBndrs</span><span>
</span><a name="line-353"></a><span class="hs-comment">-- Used to quantify the implicit binders of a type</span><span>
</span><a name="line-354"></a><span class="hs-comment">--    * Implicit binders of a type signature (LHsSigType/LHsSigWcType)</span><span>
</span><a name="line-355"></a><span class="hs-comment">--    * Patterns in a type/data family instance (HsTyPats)</span><span>
</span><a name="line-356"></a><span>
</span><a name="line-357"></a><span class="hs-comment">-- | Haskell Implicit Binders</span><span>
</span><a name="line-358"></a><span class="hs-keyword">data</span><span> </span><a name="HsImplicitBndrs"><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier">HsImplicitBndrs</span></a></a><span> </span><a name="local-6989586621682666396"><a href="#local-6989586621682666396"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621682666397"><a href="#local-6989586621682666397"><span class="hs-identifier">thing</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-359"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsIB"><a href="HsTypes.html#HsIB"><span class="hs-identifier">HsIB</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hsib_ext"><a href="HsTypes.html#hsib_ext"><span class="hs-identifier">hsib_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XHsIB"><span class="hs-identifier hs-type">XHsIB</span></a><span> </span><a href="#local-6989586621682666396"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621682666397"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-comment">-- after renamer: [Name]</span><span>
</span><a name="line-360"></a><span>                                         </span><span class="hs-comment">-- Implicitly-bound kind &amp; type vars</span><span>
</span><a name="line-361"></a><span>                                         </span><span class="hs-comment">-- Order is important; see</span><span>
</span><a name="line-362"></a><span>                                         </span><span class="hs-comment">-- Note [Ordering of implicit variables]</span><span>
</span><a name="line-363"></a><span>                                         </span><span class="hs-comment">-- in RnTypes</span><span>
</span><a name="line-364"></a><span>
</span><a name="line-365"></a><span>         </span><span class="hs-special">,</span><span> </span><a name="hsib_body"><a href="HsTypes.html#hsib_body"><span class="hs-identifier">hsib_body</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666397"><span class="hs-identifier hs-type">thing</span></a><span>            </span><span class="hs-comment">-- Main payload (type or list of types)</span><span>
</span><a name="line-366"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-367"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsImplicitBndrs"><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier">XHsImplicitBndrs</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsImplicitBndrs"><span class="hs-identifier hs-type">XXHsImplicitBndrs</span></a><span> </span><a href="#local-6989586621682666396"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621682666397"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-368"></a><span>
</span><a name="line-369"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsIB"><span class="hs-identifier hs-type">XHsIB</span></a><span>              </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-370"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsIB"><span class="hs-identifier hs-type">XHsIB</span></a><span>              </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-371"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsIB"><span class="hs-identifier hs-type">XHsIB</span></a><span>              </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-372"></a><span>
</span><a name="line-373"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsImplicitBndrs"><span class="hs-identifier hs-type">XXHsImplicitBndrs</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-374"></a><span>
</span><a name="line-375"></a><span class="hs-comment">-- | Haskell Wildcard Binders</span><span>
</span><a name="line-376"></a><span class="hs-keyword">data</span><span> </span><a name="HsWildCardBndrs"><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier">HsWildCardBndrs</span></a></a><span> </span><a name="local-6989586621682666394"><a href="#local-6989586621682666394"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621682666395"><a href="#local-6989586621682666395"><span class="hs-identifier">thing</span></a></a><span>
</span><a name="line-377"></a><span>    </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-378"></a><span>    </span><span class="hs-comment">-- See Note [The wildcard story for types]</span><span>
</span><a name="line-379"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsWC"><a href="HsTypes.html#HsWC"><span class="hs-identifier">HsWC</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hswc_ext"><a href="HsTypes.html#hswc_ext"><span class="hs-identifier">hswc_ext</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XHsWC"><span class="hs-identifier hs-type">XHsWC</span></a><span> </span><a href="#local-6989586621682666394"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621682666395"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-380"></a><span>                </span><span class="hs-comment">-- after the renamer</span><span>
</span><a name="line-381"></a><span>                </span><span class="hs-comment">-- Wild cards, only named</span><span>
</span><a name="line-382"></a><span>                </span><span class="hs-comment">-- See Note [Wildcards in visible kind application]</span><span>
</span><a name="line-383"></a><span>
</span><a name="line-384"></a><span>         </span><span class="hs-special">,</span><span> </span><a name="hswc_body"><a href="HsTypes.html#hswc_body"><span class="hs-identifier">hswc_body</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666395"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-385"></a><span>                </span><span class="hs-comment">-- Main payload (type or list of types)</span><span>
</span><a name="line-386"></a><span>                </span><span class="hs-comment">-- If there is an extra-constraints wildcard,</span><span>
</span><a name="line-387"></a><span>                </span><span class="hs-comment">-- it's still there in the hsc_body.</span><span>
</span><a name="line-388"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-389"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsWildCardBndrs"><a href="HsTypes.html#XHsWildCardBndrs"><span class="hs-identifier">XHsWildCardBndrs</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsWildCardBndrs"><span class="hs-identifier hs-type">XXHsWildCardBndrs</span></a><span> </span><a href="#local-6989586621682666394"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621682666395"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-390"></a><span>
</span><a name="line-391"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsWC"><span class="hs-identifier hs-type">XHsWC</span></a><span>              </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><a href="#local-6989586621682666487"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-392"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsWC"><span class="hs-identifier hs-type">XHsWC</span></a><span>              </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><a href="#local-6989586621682666486"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-393"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsWC"><span class="hs-identifier hs-type">XHsWC</span></a><span>              </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><a href="#local-6989586621682666485"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-394"></a><span>
</span><a name="line-395"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsWildCardBndrs"><span class="hs-identifier hs-type">XXHsWildCardBndrs</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621682666483"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-396"></a><span>
</span><a name="line-397"></a><span class="hs-comment">-- | Located Haskell Signature Type</span><span>
</span><a name="line-398"></a><span class="hs-keyword">type</span><span> </span><a name="LHsSigType"><a href="HsTypes.html#LHsSigType"><span class="hs-identifier">LHsSigType</span></a></a><span>   </span><a name="local-6989586621682666393"><a href="#local-6989586621682666393"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621682666393"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666393"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Implicit only</span><span>
</span><a name="line-399"></a><span>
</span><a name="line-400"></a><span class="hs-comment">-- | Located Haskell Wildcard Type</span><span>
</span><a name="line-401"></a><span class="hs-keyword">type</span><span> </span><a name="LHsWcType"><a href="HsTypes.html#LHsWcType"><span class="hs-identifier">LHsWcType</span></a></a><span>    </span><a name="local-6989586621682666392"><a href="#local-6989586621682666392"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621682666392"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666392"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Wildcard only</span><span>
</span><a name="line-402"></a><span>
</span><a name="line-403"></a><span class="hs-comment">-- | Located Haskell Signature Wildcard Type</span><span>
</span><a name="line-404"></a><span class="hs-keyword">type</span><span> </span><a name="LHsSigWcType"><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier">LHsSigWcType</span></a></a><span> </span><a name="local-6989586621682666391"><a href="#local-6989586621682666391"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621682666391"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621682666391"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Both</span><span>
</span><a name="line-405"></a><span>
</span><a name="line-406"></a><span class="hs-comment">-- See Note [Representing type signatures]</span><span>
</span><a name="line-407"></a><span>
</span><a name="line-408"></a><span class="hs-identifier">hsImplicitBody</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621682666542"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621682666543"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621682666543"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-409"></a><a name="hsImplicitBody"><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier">hsImplicitBody</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666552"><a href="#local-6989586621682666552"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666552"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-410"></a><span class="hs-identifier">hsImplicitBody</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsImplicitBody&quot;</span><span>
</span><a name="line-411"></a><span>
</span><a name="line-412"></a><span class="hs-identifier">hsSigType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621682666541"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666541"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-413"></a><a name="hsSigType"><a href="HsTypes.html#hsSigType"><span class="hs-identifier">hsSigType</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier hs-var">hsImplicitBody</span></a><span>
</span><a name="line-414"></a><span>
</span><a name="line-415"></a><span class="hs-identifier">hsSigWcType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621682666540"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666540"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-416"></a><a name="hsSigWcType"><a href="HsTypes.html#hsSigWcType"><span class="hs-identifier">hsSigWcType</span></a></a><span> </span><a name="local-6989586621682666553"><a href="#local-6989586621682666553"><span class="hs-identifier">sig_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hswc_body</span><span> </span><a href="#local-6989586621682666553"><span class="hs-identifier hs-var">sig_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-417"></a><span>
</span><a name="line-418"></a><span class="hs-identifier">dropWildCards</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621682666539"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621682666539"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-419"></a><span class="hs-comment">-- Drop the wildcard part of a LHsSigWcType</span><span>
</span><a name="line-420"></a><a name="dropWildCards"><a href="HsTypes.html#dropWildCards"><span class="hs-identifier">dropWildCards</span></a></a><span> </span><a name="local-6989586621682666554"><a href="#local-6989586621682666554"><span class="hs-identifier">sig_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><a href="#local-6989586621682666554"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-421"></a><span>
</span><a name="line-422"></a><span class="hs-comment">{- Note [Representing type signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
HsSigType is used to represent an explicit user type signature
such as   f :: a -&gt; a
     or   g (x :: a -&gt; a) = x

A HsSigType is just a HsImplicitBndrs wrapping a LHsType.
 * The HsImplicitBndrs binds the /implicitly/ quantified tyvars
 * The LHsType binds the /explicitly/ quantified tyvars

E.g. For a signature like
   f :: forall (a::k). blah
we get
   HsIB { hsib_vars = [k]
        , hsib_body = HsForAllTy { hst_bndrs = [(a::*)]
                                 , hst_body = blah }
The implicit kind variable 'k' is bound by the HsIB;
the explicitly forall'd tyvar 'a' is bound by the HsForAllTy
-}</span><span>
</span><a name="line-441"></a><span>
</span><a name="line-442"></a><span class="hs-identifier">mkHsImplicitBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666538"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><a href="#local-6989586621682666538"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-443"></a><a name="mkHsImplicitBndrs"><a href="HsTypes.html#mkHsImplicitBndrs"><span class="hs-identifier">mkHsImplicitBndrs</span></a></a><span> </span><a name="local-6989586621682666555"><a href="#local-6989586621682666555"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_ext</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span>
</span><a name="line-444"></a><span>                           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666555"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-445"></a><span>
</span><a name="line-446"></a><span class="hs-identifier">mkHsWildCardBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666537"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><a href="#local-6989586621682666537"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-447"></a><a name="mkHsWildCardBndrs"><a href="HsTypes.html#mkHsWildCardBndrs"><span class="hs-identifier">mkHsWildCardBndrs</span></a></a><span> </span><a name="local-6989586621682666556"><a href="#local-6989586621682666556"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666556"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-448"></a><span>                           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_ext</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-449"></a><span>
</span><a name="line-450"></a><span class="hs-comment">-- Add empty binders.  This is a bit suspicious; what if</span><span>
</span><a name="line-451"></a><span class="hs-comment">-- the wrapped thing had free type variables?</span><span>
</span><a name="line-452"></a><span class="hs-identifier">mkEmptyImplicitBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666536"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><a href="#local-6989586621682666536"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-453"></a><a name="mkEmptyImplicitBndrs"><a href="HsTypes.html#mkEmptyImplicitBndrs"><span class="hs-identifier">mkEmptyImplicitBndrs</span></a></a><span> </span><a name="local-6989586621682666557"><a href="#local-6989586621682666557"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-454"></a><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666557"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-455"></a><span>
</span><a name="line-456"></a><span class="hs-identifier">mkEmptyWildCardBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621682666535"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><a href="#local-6989586621682666535"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-457"></a><a name="mkEmptyWildCardBndrs"><a href="HsTypes.html#mkEmptyWildCardBndrs"><span class="hs-identifier">mkEmptyWildCardBndrs</span></a></a><span> </span><a name="local-6989586621682666558"><a href="#local-6989586621682666558"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666558"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-458"></a><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_ext</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-459"></a><span>
</span><a name="line-460"></a><span>
</span><a name="line-461"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-462"></a><span class="hs-comment">-- | These names are used early on to store the names of implicit</span><span>
</span><a name="line-463"></a><span class="hs-comment">-- parameters.  They completely disappear after type-checking.</span><span>
</span><a name="line-464"></a><span class="hs-keyword">newtype</span><span> </span><a name="HsIPName"><a href="HsTypes.html#HsIPName"><span class="hs-identifier">HsIPName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsIPName"><a href="HsTypes.html#HsIPName"><span class="hs-identifier">HsIPName</span></a></a><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-465"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-466"></a><span>
</span><a name="line-467"></a><span class="hs-identifier">hsIPNameFS</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-468"></a><a name="hsIPNameFS"><a href="HsTypes.html#hsIPNameFS"><span class="hs-identifier">hsIPNameFS</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-var">HsIPName</span></a><span> </span><a name="local-6989586621682666559"><a href="#local-6989586621682666559"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666559"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-469"></a><span>
</span><a name="line-470"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-471"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-var">HsIPName</span></a><span> </span><a name="local-6989586621682666482"><a href="#local-6989586621682666482"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'?'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-6989586621682666482"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-comment">-- Ordinary implicit parameters</span><span>
</span><a name="line-472"></a><span>
</span><a name="line-473"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-474"></a><span>    </span><a name="local-8214565720324887690"><a href="Outputable.html#pprBndr"><span class="hs-identifier">pprBndr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666479"><a href="#local-6989586621682666479"><span class="hs-identifier">n</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666479"><span class="hs-identifier hs-var">n</span></a><span>         </span><span class="hs-comment">-- Simple for now</span><span>
</span><a name="line-475"></a><span>    </span><a name="local-8214565720324887692"><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier">pprInfixOcc</span></a></a><span>  </span><a name="local-6989586621682666480"><a href="#local-6989586621682666480"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666480"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-476"></a><span>    </span><a name="local-8214565720324887691"><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier">pprPrefixOcc</span></a></a><span> </span><a name="local-6989586621682666481"><a href="#local-6989586621682666481"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666481"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-477"></a><span>
</span><a name="line-478"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-479"></a><span>
</span><a name="line-480"></a><span class="hs-comment">-- | Haskell Type Variable Binder</span><span>
</span><a name="line-481"></a><span class="hs-keyword">data</span><span> </span><a name="HsTyVarBndr"><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier">HsTyVarBndr</span></a></a><span> </span><a name="local-6989586621682666390"><a href="#local-6989586621682666390"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-482"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UserTyVar"><a href="HsTypes.html#UserTyVar"><span class="hs-identifier">UserTyVar</span></a></a><span>        </span><span class="hs-comment">-- no explicit kinding</span><span>
</span><a name="line-483"></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#XUserTyVar"><span class="hs-identifier hs-type">XUserTyVar</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-484"></a><span>         </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-485"></a><span>        </span><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-486"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="KindedTyVar"><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier">KindedTyVar</span></a></a><span>
</span><a name="line-487"></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#XKindedTyVar"><span class="hs-identifier hs-type">XKindedTyVar</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-488"></a><span>         </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-489"></a><span>         </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- The user-supplied kind signature</span><span>
</span><a name="line-490"></a><span>        </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-491"></a><span>        </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-492"></a><span>        </span><span class="hs-comment">--          'ApiAnnotation.AnnDcolon', 'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-495"></a><span>
</span><a name="line-496"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XTyVarBndr"><a href="HsTypes.html#XTyVarBndr"><span class="hs-identifier">XTyVarBndr</span></a></a><span>
</span><a name="line-497"></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XXTyVarBndr"><span class="hs-identifier hs-type">XXTyVarBndr</span></a><span> </span><a href="#local-6989586621682666390"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-498"></a><span>
</span><a name="line-499"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XUserTyVar"><span class="hs-identifier hs-type">XUserTyVar</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-500"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XKindedTyVar"><span class="hs-identifier hs-type">XKindedTyVar</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-501"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXTyVarBndr"><span class="hs-identifier hs-type">XXTyVarBndr</span></a><span>   </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-502"></a><span>
</span><a name="line-503"></a><span class="hs-comment">-- | Does this 'HsTyVarBndr' come with an explicit kind annotation?</span><span>
</span><a name="line-504"></a><span class="hs-identifier">isHsKindedTyVar</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666534"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-505"></a><a name="isHsKindedTyVar"><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier">isHsKindedTyVar</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-506"></a><span class="hs-identifier">isHsKindedTyVar</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-507"></a><span class="hs-identifier">isHsKindedTyVar</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XTyVarBndr"><span class="hs-identifier hs-var">XTyVarBndr</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;isHsKindedTyVar&quot;</span><span>
</span><a name="line-508"></a><span>
</span><a name="line-509"></a><span class="hs-comment">-- | Do all type variables in this 'LHsQTyVars' come with kind annotations?</span><span>
</span><a name="line-510"></a><span class="hs-identifier">hsTvbAllKinded</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621682666533"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-511"></a><a name="hsTvbAllKinded"><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier">hsTvbAllKinded</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">all</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier hs-var">isHsKindedTyVar</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span>
</span><a name="line-512"></a><span>
</span><a name="line-513"></a><span class="hs-comment">-- | Haskell Type</span><span>
</span><a name="line-514"></a><span class="hs-keyword">data</span><span> </span><a name="HsType"><a href="HsTypes.html#HsType"><span class="hs-identifier">HsType</span></a></a><span> </span><a name="local-6989586621682666389"><a href="#local-6989586621682666389"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-515"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsForAllTy"><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier">HsForAllTy</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-516"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="hst_xforall"><a href="HsTypes.html#hst_xforall"><span class="hs-identifier">hst_xforall</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XForAllTy"><span class="hs-identifier hs-type">XForAllTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>
</span><a name="line-517"></a><span>        </span><a name="hst_bndrs"><a href="HsTypes.html#hst_bndrs"><span class="hs-identifier">hst_bndrs</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-518"></a><span>                                       </span><span class="hs-comment">-- Explicit, user-supplied 'forall a b c'</span><span>
</span><a name="line-519"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="hst_body"><a href="HsTypes.html#hst_body"><span class="hs-identifier">hst_body</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span>      </span><span class="hs-comment">-- body type</span><span>
</span><a name="line-520"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-521"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnForall',</span><span>
</span><a name="line-522"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnDot','ApiAnnotation.AnnDarrow'</span><span>
</span><a name="line-523"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-524"></a><span>
</span><a name="line-525"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsQualTy"><a href="HsTypes.html#HsQualTy"><span class="hs-identifier">HsQualTy</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-526"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="hst_xqual"><a href="HsTypes.html#hst_xqual"><span class="hs-identifier">hst_xqual</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XQualTy"><span class="hs-identifier hs-type">XQualTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-527"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="hst_ctxt"><a href="HsTypes.html#hst_ctxt"><span class="hs-identifier">hst_ctxt</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- Context C =&gt; blah</span><span>
</span><a name="line-528"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="hst_body"><a href="HsTypes.html#hst_body"><span class="hs-identifier">hst_body</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-529"></a><span>
</span><a name="line-530"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTyVar"><a href="HsTypes.html#HsTyVar"><span class="hs-identifier">HsTyVar</span></a></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#XTyVar"><span class="hs-identifier hs-type">XTyVar</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-531"></a><span>              </span><a href="BasicTypes.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a><span>    </span><span class="hs-comment">-- Whether explicitly promoted,</span><span>
</span><a name="line-532"></a><span>                               </span><span class="hs-comment">-- for the pretty printer</span><span>
</span><a name="line-533"></a><span>             </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-534"></a><span>                  </span><span class="hs-comment">-- Type variable, type constructor, or data constructor</span><span>
</span><a name="line-535"></a><span>                  </span><span class="hs-comment">-- see Note [Promotions (HsTyVar)]</span><span>
</span><a name="line-536"></a><span>                  </span><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-537"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-538"></a><span>
</span><a name="line-539"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-540"></a><span>
</span><a name="line-541"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppTy"><a href="HsTypes.html#HsAppTy"><span class="hs-identifier">HsAppTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsExtension.html#XAppTy"><span class="hs-identifier hs-type">XAppTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-542"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-543"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-544"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-545"></a><span>
</span><a name="line-546"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-547"></a><span>
</span><a name="line-548"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppKindTy"><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier">HsAppKindTy</span></a></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#XAppKindTy"><span class="hs-identifier hs-type">XAppKindTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- type level type app</span><span>
</span><a name="line-549"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-550"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-551"></a><span>
</span><a name="line-552"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsFunTy"><a href="HsTypes.html#HsFunTy"><span class="hs-identifier">HsFunTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsExtension.html#XFunTy"><span class="hs-identifier hs-type">XFunTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-553"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- function type</span><span>
</span><a name="line-554"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-555"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-556"></a><span>
</span><a name="line-557"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-558"></a><span>
</span><a name="line-559"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsListTy"><a href="HsTypes.html#HsListTy"><span class="hs-identifier">HsListTy</span></a></a><span>            </span><span class="hs-special">(</span><a href="HsExtension.html#XListTy"><span class="hs-identifier hs-type">XListTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-560"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Element type</span><span>
</span><a name="line-561"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'['@,</span><span>
</span><a name="line-562"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-563"></a><span>
</span><a name="line-564"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-565"></a><span>
</span><a name="line-566"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTupleTy"><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier">HsTupleTy</span></a></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#XTupleTy"><span class="hs-identifier hs-type">XTupleTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-567"></a><span>                        </span><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier hs-type">HsTupleSort</span></a><span>
</span><a name="line-568"></a><span>                        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Element types (length gives arity)</span><span>
</span><a name="line-569"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(' or '(#'@,</span><span>
</span><a name="line-570"></a><span>    </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')' or '#)'@</span><span>
</span><a name="line-571"></a><span>
</span><a name="line-572"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-573"></a><span>
</span><a name="line-574"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSumTy"><a href="HsTypes.html#HsSumTy"><span class="hs-identifier">HsSumTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsExtension.html#XSumTy"><span class="hs-identifier hs-type">XSumTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-575"></a><span>                        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Element types (length gives arity)</span><span>
</span><a name="line-576"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(#'@,</span><span>
</span><a name="line-577"></a><span>    </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' '#)'@</span><span>
</span><a name="line-578"></a><span>
</span><a name="line-579"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-580"></a><span>
</span><a name="line-581"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsOpTy"><a href="HsTypes.html#HsOpTy"><span class="hs-identifier">HsOpTy</span></a></a><span>              </span><span class="hs-special">(</span><a href="HsExtension.html#XOpTy"><span class="hs-identifier hs-type">XOpTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-582"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-583"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-584"></a><span>
</span><a name="line-585"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-586"></a><span>
</span><a name="line-587"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsParTy"><a href="HsTypes.html#HsParTy"><span class="hs-identifier">HsParTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsExtension.html#XParTy"><span class="hs-identifier hs-type">XParTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-588"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- See Note [Parens in HsSyn] in HsExpr</span><span>
</span><a name="line-589"></a><span>        </span><span class="hs-comment">-- Parenthesis preserved for the precedence re-arrangement in RnTypes</span><span>
</span><a name="line-590"></a><span>        </span><span class="hs-comment">-- It's important that a * (b + c) doesn't get rearranged to (a*b) + c!</span><span>
</span><a name="line-591"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-592"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-593"></a><span>
</span><a name="line-594"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-595"></a><span>
</span><a name="line-596"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsIParamTy"><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier">HsIParamTy</span></a></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#XIParamTy"><span class="hs-identifier hs-type">XIParamTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-597"></a><span>                        </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- (?x :: ty)</span><span>
</span><a name="line-598"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Implicit parameters as they occur in</span><span>
</span><a name="line-599"></a><span>                                         </span><span class="hs-comment">-- contexts</span><span>
</span><a name="line-600"></a><span>      </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-601"></a><span>      </span><span class="hs-comment">-- &gt; (?x :: ty)</span><span>
</span><a name="line-602"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-603"></a><span>      </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-604"></a><span>
</span><a name="line-605"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-606"></a><span>
</span><a name="line-607"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsStarTy"><a href="HsTypes.html#HsStarTy"><span class="hs-identifier">HsStarTy</span></a></a><span>            </span><span class="hs-special">(</span><a href="HsExtension.html#XStarTy"><span class="hs-identifier hs-type">XStarTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-608"></a><span>                        </span><span class="hs-identifier hs-type">Bool</span><span>             </span><span class="hs-comment">-- Is this the Unicode variant?</span><span>
</span><a name="line-609"></a><span>                                         </span><span class="hs-comment">-- Note [HsStarTy]</span><span>
</span><a name="line-610"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-611"></a><span>
</span><a name="line-612"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsKindSig"><a href="HsTypes.html#HsKindSig"><span class="hs-identifier">HsKindSig</span></a></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#XKindSig"><span class="hs-identifier hs-type">XKindSig</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-613"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- (ty :: kind)</span><span>
</span><a name="line-614"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- A type with a kind signature</span><span>
</span><a name="line-615"></a><span>      </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-616"></a><span>      </span><span class="hs-comment">-- &gt; (ty :: kind)</span><span>
</span><a name="line-617"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-618"></a><span>      </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-619"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnDcolon','ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-620"></a><span>
</span><a name="line-621"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-622"></a><span>
</span><a name="line-623"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSpliceTy"><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier">HsSpliceTy</span></a></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#XSpliceTy"><span class="hs-identifier hs-type">XSpliceTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-624"></a><span>                        </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Includes quasi-quotes</span><span>
</span><a name="line-625"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'$('@,</span><span>
</span><a name="line-626"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-627"></a><span>
</span><a name="line-628"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-629"></a><span>
</span><a name="line-630"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsDocTy"><a href="HsTypes.html#HsDocTy"><span class="hs-identifier">HsDocTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsExtension.html#XDocTy"><span class="hs-identifier hs-type">XDocTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-631"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span> </span><span class="hs-comment">-- A documented type</span><span>
</span><a name="line-632"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-633"></a><span>
</span><a name="line-634"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-635"></a><span>
</span><a name="line-636"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsBangTy"><a href="HsTypes.html#HsBangTy"><span class="hs-identifier">HsBangTy</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#XBangTy"><span class="hs-identifier hs-type">XBangTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-637"></a><span>                </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Bang-style type annotations</span><span>
</span><a name="line-638"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-639"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnOpen' @'{-\# UNPACK' or '{-\# NOUNPACK'@,</span><span>
</span><a name="line-640"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'#-}'@</span><span>
</span><a name="line-641"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnBang' @\'!\'@</span><span>
</span><a name="line-642"></a><span>
</span><a name="line-643"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-644"></a><span>
</span><a name="line-645"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsRecTy"><a href="HsTypes.html#HsRecTy"><span class="hs-identifier">HsRecTy</span></a></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#XRecTy"><span class="hs-identifier hs-type">XRecTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-646"></a><span>                </span><span class="hs-special">[</span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- Only in data type declarations</span><span>
</span><a name="line-647"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-648"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-649"></a><span>
</span><a name="line-650"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-651"></a><span>
</span><a name="line-652"></a><span>  </span><span class="hs-comment">-- | HsCoreTy (XCoreTy pass) Type -- An escape hatch for tunnelling a *closed*</span><span>
</span><a name="line-653"></a><span>  </span><span class="hs-comment">--                                -- Core Type through HsSyn.</span><span>
</span><a name="line-654"></a><span>  </span><span class="hs-comment">--     -- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-655"></a><span>
</span><a name="line-656"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-657"></a><span>
</span><a name="line-658"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsExplicitListTy"><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier">HsExplicitListTy</span></a></a><span>       </span><span class="hs-comment">-- A promoted explicit list</span><span>
</span><a name="line-659"></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#XExplicitListTy"><span class="hs-identifier hs-type">XExplicitListTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-660"></a><span>        </span><a href="BasicTypes.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a><span>      </span><span class="hs-comment">-- whether explcitly promoted, for pretty printer</span><span>
</span><a name="line-661"></a><span>        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-662"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @&quot;'[&quot;@,</span><span>
</span><a name="line-663"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-664"></a><span>
</span><a name="line-665"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-666"></a><span>
</span><a name="line-667"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsExplicitTupleTy"><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier">HsExplicitTupleTy</span></a></a><span>      </span><span class="hs-comment">-- A promoted explicit tuple</span><span>
</span><a name="line-668"></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#XExplicitTupleTy"><span class="hs-identifier hs-type">XExplicitTupleTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-669"></a><span>        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-670"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @&quot;'(&quot;@,</span><span>
</span><a name="line-671"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-672"></a><span>
</span><a name="line-673"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-674"></a><span>
</span><a name="line-675"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTyLit"><a href="HsTypes.html#HsTyLit"><span class="hs-identifier">HsTyLit</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XTyLit"><span class="hs-identifier hs-type">XTyLit</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span>      </span><span class="hs-comment">-- A promoted numeric literal.</span><span>
</span><a name="line-676"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-677"></a><span>
</span><a name="line-678"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-679"></a><span>
</span><a name="line-680"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsWildCardTy"><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier">HsWildCardTy</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XWildCardTy"><span class="hs-identifier hs-type">XWildCardTy</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- A type wildcard</span><span>
</span><a name="line-681"></a><span>      </span><span class="hs-comment">-- See Note [The wildcard story for types]</span><span>
</span><a name="line-682"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-683"></a><span>
</span><a name="line-684"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-685"></a><span>
</span><a name="line-686"></a><span>  </span><span class="hs-comment">-- For adding new constructors via Trees that Grow</span><span>
</span><a name="line-687"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsType"><a href="HsTypes.html#XHsType"><span class="hs-identifier">XHsType</span></a></a><span>
</span><a name="line-688"></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XXType"><span class="hs-identifier hs-type">XXType</span></a><span> </span><a href="#local-6989586621682666389"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-689"></a><span>
</span><a name="line-690"></a><span class="hs-keyword">data</span><span> </span><a name="NewHsTypeX"><a href="HsTypes.html#NewHsTypeX"><span class="hs-identifier">NewHsTypeX</span></a></a><span>
</span><a name="line-691"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NHsCoreTy"><a href="HsTypes.html#NHsCoreTy"><span class="hs-identifier">NHsCoreTy</span></a></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-comment">-- An escape hatch for tunnelling a *closed*</span><span>
</span><a name="line-692"></a><span>                   </span><span class="hs-comment">-- Core Type through HsSyn.</span><span>
</span><a name="line-693"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-694"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-695"></a><span>
</span><a name="line-696"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsTypes.html#NewHsTypeX"><span class="hs-identifier hs-type">NewHsTypeX</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-697"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#NHsCoreTy"><span class="hs-identifier hs-var">NHsCoreTy</span></a><span> </span><a name="local-6989586621682666475"><a href="#local-6989586621682666475"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666475"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-698"></a><span>
</span><a name="line-699"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForAllTy"><span class="hs-identifier hs-type">XForAllTy</span></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-700"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XQualTy"><span class="hs-identifier hs-type">XQualTy</span></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-701"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTyVar"><span class="hs-identifier hs-type">XTyVar</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-702"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAppTy"><span class="hs-identifier hs-type">XAppTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-703"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XFunTy"><span class="hs-identifier hs-type">XFunTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-704"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XListTy"><span class="hs-identifier hs-type">XListTy</span></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-705"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTupleTy"><span class="hs-identifier hs-type">XTupleTy</span></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-706"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSumTy"><span class="hs-identifier hs-type">XSumTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-707"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XOpTy"><span class="hs-identifier hs-type">XOpTy</span></a><span>            </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-708"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XParTy"><span class="hs-identifier hs-type">XParTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-709"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XIParamTy"><span class="hs-identifier hs-type">XIParamTy</span></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-710"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XStarTy"><span class="hs-identifier hs-type">XStarTy</span></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-711"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XKindSig"><span class="hs-identifier hs-type">XKindSig</span></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-712"></a><span>
</span><a name="line-713"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAppKindTy"><span class="hs-identifier hs-type">XAppKindTy</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span> </span><span class="hs-comment">-- Where the `@` lives</span><span>
</span><a name="line-714"></a><span>
</span><a name="line-715"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSpliceTy"><span class="hs-identifier hs-type">XSpliceTy</span></a><span>        </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-716"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSpliceTy"><span class="hs-identifier hs-type">XSpliceTy</span></a><span>        </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-717"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSpliceTy"><span class="hs-identifier hs-type">XSpliceTy</span></a><span>        </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span>
</span><a name="line-718"></a><span>
</span><a name="line-719"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDocTy"><span class="hs-identifier hs-type">XDocTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-720"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XBangTy"><span class="hs-identifier hs-type">XBangTy</span></a><span>          </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-721"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XRecTy"><span class="hs-identifier hs-type">XRecTy</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-722"></a><span>
</span><a name="line-723"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitListTy"><span class="hs-identifier hs-type">XExplicitListTy</span></a><span>  </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-724"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitListTy"><span class="hs-identifier hs-type">XExplicitListTy</span></a><span>  </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-725"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitListTy"><span class="hs-identifier hs-type">XExplicitListTy</span></a><span>  </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span>
</span><a name="line-726"></a><span>
</span><a name="line-727"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitTupleTy"><span class="hs-identifier hs-type">XExplicitTupleTy</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-728"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitTupleTy"><span class="hs-identifier hs-type">XExplicitTupleTy</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-729"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XExplicitTupleTy"><span class="hs-identifier hs-type">XExplicitTupleTy</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span class="hs-special">]</span><span>
</span><a name="line-730"></a><span>
</span><a name="line-731"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTyLit"><span class="hs-identifier hs-type">XTyLit</span></a><span>           </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-732"></a><span>
</span><a name="line-733"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XWildCardTy"><span class="hs-identifier hs-type">XWildCardTy</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-734"></a><span>
</span><a name="line-735"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXType"><span class="hs-identifier hs-type">XXType</span></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#NewHsTypeX"><span class="hs-identifier hs-type">NewHsTypeX</span></a><span>
</span><a name="line-736"></a><span>
</span><a name="line-737"></a><span>
</span><a name="line-738"></a><span class="hs-comment">-- Note [Literal source text] in BasicTypes for SourceText fields in</span><span>
</span><a name="line-739"></a><span class="hs-comment">-- the following</span><span>
</span><a name="line-740"></a><span class="hs-comment">-- | Haskell Type Literal</span><span>
</span><a name="line-741"></a><span class="hs-keyword">data</span><span> </span><a name="HsTyLit"><a href="HsTypes.html#HsTyLit"><span class="hs-identifier">HsTyLit</span></a></a><span>
</span><a name="line-742"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsNumTy"><a href="HsTypes.html#HsNumTy"><span class="hs-identifier">HsNumTy</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><span class="hs-identifier hs-type">Integer</span><span>
</span><a name="line-743"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsStrTy"><a href="HsTypes.html#HsStrTy"><span class="hs-identifier">HsStrTy</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-744"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-745"></a><span>
</span><a name="line-746"></a><span>
</span><a name="line-747"></a><span class="hs-comment">{-
Note [HsForAllTy tyvar binders]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
After parsing:
  * Implicit =&gt; empty
    Explicit =&gt; the variables the user wrote

After renaming
  * Implicit =&gt; the *type* variables free in the type
    Explicit =&gt; the variables the user wrote (renamed)

Qualified currently behaves exactly as Implicit,
but it is deprecated to use it for implicit quantification.
In this case, GHC 7.10 gives a warning; see
Note [Context quantification] in RnTypes, and Trac #4426.
In GHC 8.0, Qualified will no longer bind variables
and this will become an error.

The kind variables bound in the hsq_implicit field come both
  a) from the kind signatures on the kind vars (eg k1)
  b) from the scope of the forall (eg k2)
Example:   f :: forall (a::k1) b. T a (b::k2)


Note [Unit tuples]
~~~~~~~~~~~~~~~~~~
Consider the type
    type instance F Int = ()
We want to parse that &quot;()&quot;
    as HsTupleTy HsBoxedOrConstraintTuple [],
NOT as HsTyVar unitTyCon

Why? Because F might have kind (* -&gt; Constraint), so we when parsing we
don't know if that tuple is going to be a constraint tuple or an ordinary
unit tuple.  The HsTupleSort flag is specifically designed to deal with
that, but it has to work for unit tuples too.

Note [Promotions (HsTyVar)]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
HsTyVar: A name in a type or kind.
  Here are the allowed namespaces for the name.
    In a type:
      Var: not allowed
      Data: promoted data constructor
      Tv: type variable
      TcCls before renamer: type constructor, class constructor, or promoted data constructor
      TcCls after renamer: type constructor or class constructor
    In a kind:
      Var, Data: not allowed
      Tv: kind variable
      TcCls: kind constructor or promoted type constructor

  The 'Promoted' field in an HsTyVar captures whether the type was promoted in
  the source code by prefixing an apostrophe.

Note [HsStarTy]
~~~~~~~~~~~~~~~
When the StarIsType extension is enabled, we want to treat '*' and its Unicode
variant identically to 'Data.Kind.Type'. Unfortunately, doing so in the parser
would mean that when we pretty-print it back, we don't know whether the user
wrote '*' or 'Type', and lose the parse/ppr roundtrip property.

As a workaround, we parse '*' as HsStarTy (if it stands for 'Data.Kind.Type')
and then desugar it to 'Data.Kind.Type' in the typechecker (see tc_hs_type).
When '*' is a regular type operator (StarIsType is disabled), HsStarTy is not
involved.


Note [Promoted lists and tuples]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Notice the difference between
   HsListTy    HsExplicitListTy
   HsTupleTy   HsExplicitListTupleTy

E.g.    f :: [Int]                      HsListTy

        g3  :: T '[]                   All these use
        g2  :: T '[True]                  HsExplicitListTy
        g1  :: T '[True,False]
        g1a :: T [True,False]             (can omit ' where unambiguous)

  kind of T :: [Bool] -&gt; *        This kind uses HsListTy!

E.g.    h :: (Int,Bool)                 HsTupleTy; f is a pair
        k :: S '(True,False)            HsExplicitTypleTy; S is indexed by
                                           a type-level pair of booleans
        kind of S :: (Bool,Bool) -&gt; *   This kind uses HsExplicitTupleTy

Note [Distinguishing tuple kinds]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Apart from promotion, tuples can have one of three different kinds:

        x :: (Int, Bool)                -- Regular boxed tuples
        f :: Int# -&gt; (# Int#, Int# #)   -- Unboxed tuples
        g :: (Eq a, Ord a) =&gt; a         -- Constraint tuples

For convenience, internally we use a single constructor for all of these,
namely HsTupleTy, but keep track of the tuple kind (in the first argument to
HsTupleTy, a HsTupleSort). We can tell if a tuple is unboxed while parsing,
because of the #. However, with -XConstraintKinds we can only distinguish
between constraint and boxed tuples during type checking, in general. Hence the
four constructors of HsTupleSort:

        HsUnboxedTuple                  -&gt; Produced by the parser
        HsBoxedTuple                    -&gt; Certainly a boxed tuple
        HsConstraintTuple               -&gt; Certainly a constraint tuple
        HsBoxedOrConstraintTuple        -&gt; Could be a boxed or a constraint
                                        tuple. Produced by the parser only,
                                        disappears after type checking
-}</span><span>
</span><a name="line-858"></a><span>
</span><a name="line-859"></a><span class="hs-comment">-- | Haskell Tuple Sort</span><span>
</span><a name="line-860"></a><span class="hs-keyword">data</span><span> </span><a name="HsTupleSort"><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier">HsTupleSort</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsUnboxedTuple"><a href="HsTypes.html#HsUnboxedTuple"><span class="hs-identifier">HsUnboxedTuple</span></a></a><span>
</span><a name="line-861"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsBoxedTuple"><a href="HsTypes.html#HsBoxedTuple"><span class="hs-identifier">HsBoxedTuple</span></a></a><span>
</span><a name="line-862"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsConstraintTuple"><a href="HsTypes.html#HsConstraintTuple"><span class="hs-identifier">HsConstraintTuple</span></a></a><span>
</span><a name="line-863"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsBoxedOrConstraintTuple"><a href="HsTypes.html#HsBoxedOrConstraintTuple"><span class="hs-identifier">HsBoxedOrConstraintTuple</span></a></a><span>
</span><a name="line-864"></a><span>                 </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-865"></a><span>
</span><a name="line-866"></a><span class="hs-comment">-- | Located Constructor Declaration Field</span><span>
</span><a name="line-867"></a><span class="hs-keyword">type</span><span> </span><a name="LConDeclField"><a href="HsTypes.html#LConDeclField"><span class="hs-identifier">LConDeclField</span></a></a><span> </span><a name="local-6989586621682666388"><a href="#local-6989586621682666388"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span> </span><a href="#local-6989586621682666388"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-868"></a><span>      </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma' when</span><span>
</span><a name="line-869"></a><span>      </span><span class="hs-comment">--   in a list</span><span>
</span><a name="line-870"></a><span>
</span><a name="line-871"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-872"></a><span>
</span><a name="line-873"></a><span class="hs-comment">-- | Constructor Declaration Field</span><span>
</span><a name="line-874"></a><span class="hs-keyword">data</span><span> </span><a name="ConDeclField"><a href="HsTypes.html#ConDeclField"><span class="hs-identifier">ConDeclField</span></a></a><span> </span><a name="local-6989586621682666387"><a href="#local-6989586621682666387"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-comment">-- Record fields have Haddoc docs on them</span><span>
</span><a name="line-875"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ConDeclField"><a href="HsTypes.html#ConDeclField"><span class="hs-identifier">ConDeclField</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="cd_fld_ext"><a href="HsTypes.html#cd_fld_ext"><span class="hs-identifier">cd_fld_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XConDeclField"><span class="hs-identifier hs-type">XConDeclField</span></a><span> </span><a href="#local-6989586621682666387"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>
</span><a name="line-876"></a><span>                   </span><a name="cd_fld_names"><a href="HsTypes.html#cd_fld_names"><span class="hs-identifier">cd_fld_names</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier hs-type">LFieldOcc</span></a><span> </span><a href="#local-6989586621682666387"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-877"></a><span>                                   </span><span class="hs-comment">-- ^ See Note [ConDeclField passs]</span><span>
</span><a name="line-878"></a><span>                   </span><a name="cd_fld_type"><a href="HsTypes.html#cd_fld_type"><span class="hs-identifier">cd_fld_type</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span> </span><a href="#local-6989586621682666387"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>
</span><a name="line-879"></a><span>                   </span><a name="cd_fld_doc"><a href="HsTypes.html#cd_fld_doc"><span class="hs-identifier">cd_fld_doc</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-880"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-881"></a><span>
</span><a name="line-882"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-883"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XConDeclField"><a href="HsTypes.html#XConDeclField"><span class="hs-identifier">XConDeclField</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXConDeclField"><span class="hs-identifier hs-type">XXConDeclField</span></a><span> </span><a href="#local-6989586621682666387"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-884"></a><span>
</span><a name="line-885"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XConDeclField"><span class="hs-identifier hs-type">XConDeclField</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-886"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXConDeclField"><span class="hs-identifier hs-type">XXConDeclField</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-887"></a><span>
</span><a name="line-888"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666449"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621682666448"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-889"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span> </span><a href="#local-6989586621682666448"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-890"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-var">ConDeclField</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666450"><a href="#local-6989586621682666450"><span class="hs-identifier">fld_n</span></a></a><span> </span><a name="local-6989586621682666451"><a href="#local-6989586621682666451"><span class="hs-identifier">fld_ty</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666450"><span class="hs-identifier hs-var">fld_n</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666451"><span class="hs-identifier hs-var">fld_ty</span></a><span>
</span><a name="line-891"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XConDeclField"><span class="hs-identifier hs-var">XConDeclField</span></a><span> </span><a name="local-6989586621682666452"><a href="#local-6989586621682666452"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666452"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-892"></a><span>
</span><a name="line-893"></a><span class="hs-comment">-- HsConDetails is used for patterns/expressions *and* for data type</span><span>
</span><a name="line-894"></a><span class="hs-comment">-- declarations</span><span>
</span><a name="line-895"></a><span class="hs-comment">-- | Haskell Constructor Details</span><span>
</span><a name="line-896"></a><span class="hs-keyword">data</span><span> </span><a name="HsConDetails"><a href="HsTypes.html#HsConDetails"><span class="hs-identifier">HsConDetails</span></a></a><span> </span><a name="local-6989586621682666385"><a href="#local-6989586621682666385"><span class="hs-identifier">arg</span></a></a><span> </span><a name="local-6989586621682666386"><a href="#local-6989586621682666386"><span class="hs-identifier">rec</span></a></a><span>
</span><a name="line-897"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="PrefixCon"><a href="HsTypes.html#PrefixCon"><span class="hs-identifier">PrefixCon</span></a></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621682666385"><span class="hs-identifier hs-type">arg</span></a><span class="hs-special">]</span><span>             </span><span class="hs-comment">-- C p1 p2 p3</span><span>
</span><a name="line-898"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecCon"><a href="HsTypes.html#RecCon"><span class="hs-identifier">RecCon</span></a></a><span>    </span><a href="#local-6989586621682666386"><span class="hs-identifier hs-type">rec</span></a><span>               </span><span class="hs-comment">-- C { x = p1, y = p2 }</span><span>
</span><a name="line-899"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="InfixCon"><a href="HsTypes.html#InfixCon"><span class="hs-identifier">InfixCon</span></a></a><span>  </span><a href="#local-6989586621682666385"><span class="hs-identifier hs-type">arg</span></a><span> </span><a href="#local-6989586621682666385"><span class="hs-identifier hs-type">arg</span></a><span>           </span><span class="hs-comment">-- p1 `C` p2</span><span>
</span><a name="line-900"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-901"></a><span>
</span><a name="line-902"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666442"><span class="hs-identifier hs-type">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666443"><span class="hs-identifier hs-type">rec</span></a><span class="hs-special">)</span><span>
</span><a name="line-903"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsConDetails"><span class="hs-identifier hs-type">HsConDetails</span></a><span> </span><a href="#local-6989586621682666442"><span class="hs-identifier hs-type">arg</span></a><span> </span><a href="#local-6989586621682666443"><span class="hs-identifier hs-type">rec</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-904"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a><span> </span><a name="local-6989586621682666444"><a href="#local-6989586621682666444"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;PrefixCon&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666444"><span class="hs-identifier hs-var">args</span></a><span>
</span><a name="line-905"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a><span> </span><a name="local-6989586621682666445"><a href="#local-6989586621682666445"><span class="hs-identifier">rec</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;RecCon:&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666445"><span class="hs-identifier hs-var">rec</span></a><span>
</span><a name="line-906"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a><span> </span><a name="local-6989586621682666446"><a href="#local-6989586621682666446"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621682666447"><a href="#local-6989586621682666447"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;InfixCon:&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621682666446"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666447"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">]</span><span>
</span><a name="line-907"></a><span>
</span><a name="line-908"></a><span class="hs-comment">{-
Note [ConDeclField passs]
~~~~~~~~~~~~~~~~~~~~~~~~~

A ConDeclField contains a list of field occurrences: these always
include the field label as the user wrote it.  After the renamer, it
will additionally contain the identity of the selector function in the
second component.

Due to DuplicateRecordFields, the OccName of the selector function
may have been mangled, which is why we keep the original field label
separately.  For example, when DuplicateRecordFields is enabled

    data T = MkT { x :: Int }

gives

    ConDeclField { cd_fld_names = [L _ (FieldOcc &quot;x&quot; $sel:x:MkT)], ... }.
-}</span><span>
</span><a name="line-927"></a><span>
</span><a name="line-928"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-929"></a><span class="hs-comment">-- A valid type must have a for-all at the top of the type, or of the fn arg</span><span>
</span><a name="line-930"></a><span class="hs-comment">-- types</span><span>
</span><a name="line-931"></a><span>
</span><a name="line-932"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-933"></a><span class="hs-identifier">hsWcScopedTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-934"></a><span class="hs-comment">-- Get the lexically-scoped type variables of a HsSigType</span><span>
</span><a name="line-935"></a><span class="hs-comment">--  - the explicitly-given forall'd type variables</span><span>
</span><a name="line-936"></a><span class="hs-comment">--  - the implicitly-bound kind variables</span><span>
</span><a name="line-937"></a><span class="hs-comment">--  - the named wildcars; see Note [Scoping of named wildcards]</span><span>
</span><a name="line-938"></a><span class="hs-comment">-- because they scope in the same way</span><span>
</span><a name="line-939"></a><a name="hsWcScopedTvs"><a href="HsTypes.html#hsWcScopedTvs"><span class="hs-identifier">hsWcScopedTvs</span></a></a><span> </span><a name="local-6989586621682666560"><a href="#local-6989586621682666560"><span class="hs-identifier">sig_ty</span></a></a><span>
</span><a name="line-940"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666561"><a href="#local-6989586621682666561"><span class="hs-identifier">nwcs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666562"><a href="#local-6989586621682666562"><span class="hs-identifier">sig_ty1</span></a></a><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666560"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-941"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666563"><a href="#local-6989586621682666563"><span class="hs-identifier">vars</span></a></a><span>
</span><a name="line-942"></a><span>         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666564"><a href="#local-6989586621682666564"><span class="hs-identifier">sig_ty2</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666562"><span class="hs-identifier hs-var">sig_ty1</span></a><span>
</span><a name="line-943"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682666564"><span class="hs-identifier hs-var">sig_ty2</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-944"></a><span>      </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666565"><a href="#local-6989586621682666565"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621682666563"><span class="hs-identifier hs-var">vars</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621682666561"><span class="hs-identifier hs-var">nwcs</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-945"></a><span>                                              </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621682666565"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-946"></a><span>               </span><span class="hs-comment">-- include kind variables only if the type is headed by forall</span><span>
</span><a name="line-947"></a><span>               </span><span class="hs-comment">-- (this is consistent with GHC 7 behaviour)</span><span>
</span><a name="line-948"></a><span>      </span><span class="hs-identifier">_</span><span>                                    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621682666561"><span class="hs-identifier hs-var">nwcs</span></a><span>
</span><a name="line-949"></a><span class="hs-identifier">hsWcScopedTvs</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsWcScopedTvs&quot;</span><span>
</span><a name="line-950"></a><span class="hs-identifier">hsWcScopedTvs</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsWildCardBndrs"><span class="hs-identifier hs-var">XHsWildCardBndrs</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsWcScopedTvs&quot;</span><span>
</span><a name="line-951"></a><span>
</span><a name="line-952"></a><span class="hs-identifier">hsScopedTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-953"></a><span class="hs-comment">-- Same as hsWcScopedTvs, but for a LHsSigType</span><span>
</span><a name="line-954"></a><a name="hsScopedTvs"><a href="HsTypes.html#hsScopedTvs"><span class="hs-identifier">hsScopedTvs</span></a></a><span> </span><a name="local-6989586621682666566"><a href="#local-6989586621682666566"><span class="hs-identifier">sig_ty</span></a></a><span>
</span><a name="line-955"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666567"><a href="#local-6989586621682666567"><span class="hs-identifier">vars</span></a></a><span>
</span><a name="line-956"></a><span>         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666568"><a href="#local-6989586621682666568"><span class="hs-identifier">sig_ty2</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666566"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-957"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666569"><a href="#local-6989586621682666569"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666568"><span class="hs-identifier hs-var">sig_ty2</span></a><span>
</span><a name="line-958"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666567"><span class="hs-identifier hs-var">vars</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621682666569"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-959"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-960"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-961"></a><span>
</span><a name="line-962"></a><span class="hs-comment">{- Note [Scoping of named wildcards]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider
  f :: _a -&gt; _a
  f x = let g :: _a -&gt; _a
            g = ...
        in ...

Currently, for better or worse, the &quot;_a&quot; variables are all the same. So
although there is no explicit forall, the &quot;_a&quot; scopes over the definition.
I don't know if this is a good idea, but there it is.
-}</span><span>
</span><a name="line-974"></a><span>
</span><a name="line-975"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-976"></a><span class="hs-identifier">hsTyVarName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666532"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666532"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-977"></a><a name="hsTyVarName"><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier">hsTyVarName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666570"><a href="#local-6989586621682666570"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666570"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-978"></a><span class="hs-identifier">hsTyVarName</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666571"><a href="#local-6989586621682666571"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666571"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-979"></a><span class="hs-identifier">hsTyVarName</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XTyVarBndr"><span class="hs-identifier hs-var">XTyVarBndr</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsTyVarName&quot;</span><span>
</span><a name="line-980"></a><span>
</span><a name="line-981"></a><span class="hs-identifier">hsLTyVarName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666531"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666531"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-982"></a><a name="hsLTyVarName"><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier">hsLTyVarName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span>
</span><a name="line-983"></a><span>
</span><a name="line-984"></a><span class="hs-identifier">hsExplicitLTyVarNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621682666530"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666530"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-985"></a><span class="hs-comment">-- Explicit variables only</span><span>
</span><a name="line-986"></a><a name="hsExplicitLTyVarNames"><a href="HsTypes.html#hsExplicitLTyVarNames"><span class="hs-identifier">hsExplicitLTyVarNames</span></a></a><span> </span><a name="local-6989586621682666572"><a href="#local-6989586621682666572"><span class="hs-identifier">qtvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span> </span><a href="#local-6989586621682666572"><span class="hs-identifier hs-var">qtvs</span></a><span class="hs-special">)</span><span>
</span><a name="line-987"></a><span>
</span><a name="line-988"></a><span class="hs-identifier">hsAllLTyVarNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-989"></a><span class="hs-comment">-- All variables</span><span>
</span><a name="line-990"></a><a name="hsAllLTyVarNames"><a href="HsTypes.html#hsAllLTyVarNames"><span class="hs-identifier">hsAllLTyVarNames</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvsRn"><span class="hs-identifier hs-var">HsQTvsRn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_implicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666573"><a href="#local-6989586621682666573"><span class="hs-identifier">kvs</span></a></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-991"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666574"><a href="#local-6989586621682666574"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-992"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666573"><span class="hs-identifier hs-var">kvs</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621682666574"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-993"></a><span class="hs-identifier">hsAllLTyVarNames</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XLHsQTyVars"><span class="hs-identifier hs-var">XLHsQTyVars</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsAllLTyVarNames&quot;</span><span>
</span><a name="line-994"></a><span>
</span><a name="line-995"></a><span class="hs-identifier">hsLTyVarLocName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666529"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666529"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-996"></a><a name="hsLTyVarLocName"><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier">hsLTyVarLocName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#onHasSrcSpan"><span class="hs-identifier hs-var">onHasSrcSpan</span></a><span> </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span>
</span><a name="line-997"></a><span>
</span><a name="line-998"></a><span class="hs-identifier">hsLTyVarLocNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621682666528"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621682666528"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-999"></a><a name="hsLTyVarLocNames"><a href="HsTypes.html#hsLTyVarLocNames"><span class="hs-identifier">hsLTyVarLocNames</span></a></a><span> </span><a name="local-6989586621682666575"><a href="#local-6989586621682666575"><span class="hs-identifier">qtvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier hs-var">hsLTyVarLocName</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span> </span><a href="#local-6989586621682666575"><span class="hs-identifier hs-var">qtvs</span></a><span class="hs-special">)</span><span>
</span><a name="line-1000"></a><span>
</span><a name="line-1001"></a><span class="hs-comment">-- | Convert a LHsTyVarBndr to an equivalent LHsType.</span><span>
</span><a name="line-1002"></a><span class="hs-identifier">hsLTyVarBndrToType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666527"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666527"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1003"></a><a name="hsLTyVarBndrToType"><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier">hsLTyVarBndrToType</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#onHasSrcSpan"><span class="hs-identifier hs-var">onHasSrcSpan</span></a><span> </span><a href="#local-6989586621682666576"><span class="hs-identifier hs-var">cvt</span></a><span>
</span><a name="line-1004"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621682666576"><a href="#local-6989586621682666576"><span class="hs-identifier">cvt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666577"><a href="#local-6989586621682666577"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="BasicTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><a href="#local-6989586621682666577"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1005"></a><span>        </span><span class="hs-identifier">cvt</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621682666578"><a href="#local-6989586621682666578"><span class="hs-identifier">name_loc</span></a></a><span> </span><a name="local-6989586621682666579"><a href="#local-6989586621682666579"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621682666580"><a href="#local-6989586621682666580"><span class="hs-identifier">kind</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1006"></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span>
</span><a name="line-1007"></a><span>                   </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621682666578"><span class="hs-identifier hs-var">name_loc</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="BasicTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621682666578"><span class="hs-identifier hs-var">name_loc</span></a><span> </span><a href="#local-6989586621682666579"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621682666580"><span class="hs-identifier hs-var">kind</span></a><span>
</span><a name="line-1008"></a><span>        </span><span class="hs-identifier">cvt</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XTyVarBndr"><span class="hs-identifier hs-var">XTyVarBndr</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsLTyVarBndrToType&quot;</span><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span class="hs-comment">-- | Convert a LHsTyVarBndrs to a list of types.</span><span>
</span><a name="line-1011"></a><span class="hs-comment">-- Works on *type* variable only, no kind vars.</span><span>
</span><a name="line-1012"></a><span class="hs-identifier">hsLTyVarBndrsToTypes</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666526"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666526"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1013"></a><a name="hsLTyVarBndrsToTypes"><a href="HsTypes.html#hsLTyVarBndrsToTypes"><span class="hs-identifier">hsLTyVarBndrsToTypes</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666581"><a href="#local-6989586621682666581"><span class="hs-identifier">tvbs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier hs-var">hsLTyVarBndrToType</span></a><span> </span><a href="#local-6989586621682666581"><span class="hs-identifier hs-var">tvbs</span></a><span>
</span><a name="line-1014"></a><span class="hs-identifier">hsLTyVarBndrsToTypes</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XLHsQTyVars"><span class="hs-identifier hs-var">XLHsQTyVars</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsLTyVarBndrsToTypes&quot;</span><span>
</span><a name="line-1015"></a><span>
</span><a name="line-1016"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-1017"></a><span class="hs-identifier">ignoreParens</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666525"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666525"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1018"></a><a name="ignoreParens"><a href="HsTypes.html#ignoreParens"><span class="hs-identifier">ignoreParens</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666582"><a href="#local-6989586621682666582"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ignoreParens"><span class="hs-identifier hs-var">ignoreParens</span></a><span> </span><a href="#local-6989586621682666582"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1019"></a><span class="hs-identifier">ignoreParens</span><span> </span><a name="local-6989586621682666583"><a href="#local-6989586621682666583"><span class="hs-identifier">ty</span></a></a><span>                   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666583"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1020"></a><span>
</span><a name="line-1021"></a><span class="hs-identifier">isLHsForAllTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666524"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1022"></a><a name="isLHsForAllTy"><a href="HsTypes.html#isLHsForAllTy"><span class="hs-identifier">isLHsForAllTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1023"></a><span class="hs-identifier">isLHsForAllTy</span><span> </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1024"></a><span>
</span><a name="line-1025"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Building types
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1032"></a><span>
</span><a name="line-1033"></a><span class="hs-identifier">mkAnonWildCardTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1034"></a><a name="mkAnonWildCardTy"><a href="HsTypes.html#mkAnonWildCardTy"><span class="hs-identifier">mkAnonWildCardTy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span>
</span><a name="line-1035"></a><span>
</span><a name="line-1036"></a><span class="hs-identifier">mkHsOpTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666523"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666523"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1037"></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666523"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666523"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1038"></a><a name="mkHsOpTy"><a href="HsTypes.html#mkHsOpTy"><span class="hs-identifier">mkHsOpTy</span></a></a><span> </span><a name="local-6989586621682666584"><a href="#local-6989586621682666584"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621682666585"><a href="#local-6989586621682666585"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621682666586"><a href="#local-6989586621682666586"><span class="hs-identifier">ty2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="#local-6989586621682666584"><span class="hs-identifier hs-var">ty1</span></a><span> </span><a href="#local-6989586621682666585"><span class="hs-identifier hs-var">op</span></a><span> </span><a href="#local-6989586621682666586"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1039"></a><span>
</span><a name="line-1040"></a><span class="hs-identifier">mkHsAppTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666522"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666522"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666522"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1041"></a><a name="mkHsAppTy"><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier">mkHsAppTy</span></a></a><span> </span><a name="local-6989586621682666587"><a href="#local-6989586621682666587"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621682666588"><a href="#local-6989586621682666588"><span class="hs-identifier">t2</span></a></a><span>
</span><a name="line-1042"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#addCLoc"><span class="hs-identifier hs-var">addCLoc</span></a><span> </span><a href="#local-6989586621682666587"><span class="hs-identifier hs-var">t1</span></a><span> </span><a href="#local-6989586621682666588"><span class="hs-identifier hs-var">t2</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="#local-6989586621682666587"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a><span> </span><a href="BasicTypes.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a><span> </span><a href="#local-6989586621682666588"><span class="hs-identifier hs-var">t2</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1043"></a><span>
</span><a name="line-1044"></a><span class="hs-identifier">mkHsAppTys</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666521"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666521"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1045"></a><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666521"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1046"></a><a name="mkHsAppTys"><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier">mkHsAppTys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">foldl'</span><span> </span><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a><span>
</span><a name="line-1047"></a><span>
</span><a name="line-1048"></a><span class="hs-identifier">mkHsAppKindTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XAppKindTy"><span class="hs-identifier hs-type">XAppKindTy</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666520"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666520"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666520"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1049"></a><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666520"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1050"></a><a name="mkHsAppKindTy"><a href="HsTypes.html#mkHsAppKindTy"><span class="hs-identifier">mkHsAppKindTy</span></a></a><span> </span><a name="local-6989586621682666589"><a href="#local-6989586621682666589"><span class="hs-identifier">ext</span></a></a><span> </span><a name="local-6989586621682666590"><a href="#local-6989586621682666590"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621682666591"><a href="#local-6989586621682666591"><span class="hs-identifier">k</span></a></a><span>
</span><a name="line-1051"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#addCLoc"><span class="hs-identifier hs-var">addCLoc</span></a><span> </span><a href="#local-6989586621682666590"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="#local-6989586621682666591"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span> </span><a href="#local-6989586621682666589"><span class="hs-identifier hs-var">ext</span></a><span> </span><a href="#local-6989586621682666590"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="#local-6989586621682666591"><span class="hs-identifier hs-var">k</span></a><span class="hs-special">)</span><span>
</span><a name="line-1052"></a><span>
</span><a name="line-1053"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Decomposing HsTypes
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1060"></a><span>
</span><a name="line-1061"></a><span class="hs-comment">---------------------------------</span><span>
</span><a name="line-1062"></a><span class="hs-comment">-- splitHsFunType decomposes a type (t1 -&gt; t2 ... -&gt; tn)</span><span>
</span><a name="line-1063"></a><span class="hs-comment">-- Breaks up any parens in the result type:</span><span>
</span><a name="line-1064"></a><span class="hs-comment">--      splitHsFunType (a -&gt; (b -&gt; c)) = ([a,b], c)</span><span>
</span><a name="line-1065"></a><span class="hs-comment">-- Also deals with (-&gt;) t1 t2; that is why it only works on LHsType Name</span><span>
</span><a name="line-1066"></a><span class="hs-comment">--   (see Trac #9096)</span><span>
</span><a name="line-1067"></a><span class="hs-identifier">splitHsFunType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">)</span><span>
</span><a name="line-1068"></a><a name="splitHsFunType"><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier">splitHsFunType</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666592"><a href="#local-6989586621682666592"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1069"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621682666592"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1070"></a><span>
</span><a name="line-1071"></a><span class="hs-identifier">splitHsFunType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666593"><a href="#local-6989586621682666593"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621682666594"><a href="#local-6989586621682666594"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1072"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666595"><a href="#local-6989586621682666595"><span class="hs-identifier">args</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666596"><a href="#local-6989586621682666596"><span class="hs-identifier">res</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621682666594"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-1073"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666593"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621682666595"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666596"><span class="hs-identifier hs-var">res</span></a><span class="hs-special">)</span><span>
</span><a name="line-1074"></a><span class="hs-comment">{- This is not so correct, because it won't work with visible kind app, in case
  someone wants to write '(-&gt;) @k1 @k2 t1 t2'. Fixing this would require changing
  ConDeclGADT abstract syntax -}</span><span>
</span><a name="line-1077"></a><span class="hs-identifier">splitHsFunType</span><span> </span><a name="local-6989586621682666597"><a href="#local-6989586621682666597"><span class="hs-identifier">orig_ty</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666598"><a href="#local-6989586621682666598"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621682666599"><a href="#local-6989586621682666599"><span class="hs-identifier">t2</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1078"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666600"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666598"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621682666599"><span class="hs-identifier hs-var">t2</span></a><span class="hs-special">]</span><span>
</span><a name="line-1079"></a><span>  </span><span class="hs-keyword">where</span><span>  </span><span class="hs-comment">-- Look for (-&gt;) t1 t2, possibly with parenthesisation</span><span>
</span><a name="line-1080"></a><span>    </span><a name="local-6989586621682666600"><a href="#local-6989586621682666600"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666601"><a href="#local-6989586621682666601"><span class="hs-identifier">fn</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621682666602"><a href="#local-6989586621682666602"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682666601"><span class="hs-identifier hs-var">fn</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="TysPrim.html#funTyConName"><span class="hs-identifier hs-var">funTyConName</span></a><span>
</span><a name="line-1081"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a name="local-6989586621682666603"><a href="#local-6989586621682666603"><span class="hs-identifier">t1</span></a></a><span class="hs-special">,</span><a name="local-6989586621682666604"><a href="#local-6989586621682666604"><span class="hs-identifier">t2</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666602"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-1082"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666605"><a href="#local-6989586621682666605"><span class="hs-identifier">args</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666606"><a href="#local-6989586621682666606"><span class="hs-identifier">res</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621682666604"><span class="hs-identifier hs-var">t2</span></a><span>
</span><a name="line-1083"></a><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666603"><span class="hs-identifier hs-var">t1</span></a><span class="hs-glyph">:</span><a href="#local-6989586621682666605"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666606"><span class="hs-identifier hs-var">res</span></a><span class="hs-special">)</span><span>
</span><a name="line-1084"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666607"><a href="#local-6989586621682666607"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621682666608"><a href="#local-6989586621682666608"><span class="hs-identifier">t2</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621682666609"><a href="#local-6989586621682666609"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666600"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666607"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666608"><span class="hs-identifier hs-var">t2</span></a><span class="hs-glyph">:</span><a href="#local-6989586621682666609"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1085"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666610"><a href="#local-6989586621682666610"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><a name="local-6989586621682666611"><a href="#local-6989586621682666611"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666600"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666610"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="#local-6989586621682666611"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-1086"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">_</span><span>                       </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666597"><span class="hs-identifier hs-var">orig_ty</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Failure to match</span><span>
</span><a name="line-1087"></a><span>
</span><a name="line-1088"></a><span class="hs-identifier">splitHsFunType</span><span> </span><a name="local-6989586621682666612"><a href="#local-6989586621682666612"><span class="hs-identifier">other</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666612"><span class="hs-identifier hs-var">other</span></a><span class="hs-special">)</span><span>
</span><a name="line-1089"></a><span>
</span><a name="line-1090"></a><span class="hs-comment">-- retrieve the name of the &quot;head&quot; of a nested type application</span><span>
</span><a name="line-1091"></a><span class="hs-comment">-- somewhat like splitHsAppTys, but a little more thorough</span><span>
</span><a name="line-1092"></a><span class="hs-comment">-- used to examine the result of a GADT-like datacon, so it doesn't handle</span><span>
</span><a name="line-1093"></a><span class="hs-comment">-- *all* cases (like lists, tuples, (~), etc.)</span><span>
</span><a name="line-1094"></a><span class="hs-identifier">hsTyGetAppHead_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666519"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1095"></a><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666519"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1096"></a><a name="hsTyGetAppHead_maybe"><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier">hsTyGetAppHead_maybe</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666613"><span class="hs-identifier hs-var">go</span></a><span>
</span><a name="line-1097"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1098"></a><span>    </span><a name="local-6989586621682666613"><a href="#local-6989586621682666613"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666614"><a href="#local-6989586621682666614"><span class="hs-identifier">ln</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621682666614"><span class="hs-identifier hs-var">ln</span></a><span>
</span><a name="line-1099"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666615"><a href="#local-6989586621682666615"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666613"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666615"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-1100"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666616"><a href="#local-6989586621682666616"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666613"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666616"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1101"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621682666617"><a href="#local-6989586621682666617"><span class="hs-identifier">loc</span></a></a><span> </span><a name="local-6989586621682666618"><a href="#local-6989586621682666618"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621682666617"><span class="hs-identifier hs-var">loc</span></a><span> </span><a href="#local-6989586621682666618"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-1102"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666619"><a href="#local-6989586621682666619"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666613"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666619"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1103"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666620"><a href="#local-6989586621682666620"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666613"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666620"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1104"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">_</span><span>                               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-1105"></a><span>
</span><a name="line-1106"></a><span class="hs-comment">------------------------------------------------------------</span><span>
</span><a name="line-1107"></a><span class="hs-comment">-- Arguments in an expression/type after splitting</span><span>
</span><a name="line-1108"></a><span class="hs-keyword">data</span><span> </span><a name="HsArg"><a href="HsTypes.html#HsArg"><span class="hs-identifier">HsArg</span></a></a><span> </span><a name="local-6989586621682666383"><a href="#local-6989586621682666383"><span class="hs-identifier">tm</span></a></a><span> </span><a name="local-6989586621682666384"><a href="#local-6989586621682666384"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-1109"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsValArg"><a href="HsTypes.html#HsValArg"><span class="hs-identifier">HsValArg</span></a></a><span> </span><a href="#local-6989586621682666383"><span class="hs-identifier hs-type">tm</span></a><span>   </span><span class="hs-comment">-- Argument is an ordinary expression     (f arg)</span><span>
</span><a name="line-1110"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTypeArg"><a href="HsTypes.html#HsTypeArg"><span class="hs-identifier">HsTypeArg</span></a></a><span> </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span> </span><a href="#local-6989586621682666384"><span class="hs-identifier hs-type">ty</span></a><span> </span><span class="hs-comment">-- Argument is a visible type application (f @ty)</span><span>
</span><a name="line-1111"></a><span>                         </span><span class="hs-comment">-- SrcSpan is location of the `@`</span><span>
</span><a name="line-1112"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsArgPar"><a href="HsTypes.html#HsArgPar"><span class="hs-identifier">HsArgPar</span></a></a><span> </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span> </span><span class="hs-comment">-- See Note [HsArgPar]</span><span>
</span><a name="line-1113"></a><span>
</span><a name="line-1114"></a><span class="hs-identifier">numVisibleArgs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a><span> </span><a href="#local-6989586621682666517"><span class="hs-identifier hs-type">tm</span></a><span> </span><a href="#local-6989586621682666518"><span class="hs-identifier hs-type">ty</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span>
</span><a name="line-1115"></a><a name="numVisibleArgs"><a href="HsTypes.html#numVisibleArgs"><span class="hs-identifier">numVisibleArgs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="#local-6989586621682666621"><span class="hs-identifier hs-var">is_vis</span></a><span>
</span><a name="line-1116"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621682666621"><a href="#local-6989586621682666621"><span class="hs-identifier">is_vis</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1117"></a><span>        </span><span class="hs-identifier">is_vis</span><span> </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1118"></a><span>
</span><a name="line-1119"></a><span class="hs-comment">-- type level equivalent</span><span>
</span><a name="line-1120"></a><span class="hs-keyword">type</span><span> </span><a name="LHsTypeArg"><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier">LHsTypeArg</span></a></a><span> </span><a name="local-6989586621682666382"><a href="#local-6989586621682666382"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666382"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621682666382"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1121"></a><span>
</span><a name="line-1122"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666437"><span class="hs-identifier hs-type">tm</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666438"><span class="hs-identifier hs-type">ty</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a><span> </span><a href="#local-6989586621682666437"><span class="hs-identifier hs-type">tm</span></a><span> </span><a href="#local-6989586621682666438"><span class="hs-identifier hs-type">ty</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1123"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a><span> </span><a name="local-6989586621682666439"><a href="#local-6989586621682666439"><span class="hs-identifier">tm</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666439"><span class="hs-identifier hs-var">tm</span></a><span>
</span><a name="line-1124"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666440"><a href="#local-6989586621682666440"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'@'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666440"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1125"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsArgPar"><span class="hs-identifier hs-var">HsArgPar</span></a><span> </span><a name="local-6989586621682666441"><a href="#local-6989586621682666441"><span class="hs-identifier">sp</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;HsArgPar&quot;</span><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666441"><span class="hs-identifier hs-var">sp</span></a><span>
</span><a name="line-1126"></a><span class="hs-comment">{-
Note [HsArgPar]
A HsArgPar indicates that everything to the left of this in the argument list is
enclosed in parentheses together with the function itself. It is necessary so
that we can recreate the parenthesis structure in the original source after
typechecking the arguments.

The SrcSpan is the span of the original HsPar

((f arg1) arg2 arg3) results in an input argument list of
[HsValArg arg1, HsArgPar span1, HsValArg arg2, HsValArg arg3, HsArgPar span2]

-}</span><span>
</span><a name="line-1139"></a><span>
</span><a name="line-1140"></a><span class="hs-identifier">splitHsAppTys</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1141"></a><a name="splitHsAppTys"><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier">splitHsAppTys</span></a></a><span> </span><a name="local-6989586621682666622"><a href="#local-6989586621682666622"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666623"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><a href="#local-6989586621682666622"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1142"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1143"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span>
</span><a name="line-1144"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1145"></a><span>    </span><a name="local-6989586621682666623"><a href="#local-6989586621682666623"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666624"><a href="#local-6989586621682666624"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621682666625"><a href="#local-6989586621682666625"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666623"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666624"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a><span> </span><a href="#local-6989586621682666625"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1146"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span> </span><a name="local-6989586621682666627"><a href="#local-6989586621682666627"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621682666628"><a href="#local-6989586621682666628"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621682666629"><a href="#local-6989586621682666629"><span class="hs-identifier">k</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666623"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666628"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a><span> </span><a href="#local-6989586621682666627"><span class="hs-identifier hs-var">l</span></a><span> </span><a href="#local-6989586621682666629"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1147"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621682666631"><a href="#local-6989586621682666631"><span class="hs-identifier">sp</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666632"><a href="#local-6989586621682666632"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666623"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666632"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsArgPar"><span class="hs-identifier hs-var">HsArgPar</span></a><span> </span><a href="#local-6989586621682666631"><span class="hs-identifier hs-var">sp</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1148"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621682666634"><a href="#local-6989586621682666634"><span class="hs-identifier">f</span></a></a><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666634"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">,</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1149"></a><span class="hs-comment">--------------------------------</span><span>
</span><a name="line-1150"></a><span class="hs-identifier">splitLHsPatSynTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1151"></a><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- universals</span><span>
</span><a name="line-1152"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- required constraints</span><span>
</span><a name="line-1153"></a><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- existentials</span><span>
</span><a name="line-1154"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- provided constraints</span><span>
</span><a name="line-1155"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666516"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- body type</span><span>
</span><a name="line-1156"></a><a name="splitLHsPatSynTy"><a href="HsTypes.html#splitLHsPatSynTy"><span class="hs-identifier">splitLHsPatSynTy</span></a></a><span> </span><a name="local-6989586621682666636"><a href="#local-6989586621682666636"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666637"><span class="hs-identifier hs-var">univs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666639"><span class="hs-identifier hs-var">reqs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666641"><span class="hs-identifier hs-var">exis</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666643"><span class="hs-identifier hs-var">provs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666644"><span class="hs-identifier hs-var">ty4</span></a><span class="hs-special">)</span><span>
</span><a name="line-1157"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1158"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621682666637"><a href="#local-6989586621682666637"><span class="hs-identifier">univs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666638"><a href="#local-6989586621682666638"><span class="hs-identifier">ty1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621682666636"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1159"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621682666639"><a href="#local-6989586621682666639"><span class="hs-identifier">reqs</span></a></a><span class="hs-special">,</span><span>  </span><a name="local-6989586621682666640"><a href="#local-6989586621682666640"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621682666638"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1160"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621682666641"><a href="#local-6989586621682666641"><span class="hs-identifier">exis</span></a></a><span class="hs-special">,</span><span>  </span><a name="local-6989586621682666642"><a href="#local-6989586621682666642"><span class="hs-identifier">ty3</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621682666640"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1161"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621682666643"><a href="#local-6989586621682666643"><span class="hs-identifier">provs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666644"><a href="#local-6989586621682666644"><span class="hs-identifier">ty4</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621682666642"><span class="hs-identifier hs-var">ty3</span></a><span>
</span><a name="line-1162"></a><span>
</span><a name="line-1163"></a><span class="hs-identifier">splitLHsSigmaTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666515"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1164"></a><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666515"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666515"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666515"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1165"></a><a name="splitLHsSigmaTy"><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier">splitLHsSigmaTy</span></a></a><span> </span><a name="local-6989586621682666645"><a href="#local-6989586621682666645"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-1166"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666646"><a href="#local-6989586621682666646"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666647"><a href="#local-6989586621682666647"><span class="hs-identifier">ty1</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621682666645"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1167"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666648"><a href="#local-6989586621682666648"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666649"><a href="#local-6989586621682666649"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621682666647"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1168"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666646"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666648"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666649"><span class="hs-identifier hs-var">ty2</span></a><span class="hs-special">)</span><span>
</span><a name="line-1169"></a><span>
</span><a name="line-1170"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666514"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666514"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666514"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1171"></a><a name="splitLHsForAllTy"><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier">splitLHsForAllTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666650"><a href="#local-6989586621682666650"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621682666650"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1172"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666651"><a href="#local-6989586621682666651"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666652"><a href="#local-6989586621682666652"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666651"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666652"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1173"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><a name="local-6989586621682666653"><a href="#local-6989586621682666653"><span class="hs-identifier">body</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666653"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1174"></a><span>
</span><a name="line-1175"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666513"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621682666513"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666513"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1176"></a><a name="splitLHsQualTy"><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier">splitLHsQualTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666654"><a href="#local-6989586621682666654"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621682666654"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1177"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666655"><a href="#local-6989586621682666655"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666656"><a href="#local-6989586621682666656"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666655"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span>     </span><a href="#local-6989586621682666656"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1178"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><a name="local-6989586621682666657"><a href="#local-6989586621682666657"><span class="hs-identifier">body</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666657"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1179"></a><span>
</span><a name="line-1180"></a><span class="hs-identifier">splitLHsInstDeclTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span>
</span><a name="line-1181"></a><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">)</span><span>
</span><a name="line-1182"></a><span class="hs-comment">-- Split up an instance decl type, returning the pieces</span><span>
</span><a name="line-1183"></a><a name="splitLHsInstDeclTy"><a href="HsTypes.html#splitLHsInstDeclTy"><span class="hs-identifier">splitLHsInstDeclTy</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666658"><a href="#local-6989586621682666658"><span class="hs-identifier">itkvs</span></a></a><span>
</span><a name="line-1184"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666659"><a href="#local-6989586621682666659"><span class="hs-identifier">inst_ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1185"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666660"><a href="#local-6989586621682666660"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666661"><a href="#local-6989586621682666661"><span class="hs-identifier">cxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666662"><a href="#local-6989586621682666662"><span class="hs-identifier">body_ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span> </span><a href="#local-6989586621682666659"><span class="hs-identifier hs-var">inst_ty</span></a><span>
</span><a name="line-1186"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682666658"><span class="hs-identifier hs-var">itkvs</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621682666660"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666661"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621682666662"><span class="hs-identifier hs-var">body_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1187"></a><span>         </span><span class="hs-comment">-- Return implicitly bound type and kind vars</span><span>
</span><a name="line-1188"></a><span>         </span><span class="hs-comment">-- For an instance decl, all of them are in scope</span><span>
</span><a name="line-1189"></a><span class="hs-identifier">splitLHsInstDeclTy</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;splitLHsInstDeclTy&quot;</span><span>
</span><a name="line-1190"></a><span>
</span><a name="line-1191"></a><span class="hs-identifier">getLHsInstDeclHead</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621682666512"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666512"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1192"></a><a name="getLHsInstDeclHead"><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier">getLHsInstDeclHead</span></a></a><span> </span><a name="local-6989586621682666663"><a href="#local-6989586621682666663"><span class="hs-identifier">inst_ty</span></a></a><span>
</span><a name="line-1193"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666664"><a href="#local-6989586621682666664"><span class="hs-identifier">_tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666665"><a href="#local-6989586621682666665"><span class="hs-identifier">_cxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682666666"><a href="#local-6989586621682666666"><span class="hs-identifier">body_ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsSigType"><span class="hs-identifier hs-var">hsSigType</span></a><span> </span><a href="#local-6989586621682666663"><span class="hs-identifier hs-var">inst_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1194"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666666"><span class="hs-identifier hs-var">body_ty</span></a><span>
</span><a name="line-1195"></a><span>
</span><a name="line-1196"></a><span class="hs-identifier">getLHsInstDeclClass_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666511"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1197"></a><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666511"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1198"></a><span class="hs-comment">-- Works on (HsSigType RdrName)</span><span>
</span><a name="line-1199"></a><a name="getLHsInstDeclClass_maybe"><a href="HsTypes.html#getLHsInstDeclClass_maybe"><span class="hs-identifier">getLHsInstDeclClass_maybe</span></a></a><span> </span><a name="local-6989586621682666667"><a href="#local-6989586621682666667"><span class="hs-identifier">inst_ty</span></a></a><span>
</span><a name="line-1200"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621682666668"><a href="#local-6989586621682666668"><span class="hs-identifier">head_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier hs-var">getLHsInstDeclHead</span></a><span> </span><a href="#local-6989586621682666667"><span class="hs-identifier hs-var">inst_ty</span></a><span>
</span><a name="line-1201"></a><span>       </span><span class="hs-special">;</span><span> </span><a name="local-6989586621682666669"><a href="#local-6989586621682666669"><span class="hs-identifier">cls</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier hs-var">hsTyGetAppHead_maybe</span></a><span> </span><a href="#local-6989586621682666668"><span class="hs-identifier hs-var">head_ty</span></a><span>
</span><a name="line-1202"></a><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><a href="#local-6989586621682666669"><span class="hs-identifier hs-var">cls</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1203"></a><span>
</span><a name="line-1204"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                FieldOcc
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1211"></a><span>
</span><a name="line-1212"></a><span class="hs-comment">-- | Located Field Occurrence</span><span>
</span><a name="line-1213"></a><span class="hs-keyword">type</span><span> </span><a name="LFieldOcc"><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier">LFieldOcc</span></a></a><span> </span><a name="local-6989586621682666381"><a href="#local-6989586621682666381"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621682666381"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1214"></a><span>
</span><a name="line-1215"></a><span class="hs-comment">-- | Field Occurrence</span><span>
</span><a name="line-1216"></a><span class="hs-comment">--</span><span>
</span><a name="line-1217"></a><span class="hs-comment">-- Represents an *occurrence* of an unambiguous field.  We store</span><span>
</span><a name="line-1218"></a><span class="hs-comment">-- both the 'RdrName' the user originally wrote, and after the</span><span>
</span><a name="line-1219"></a><span class="hs-comment">-- renamer, the selector function.</span><span>
</span><a name="line-1220"></a><span class="hs-keyword">data</span><span> </span><a name="FieldOcc"><a href="HsTypes.html#FieldOcc"><span class="hs-identifier">FieldOcc</span></a></a><span> </span><a name="local-6989586621682666380"><a href="#local-6989586621682666380"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FieldOcc"><a href="HsTypes.html#FieldOcc"><span class="hs-identifier">FieldOcc</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="extFieldOcc"><a href="HsTypes.html#extFieldOcc"><span class="hs-identifier">extFieldOcc</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="#local-6989586621682666380"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1221"></a><span>                              </span><span class="hs-special">,</span><span> </span><a name="rdrNameFieldOcc"><a href="HsTypes.html#rdrNameFieldOcc"><span class="hs-identifier">rdrNameFieldOcc</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span>
</span><a name="line-1222"></a><span>                                 </span><span class="hs-comment">-- ^ See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-1223"></a><span>                              </span><span class="hs-special">}</span><span>
</span><a name="line-1224"></a><span>
</span><a name="line-1225"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XFieldOcc"><a href="HsTypes.html#XFieldOcc"><span class="hs-identifier">XFieldOcc</span></a></a><span>
</span><a name="line-1226"></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XXFieldOcc"><span class="hs-identifier hs-type">XXFieldOcc</span></a><span> </span><a href="#local-6989586621682666380"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1227"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666781"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="#local-6989586621682666780"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span>  </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621682666780"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1228"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666779"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="#local-6989586621682666778"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621682666778"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1229"></a><span>
</span><a name="line-1230"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1231"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-1232"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCFieldOcc"><span class="hs-identifier hs-type">XCFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-1233"></a><span>
</span><a name="line-1234"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXFieldOcc"><span class="hs-identifier hs-type">XXFieldOcc</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1235"></a><span>
</span><a name="line-1236"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621682666435"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1237"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">rdrNameFieldOcc</span><span>
</span><a name="line-1238"></a><span>
</span><a name="line-1239"></a><span class="hs-identifier">mkFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1240"></a><a name="mkFieldOcc"><a href="HsTypes.html#mkFieldOcc"><span class="hs-identifier">mkFieldOcc</span></a></a><span> </span><a name="local-6989586621682666670"><a href="#local-6989586621682666670"><span class="hs-identifier">rdr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="#local-6989586621682666670"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1241"></a><span>
</span><a name="line-1242"></a><span>
</span><a name="line-1243"></a><span class="hs-comment">-- | Ambiguous Field Occurrence</span><span>
</span><a name="line-1244"></a><span class="hs-comment">--</span><span>
</span><a name="line-1245"></a><span class="hs-comment">-- Represents an *occurrence* of a field that is potentially</span><span>
</span><a name="line-1246"></a><span class="hs-comment">-- ambiguous after the renamer, with the ambiguity resolved by the</span><span>
</span><a name="line-1247"></a><span class="hs-comment">-- typechecker.  We always store the 'RdrName' that the user</span><span>
</span><a name="line-1248"></a><span class="hs-comment">-- originally wrote, and store the selector function after the renamer</span><span>
</span><a name="line-1249"></a><span class="hs-comment">-- (for unambiguous occurrences) or the typechecker (for ambiguous</span><span>
</span><a name="line-1250"></a><span class="hs-comment">-- occurrences).</span><span>
</span><a name="line-1251"></a><span class="hs-comment">--</span><span>
</span><a name="line-1252"></a><span class="hs-comment">-- See Note [HsRecField and HsRecUpdField] in HsPat and</span><span>
</span><a name="line-1253"></a><span class="hs-comment">-- Note [Disambiguating record fields] in TcExpr.</span><span>
</span><a name="line-1254"></a><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-1255"></a><span class="hs-keyword">data</span><span> </span><a name="AmbiguousFieldOcc"><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier">AmbiguousFieldOcc</span></a></a><span> </span><a name="local-6989586621682666379"><a href="#local-6989586621682666379"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1256"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Unambiguous"><a href="HsTypes.html#Unambiguous"><span class="hs-identifier">Unambiguous</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XUnambiguous"><span class="hs-identifier hs-type">XUnambiguous</span></a><span> </span><a href="#local-6989586621682666379"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span class="hs-special">)</span><span>
</span><a name="line-1257"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Ambiguous"><a href="HsTypes.html#Ambiguous"><span class="hs-identifier">Ambiguous</span></a></a><span>   </span><span class="hs-special">(</span><a href="HsExtension.html#XAmbiguous"><span class="hs-identifier hs-type">XAmbiguous</span></a><span> </span><a href="#local-6989586621682666379"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span class="hs-special">)</span><span>
</span><a name="line-1258"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XAmbiguousFieldOcc"><a href="HsTypes.html#XAmbiguousFieldOcc"><span class="hs-identifier">XAmbiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXAmbiguousFieldOcc"><span class="hs-identifier hs-type">XXAmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621682666379"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1259"></a><span>
</span><a name="line-1260"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XUnambiguous"><span class="hs-identifier hs-type">XUnambiguous</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1261"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XUnambiguous"><span class="hs-identifier hs-type">XUnambiguous</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-1262"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XUnambiguous"><span class="hs-identifier hs-type">XUnambiguous</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-1263"></a><span>
</span><a name="line-1264"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAmbiguous"><span class="hs-identifier hs-type">XAmbiguous</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1265"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAmbiguous"><span class="hs-identifier hs-type">XAmbiguous</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1266"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAmbiguous"><span class="hs-identifier hs-type">XAmbiguous</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-1267"></a><span>
</span><a name="line-1268"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXAmbiguousFieldOcc"><span class="hs-identifier hs-type">XXAmbiguousFieldOcc</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1269"></a><span>
</span><a name="line-1270"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666433"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621682666432"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1271"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1272"></a><span>
</span><a name="line-1273"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666431"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621682666430"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1274"></a><span>  </span><a name="local-8214565720324887692"><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier">pprInfixOcc</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1275"></a><span>  </span><a name="local-8214565720324887691"><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier">pprPrefixOcc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1276"></a><span>
</span><a name="line-1277"></a><span class="hs-identifier">mkAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1278"></a><a name="mkAmbiguousFieldOcc"><a href="HsTypes.html#mkAmbiguousFieldOcc"><span class="hs-identifier">mkAmbiguousFieldOcc</span></a></a><span> </span><a name="local-6989586621682666671"><a href="#local-6989586621682666671"><span class="hs-identifier">rdr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><a href="#local-6989586621682666671"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1279"></a><span>
</span><a name="line-1280"></a><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666510"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span>
</span><a name="line-1281"></a><a name="rdrNameAmbiguousFieldOcc"><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666672"><a href="#local-6989586621682666672"><span class="hs-identifier">rdr</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666672"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1282"></a><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666673"><a href="#local-6989586621682666673"><span class="hs-identifier">rdr</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666673"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1283"></a><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XAmbiguousFieldOcc"><span class="hs-identifier hs-var">XAmbiguousFieldOcc</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1284"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;rdrNameAmbiguousFieldOcc&quot;</span><span>
</span><a name="line-1285"></a><span>
</span><a name="line-1286"></a><span class="hs-identifier">selectorAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-1287"></a><a name="selectorAmbiguousFieldOcc"><a href="HsTypes.html#selectorAmbiguousFieldOcc"><span class="hs-identifier">selectorAmbiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a name="local-6989586621682666674"><a href="#local-6989586621682666674"><span class="hs-identifier">sel</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666674"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1288"></a><span class="hs-identifier">selectorAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><a name="local-6989586621682666675"><a href="#local-6989586621682666675"><span class="hs-identifier">sel</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666675"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1289"></a><span class="hs-identifier">selectorAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XAmbiguousFieldOcc"><span class="hs-identifier hs-var">XAmbiguousFieldOcc</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1290"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;selectorAmbiguousFieldOcc&quot;</span><span>
</span><a name="line-1291"></a><span>
</span><a name="line-1292"></a><span class="hs-identifier">unambiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span>
</span><a name="line-1293"></a><a name="unambiguousFieldOcc"><a href="HsTypes.html#unambiguousFieldOcc"><span class="hs-identifier">unambiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a name="local-6989586621682666676"><a href="#local-6989586621682666676"><span class="hs-identifier">rdr</span></a></a><span> </span><a name="local-6989586621682666677"><a href="#local-6989586621682666677"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="#local-6989586621682666676"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="#local-6989586621682666677"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1294"></a><span class="hs-identifier">unambiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><a name="local-6989586621682666678"><a href="#local-6989586621682666678"><span class="hs-identifier">rdr</span></a></a><span> </span><a name="local-6989586621682666679"><a href="#local-6989586621682666679"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="#local-6989586621682666678"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="#local-6989586621682666679"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1295"></a><span class="hs-identifier">unambiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XAmbiguousFieldOcc"><span class="hs-identifier hs-var">XAmbiguousFieldOcc</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;unambiguousFieldOcc&quot;</span><span>
</span><a name="line-1296"></a><span>
</span><a name="line-1297"></a><span class="hs-identifier">ambiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span>
</span><a name="line-1298"></a><a name="ambiguousFieldOcc"><a href="HsTypes.html#ambiguousFieldOcc"><span class="hs-identifier">ambiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a name="local-6989586621682666680"><a href="#local-6989586621682666680"><span class="hs-identifier">sel</span></a></a><span> </span><a name="local-6989586621682666681"><a href="#local-6989586621682666681"><span class="hs-identifier">rdr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a href="#local-6989586621682666680"><span class="hs-identifier hs-var">sel</span></a><span> </span><a href="#local-6989586621682666681"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1299"></a><span class="hs-identifier">ambiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XFieldOcc"><span class="hs-identifier hs-var">XFieldOcc</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;ambiguousFieldOcc&quot;</span><span>
</span><a name="line-1300"></a><span>
</span><a name="line-1301"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Pretty printing}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1308"></a><span>
</span><a name="line-1309"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666428"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621682666427"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621682666427"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1310"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-6989586621682666429"><a href="#local-6989586621682666429"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsType"><span class="hs-identifier hs-var">pprHsType</span></a><span> </span><a href="#local-6989586621682666429"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1311"></a><span>
</span><a name="line-1312"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1313"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier hs-var">ppr_tylit</span></a><span>
</span><a name="line-1314"></a><span>
</span><a name="line-1315"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666424"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621682666423"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1316"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621682666423"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1317"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666425"><a href="#local-6989586621682666425"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a><span> </span><a href="#local-6989586621682666425"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-1318"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XLHsQTyVars"><span class="hs-identifier hs-var">XLHsQTyVars</span></a><span> </span><a name="local-6989586621682666426"><a href="#local-6989586621682666426"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666426"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1319"></a><span>
</span><a name="line-1320"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666418"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621682666417"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1321"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621682666417"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1322"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666419"><a href="#local-6989586621682666419"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666419"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1323"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666420"><a href="#local-6989586621682666420"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621682666421"><a href="#local-6989586621682666421"><span class="hs-identifier">k</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666420"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666421"><span class="hs-identifier hs-var">k</span></a><span class="hs-special">]</span><span>
</span><a name="line-1324"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XTyVarBndr"><span class="hs-identifier hs-var">XTyVarBndr</span></a><span> </span><a name="local-6989586621682666422"><a href="#local-6989586621682666422"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666422"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1325"></a><span>
</span><a name="line-1326"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666413"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666414"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-1327"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621682666412"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621682666414"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1328"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666415"><a href="#local-6989586621682666415"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666415"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1329"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><a name="local-6989586621682666416"><a href="#local-6989586621682666416"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666416"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1330"></a><span>
</span><a name="line-1331"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666408"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621682666409"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-1332"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621682666407"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621682666409"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1333"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666410"><a href="#local-6989586621682666410"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666410"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1334"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsWildCardBndrs"><span class="hs-identifier hs-var">XHsWildCardBndrs</span></a><span> </span><a name="local-6989586621682666411"><a href="#local-6989586621682666411"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666411"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1335"></a><span>
</span><a name="line-1336"></a><span class="hs-identifier">pprAnonWildCard</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1337"></a><a name="pprAnonWildCard"><a href="HsTypes.html#pprAnonWildCard"><span class="hs-identifier">pprAnonWildCard</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span>
</span><a name="line-1338"></a><span>
</span><a name="line-1339"></a><span class="hs-comment">-- | Prints a forall; When passed an empty list, prints @forall.@ only when</span><span>
</span><a name="line-1340"></a><span class="hs-comment">-- @-dppr-debug@</span><span>
</span><a name="line-1341"></a><span class="hs-identifier">pprHsForAll</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666509"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1342"></a><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666509"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666509"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1343"></a><a name="pprHsForAll"><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier">pprHsForAll</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier hs-var">pprHsForAllExtra</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-1344"></a><span>
</span><a name="line-1345"></a><span class="hs-comment">-- | Version of 'pprHsForAll' that can also print an extra-constraints</span><span>
</span><a name="line-1346"></a><span class="hs-comment">-- wildcard, e.g. @_ =&gt; a -&gt; Bool@ or @(Show a, _) =&gt; a -&gt; String@. This</span><span>
</span><a name="line-1347"></a><span class="hs-comment">-- underscore will be printed when the 'Maybe SrcSpan' argument is a 'Just'</span><span>
</span><a name="line-1348"></a><span class="hs-comment">-- containing the location of the extra-constraints wildcard. A special</span><span>
</span><a name="line-1349"></a><span class="hs-comment">-- function for this is needed, as the extra-constraints wildcard is removed</span><span>
</span><a name="line-1350"></a><span class="hs-comment">-- from the actual context and type, and stored in a separate field, thus just</span><span>
</span><a name="line-1351"></a><span class="hs-comment">-- printing the type will not print the extra-constraints wildcard.</span><span>
</span><a name="line-1352"></a><span class="hs-identifier">pprHsForAllExtra</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666508"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1353"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666508"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1354"></a><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666508"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1355"></a><a name="pprHsForAllExtra"><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier">pprHsForAllExtra</span></a></a><span> </span><a name="local-6989586621682666682"><a href="#local-6989586621682666682"><span class="hs-identifier">extra</span></a></a><span> </span><a name="local-6989586621682666683"><a href="#local-6989586621682666683"><span class="hs-identifier">qtvs</span></a></a><span> </span><a name="local-6989586621682666684"><a href="#local-6989586621682666684"><span class="hs-identifier">cxt</span></a></a><span>
</span><a name="line-1356"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666685"><span class="hs-identifier hs-var">pp_forall</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#pprLHsContextExtra"><span class="hs-identifier hs-var">pprLHsContextExtra</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">isJust</span><span> </span><a href="#local-6989586621682666682"><span class="hs-identifier hs-var">extra</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621682666684"><span class="hs-identifier hs-var">cxt</span></a><span>
</span><a name="line-1357"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1358"></a><span>    </span><a name="local-6989586621682666685"><a href="#local-6989586621682666685"><span class="hs-identifier">pp_forall</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621682666683"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#whenPprDebug"><span class="hs-identifier hs-var">whenPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span class="hs-special">)</span><span>
</span><a name="line-1359"></a><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a><span> </span><a href="#local-6989586621682666683"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span>
</span><a name="line-1360"></a><span>
</span><a name="line-1361"></a><span class="hs-comment">-- | Version of 'pprHsForall' or 'pprHsForallExtra' that will always print</span><span>
</span><a name="line-1362"></a><span class="hs-comment">-- @forall.@ when passed @Just []@. Prints nothing if passed 'Nothing'</span><span>
</span><a name="line-1363"></a><span class="hs-identifier">pprHsExplicitForAll</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666507"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1364"></a><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666507"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1365"></a><a name="pprHsExplicitForAll"><a href="HsTypes.html#pprHsExplicitForAll"><span class="hs-identifier">pprHsExplicitForAll</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621682666686"><a href="#local-6989586621682666686"><span class="hs-identifier">qtvs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a><span> </span><a href="#local-6989586621682666686"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span>
</span><a name="line-1366"></a><span class="hs-identifier">pprHsExplicitForAll</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1367"></a><span>
</span><a name="line-1368"></a><span class="hs-identifier">pprLHsContext</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666506"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1369"></a><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666506"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1370"></a><a name="pprLHsContext"><a href="HsTypes.html#pprLHsContext"><span class="hs-identifier">pprLHsContext</span></a></a><span> </span><a name="local-6989586621682666687"><a href="#local-6989586621682666687"><span class="hs-identifier">lctxt</span></a></a><span>
</span><a name="line-1371"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621682666687"><span class="hs-identifier hs-var">lctxt</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1372"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprLHsContextAlways"><span class="hs-identifier hs-var">pprLHsContextAlways</span></a><span> </span><a href="#local-6989586621682666687"><span class="hs-identifier hs-var">lctxt</span></a><span>
</span><a name="line-1373"></a><span>
</span><a name="line-1374"></a><span class="hs-comment">-- For use in a HsQualTy, which always gets printed if it exists.</span><span>
</span><a name="line-1375"></a><span class="hs-identifier">pprLHsContextAlways</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666505"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1376"></a><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666505"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1377"></a><a name="pprLHsContextAlways"><a href="HsTypes.html#pprLHsContextAlways"><span class="hs-identifier">pprLHsContextAlways</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666688"><a href="#local-6989586621682666688"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1378"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682666688"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1379"></a><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>             </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1380"></a><span>      </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666689"><a href="#local-6989586621682666689"><span class="hs-identifier">ty</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><a href="#local-6989586621682666689"><span class="hs-identifier hs-var">ty</span></a><span>           </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1381"></a><span>      </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621682666688"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1382"></a><span>
</span><a name="line-1383"></a><span class="hs-comment">-- True &lt;=&gt; print an extra-constraints wildcard, e.g. @(Show a, _) =&gt;@</span><span>
</span><a name="line-1384"></a><span class="hs-identifier">pprLHsContextExtra</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666504"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1385"></a><span>                   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666504"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1386"></a><a name="pprLHsContextExtra"><a href="HsTypes.html#pprLHsContextExtra"><span class="hs-identifier">pprLHsContextExtra</span></a></a><span> </span><a name="local-6989586621682666690"><a href="#local-6989586621682666690"><span class="hs-identifier">show_extra</span></a></a><span> </span><a name="local-6989586621682666691"><a href="#local-6989586621682666691"><span class="hs-identifier">lctxt</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666692"><a href="#local-6989586621682666692"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1387"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><a href="#local-6989586621682666690"><span class="hs-identifier hs-var">show_extra</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprLHsContext"><span class="hs-identifier hs-var">pprLHsContext</span></a><span> </span><a href="#local-6989586621682666691"><span class="hs-identifier hs-var">lctxt</span></a><span>
</span><a name="line-1388"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621682666692"><span class="hs-identifier hs-var">ctxt</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1389"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><a href="#local-6989586621682666693"><span class="hs-identifier hs-var">ctxt'</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1390"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1391"></a><span>    </span><a name="local-6989586621682666693"><a href="#local-6989586621682666693"><span class="hs-identifier">ctxt'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666692"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-special">[</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span class="hs-special">]</span><span>
</span><a name="line-1392"></a><span>
</span><a name="line-1393"></a><span class="hs-identifier">pprConDeclFields</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666503"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1394"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666503"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1395"></a><a name="pprConDeclFields"><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier">pprConDeclFields</span></a></a><span> </span><a name="local-6989586621682666694"><a href="#local-6989586621682666694"><span class="hs-identifier">fields</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621682666695"><span class="hs-identifier hs-var">ppr_fld</span></a><span> </span><a href="#local-6989586621682666694"><span class="hs-identifier hs-var">fields</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1396"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1397"></a><span>    </span><a name="local-6989586621682666695"><a href="#local-6989586621682666695"><span class="hs-identifier">ppr_fld</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-var">ConDeclField</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cd_fld_names</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666697"><a href="#local-6989586621682666697"><span class="hs-identifier">ns</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">cd_fld_type</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666698"><a href="#local-6989586621682666698"><span class="hs-identifier">ty</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-1398"></a><span>                                 </span><span class="hs-identifier">cd_fld_doc</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666699"><a href="#local-6989586621682666699"><span class="hs-identifier">doc</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1399"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666696"><span class="hs-identifier hs-var">ppr_names</span></a><span> </span><a href="#local-6989586621682666697"><span class="hs-identifier hs-var">ns</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666698"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDoc.html#ppr_mbDoc"><span class="hs-identifier hs-var">ppr_mbDoc</span></a><span> </span><a href="#local-6989586621682666699"><span class="hs-identifier hs-var">doc</span></a><span>
</span><a name="line-1400"></a><span>    </span><span class="hs-identifier">ppr_fld</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XConDeclField"><span class="hs-identifier hs-var">XConDeclField</span></a><span> </span><a name="local-6989586621682666700"><a href="#local-6989586621682666700"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666700"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1401"></a><span>    </span><a name="local-6989586621682666696"><a href="#local-6989586621682666696"><span class="hs-identifier">ppr_names</span></a></a><span> </span><span class="hs-special">[</span><a name="local-6989586621682666701"><a href="#local-6989586621682666701"><span class="hs-identifier">n</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666701"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1402"></a><span>    </span><span class="hs-identifier">ppr_names</span><span> </span><a name="local-6989586621682666702"><a href="#local-6989586621682666702"><span class="hs-identifier">ns</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666702"><span class="hs-identifier hs-var">ns</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1403"></a><span>
</span><a name="line-1404"></a><span class="hs-comment">{-
Note [Printing KindedTyVars]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Trac #3830 reminded me that we should really only print the kind
signature on a KindedTyVar if the kind signature was put there by the
programmer.  During kind inference GHC now adds a PostTcKind to UserTyVars,
rather than converting to KindedTyVars as before.

(As it happens, the message in #3830 comes out a different way now,
and the problem doesn't show up; but having the flag on a KindedTyVar
seems like the Right Thing anyway.)
-}</span><span>
</span><a name="line-1416"></a><span>
</span><a name="line-1417"></a><span class="hs-comment">-- Printing works more-or-less as for Types</span><span>
</span><a name="line-1418"></a><span>
</span><a name="line-1419"></a><span class="hs-identifier">pprHsType</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666502"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666502"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1420"></a><a name="pprHsType"><a href="HsTypes.html#pprHsType"><span class="hs-identifier">pprHsType</span></a></a><span> </span><a name="local-6989586621682666703"><a href="#local-6989586621682666703"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><a href="#local-6989586621682666703"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1421"></a><span>
</span><a name="line-1422"></a><span class="hs-identifier">ppr_mono_lty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666501"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666501"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1423"></a><a name="ppr_mono_lty"><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier">ppr_mono_lty</span></a></a><span> </span><a name="local-6989586621682666704"><a href="#local-6989586621682666704"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621682666704"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1424"></a><span>
</span><a name="line-1425"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666500"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666500"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1426"></a><a name="ppr_mono_ty"><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier">ppr_mono_ty</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666705"><a href="#local-6989586621682666705"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666706"><a href="#local-6989586621682666706"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1427"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier hs-var">pprHsForAll</span></a><span> </span><a href="#local-6989586621682666705"><span class="hs-identifier hs-var">tvs</span></a><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666706"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1428"></a><span>
</span><a name="line-1429"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666707"><a href="#local-6989586621682666707"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666708"><a href="#local-6989586621682666708"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1430"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprLHsContextAlways"><span class="hs-identifier hs-var">pprLHsContextAlways</span></a><span> </span><a href="#local-6989586621682666707"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666708"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1431"></a><span>
</span><a name="line-1432"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666709"><a href="#local-6989586621682666709"><span class="hs-identifier">b</span></a></a><span> </span><a name="local-6989586621682666710"><a href="#local-6989586621682666710"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666709"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666710"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1433"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsRecTy"><span class="hs-identifier hs-var">HsRecTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666711"><a href="#local-6989586621682666711"><span class="hs-identifier">flds</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span> </span><a href="#local-6989586621682666711"><span class="hs-identifier hs-var">flds</span></a><span>
</span><a name="line-1434"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666712"><a href="#local-6989586621682666712"><span class="hs-identifier">prom</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666713"><a href="#local-6989586621682666713"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1435"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="BasicTypes.html#isPromoted"><span class="hs-identifier hs-var">isPromoted</span></a><span> </span><a href="#local-6989586621682666712"><span class="hs-identifier hs-var">prom</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621682666713"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">)</span><span>
</span><a name="line-1436"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621682666713"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-1437"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666714"><a href="#local-6989586621682666714"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621682666715"><a href="#local-6989586621682666715"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_fun_ty"><span class="hs-identifier hs-var">ppr_fun_ty</span></a><span> </span><a href="#local-6989586621682666714"><span class="hs-identifier hs-var">ty1</span></a><span> </span><a href="#local-6989586621682666715"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1438"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666716"><a href="#local-6989586621682666716"><span class="hs-identifier">con</span></a></a><span> </span><a name="local-6989586621682666717"><a href="#local-6989586621682666717"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span> </span><a href="#local-6989586621682666718"><span class="hs-identifier hs-var">std_con</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666717"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1439"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621682666718"><a href="#local-6989586621682666718"><span class="hs-identifier">std_con</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682666716"><span class="hs-identifier hs-var">con</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1440"></a><span>                    </span><a href="HsTypes.html#HsUnboxedTuple"><span class="hs-identifier hs-var">HsUnboxedTuple</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span>
</span><a name="line-1441"></a><span>                    </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a><span>
</span><a name="line-1442"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSumTy"><span class="hs-identifier hs-var">HsSumTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666719"><a href="#local-6989586621682666719"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1443"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprWithBars"><span class="hs-identifier hs-var">pprWithBars</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666719"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1444"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666720"><a href="#local-6989586621682666720"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621682666721"><a href="#local-6989586621682666721"><span class="hs-identifier">kind</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1445"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666720"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666721"><span class="hs-identifier hs-var">kind</span></a><span>
</span><a name="line-1446"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsListTy"><span class="hs-identifier hs-var">HsListTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666722"><a href="#local-6989586621682666722"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666722"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1447"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier hs-var">HsIParamTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666723"><a href="#local-6989586621682666723"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621682666724"><a href="#local-6989586621682666724"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666723"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666724"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1448"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier hs-var">HsSpliceTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666725"><a href="#local-6989586621682666725"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><a href="#local-6989586621682666725"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-1449"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666726"><a href="#local-6989586621682666726"><span class="hs-identifier">prom</span></a></a><span> </span><a name="local-6989586621682666727"><a href="#local-6989586621682666727"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1450"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="BasicTypes.html#isPromoted"><span class="hs-identifier hs-var">isPromoted</span></a><span> </span><a href="#local-6989586621682666726"><span class="hs-identifier hs-var">prom</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#maybeAddSpace"><span class="hs-identifier hs-var">maybeAddSpace</span></a><span> </span><a href="#local-6989586621682666727"><span class="hs-identifier hs-var">tys</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621682666727"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1451"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621682666727"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1452"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier hs-var">HsExplicitTupleTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666728"><a href="#local-6989586621682666728"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1453"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#maybeAddSpace"><span class="hs-identifier hs-var">maybeAddSpace</span></a><span> </span><a href="#local-6989586621682666728"><span class="hs-identifier hs-var">tys</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621682666728"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1454"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-var">HsTyLit</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666729"><a href="#local-6989586621682666729"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier hs-var">ppr_tylit</span></a><span> </span><a href="#local-6989586621682666729"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1455"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span>
</span><a name="line-1456"></a><span>
</span><a name="line-1457"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsStarTy"><span class="hs-identifier hs-var">HsStarTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666730"><a href="#local-6989586621682666730"><span class="hs-identifier">isUni</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621682666730"><span class="hs-identifier hs-var">isUni</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-char">'&#9733;'</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-char">'*'</span><span class="hs-special">)</span><span>
</span><a name="line-1458"></a><span>
</span><a name="line-1459"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666731"><a href="#local-6989586621682666731"><span class="hs-identifier">fun_ty</span></a></a><span> </span><a name="local-6989586621682666732"><a href="#local-6989586621682666732"><span class="hs-identifier">arg_ty</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1460"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666731"><span class="hs-identifier hs-var">fun_ty</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666732"><span class="hs-identifier hs-var">arg_ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1461"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666733"><a href="#local-6989586621682666733"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621682666734"><a href="#local-6989586621682666734"><span class="hs-identifier">k</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1462"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666733"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'@'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666734"><span class="hs-identifier hs-var">k</span></a><span>
</span><a name="line-1463"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666735"><a href="#local-6989586621682666735"><span class="hs-identifier">ty1</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666736"><a href="#local-6989586621682666736"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621682666737"><a href="#local-6989586621682666737"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1464"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666735"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1465"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-6989586621682666736"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666737"><span class="hs-identifier hs-var">ty2</span></a><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1466"></a><span>
</span><a name="line-1467"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666738"><a href="#local-6989586621682666738"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1468"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666738"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1469"></a><span>  </span><span class="hs-comment">-- Put the parens in where the user did</span><span>
</span><a name="line-1470"></a><span>  </span><span class="hs-comment">-- But we still use the precedence stuff to add parens because</span><span>
</span><a name="line-1471"></a><span>  </span><span class="hs-comment">--    toHsType doesn't put in any HsParTys, so we may still need them</span><span>
</span><a name="line-1472"></a><span>
</span><a name="line-1473"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsDocTy"><span class="hs-identifier hs-var">HsDocTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666739"><a href="#local-6989586621682666739"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621682666740"><a href="#local-6989586621682666740"><span class="hs-identifier">doc</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1474"></a><span>  </span><span class="hs-comment">-- AZ: Should we add parens?  Should we introduce &quot;-- ^&quot;?</span><span>
</span><a name="line-1475"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666739"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621682666740"><span class="hs-identifier hs-var">doc</span></a><span class="hs-special">)</span><span>
</span><a name="line-1476"></a><span>  </span><span class="hs-comment">-- we pretty print Haddock comments on types as if they were</span><span>
</span><a name="line-1477"></a><span>  </span><span class="hs-comment">-- postfix operators</span><span>
</span><a name="line-1478"></a><span>
</span><a name="line-1479"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a><span> </span><a name="local-6989586621682666741"><a href="#local-6989586621682666741"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682666741"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1480"></a><span>
</span><a name="line-1481"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1482"></a><span class="hs-identifier">ppr_fun_ty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666499"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1483"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666499"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666499"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1484"></a><a name="ppr_fun_ty"><a href="HsTypes.html#ppr_fun_ty"><span class="hs-identifier">ppr_fun_ty</span></a></a><span> </span><a name="local-6989586621682666742"><a href="#local-6989586621682666742"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621682666743"><a href="#local-6989586621682666743"><span class="hs-identifier">ty2</span></a></a><span>
</span><a name="line-1485"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621682666744"><a href="#local-6989586621682666744"><span class="hs-identifier">p1</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666742"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1486"></a><span>        </span><a name="local-6989586621682666745"><a href="#local-6989586621682666745"><span class="hs-identifier">p2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621682666743"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1487"></a><span>    </span><span class="hs-keyword">in</span><span>
</span><a name="line-1488"></a><span>    </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621682666744"><span class="hs-identifier hs-var">p1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#arrow"><span class="hs-identifier hs-var">arrow</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621682666745"><span class="hs-identifier hs-var">p2</span></a><span class="hs-special">]</span><span>
</span><a name="line-1489"></a><span>
</span><a name="line-1490"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1491"></a><span class="hs-identifier">ppr_tylit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1492"></a><a name="ppr_tylit"><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier">ppr_tylit</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsNumTy"><span class="hs-identifier hs-var">HsNumTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666746"><a href="#local-6989586621682666746"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#integer"><span class="hs-identifier hs-var">integer</span></a><span> </span><a href="#local-6989586621682666746"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1493"></a><span class="hs-identifier">ppr_tylit</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsStrTy"><span class="hs-identifier hs-var">HsStrTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666747"><a href="#local-6989586621682666747"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621682666747"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-1494"></a><span>
</span><a name="line-1495"></a><span>
</span><a name="line-1496"></a><span class="hs-comment">-- | @'hsTypeNeedsParens' p t@ returns 'True' if the type @t@ needs parentheses</span><span>
</span><a name="line-1497"></a><span class="hs-comment">-- under precedence @p@.</span><span>
</span><a name="line-1498"></a><span class="hs-identifier">hsTypeNeedsParens</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#PprPrec"><span class="hs-identifier hs-type">PprPrec</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621682666498"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1499"></a><a name="hsTypeNeedsParens"><a href="HsTypes.html#hsTypeNeedsParens"><span class="hs-identifier">hsTypeNeedsParens</span></a></a><span> </span><a name="local-6989586621682666748"><a href="#local-6989586621682666748"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666749"><span class="hs-identifier hs-var">go</span></a><span>
</span><a name="line-1500"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1501"></a><span>    </span><a name="local-6989586621682666749"><a href="#local-6989586621682666749"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a><span>
</span><a name="line-1502"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a><span>
</span><a name="line-1503"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><a href="BasicTypes.html#topPrec"><span class="hs-identifier hs-var">topPrec</span></a><span>
</span><a name="line-1504"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsRecTy"><span class="hs-identifier hs-var">HsRecTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1505"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1506"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#funPrec"><span class="hs-identifier hs-var">funPrec</span></a><span>
</span><a name="line-1507"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1508"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSumTy"><span class="hs-identifier hs-var">HsSumTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1509"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#sigPrec"><span class="hs-identifier hs-var">sigPrec</span></a><span>
</span><a name="line-1510"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsListTy"><span class="hs-identifier hs-var">HsListTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1511"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier hs-var">HsIParamTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><a href="BasicTypes.html#topPrec"><span class="hs-identifier hs-var">topPrec</span></a><span>
</span><a name="line-1512"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier hs-var">HsSpliceTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1513"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1514"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier hs-var">HsExplicitTupleTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1515"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-var">HsTyLit</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1516"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1517"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsStarTy"><span class="hs-identifier hs-var">HsStarTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1518"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a><span>
</span><a name="line-1519"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a><span>
</span><a name="line-1520"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666748"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="BasicTypes.html#opPrec"><span class="hs-identifier hs-var">opPrec</span></a><span>
</span><a name="line-1521"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1522"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsDocTy"><span class="hs-identifier hs-var">HsDocTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666750"><a href="#local-6989586621682666750"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666749"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666750"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1523"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1524"></a><span>
</span><a name="line-1525"></a><span class="hs-identifier">maybeAddSpace</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666497"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1526"></a><span class="hs-comment">-- See Note [Printing promoted type constructors]</span><span>
</span><a name="line-1527"></a><span class="hs-comment">-- in IfaceType.  This code implements the same</span><span>
</span><a name="line-1528"></a><span class="hs-comment">-- logic for printing HsType</span><span>
</span><a name="line-1529"></a><a name="maybeAddSpace"><a href="HsTypes.html#maybeAddSpace"><span class="hs-identifier">maybeAddSpace</span></a></a><span> </span><a name="local-6989586621682666751"><a href="#local-6989586621682666751"><span class="hs-identifier">tys</span></a></a><span> </span><a name="local-6989586621682666752"><a href="#local-6989586621682666752"><span class="hs-identifier">doc</span></a></a><span>
</span><a name="line-1530"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666753"><a href="#local-6989586621682666753"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666751"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-1531"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#lhsTypeHasLeadingPromotionQuote"><span class="hs-identifier hs-var">lhsTypeHasLeadingPromotionQuote</span></a><span> </span><a href="#local-6989586621682666753"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621682666752"><span class="hs-identifier hs-var">doc</span></a><span>
</span><a name="line-1532"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666752"><span class="hs-identifier hs-var">doc</span></a><span>
</span><a name="line-1533"></a><span>
</span><a name="line-1534"></a><span class="hs-identifier">lhsTypeHasLeadingPromotionQuote</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621682666496"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1535"></a><a name="lhsTypeHasLeadingPromotionQuote"><a href="HsTypes.html#lhsTypeHasLeadingPromotionQuote"><span class="hs-identifier">lhsTypeHasLeadingPromotionQuote</span></a></a><span> </span><a name="local-6989586621682666754"><a href="#local-6989586621682666754"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-1536"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666754"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1537"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1538"></a><span>    </span><a name="local-6989586621682666755"><a href="#local-6989586621682666755"><span class="hs-identifier">goL</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666757"><a href="#local-6989586621682666757"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666756"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621682666757"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1539"></a><span>
</span><a name="line-1540"></a><span>    </span><a name="local-6989586621682666756"><a href="#local-6989586621682666756"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1541"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666758"><a href="#local-6989586621682666758"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621682666759"><a href="#local-6989586621682666759"><span class="hs-identifier">body</span></a></a><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1542"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a name="local-6989586621682666760"><a href="#local-6989586621682666760"><span class="hs-identifier">c</span></a></a><span class="hs-glyph">:</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621682666758"><span class="hs-identifier hs-var">ctxt</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666760"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-1543"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666759"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-1544"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1545"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsRecTy"><span class="hs-identifier hs-var">HsRecTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1546"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666761"><a href="#local-6989586621682666761"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#isPromoted"><span class="hs-identifier hs-var">isPromoted</span></a><span> </span><a href="#local-6989586621682666761"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-1547"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666762"><a href="#local-6989586621682666762"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666762"><span class="hs-identifier hs-var">arg</span></a><span>
</span><a name="line-1548"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsListTy"><span class="hs-identifier hs-var">HsListTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1549"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1550"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSumTy"><span class="hs-identifier hs-var">HsSumTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1551"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666763"><a href="#local-6989586621682666763"><span class="hs-identifier">t1</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666763"><span class="hs-identifier hs-var">t1</span></a><span>
</span><a name="line-1552"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666764"><a href="#local-6989586621682666764"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666764"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1553"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier hs-var">HsIParamTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1554"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier hs-var">HsSpliceTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1555"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666765"><a href="#local-6989586621682666765"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#isPromoted"><span class="hs-identifier hs-var">isPromoted</span></a><span> </span><a href="#local-6989586621682666765"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-1556"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier hs-var">HsExplicitTupleTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1557"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-var">HsTyLit</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1558"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1559"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsStarTy"><span class="hs-identifier hs-var">HsStarTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1560"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666766"><a href="#local-6989586621682666766"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666766"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1561"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppKindTy"><span class="hs-identifier hs-var">HsAppKindTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666767"><a href="#local-6989586621682666767"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666767"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1562"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1563"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsDocTy"><span class="hs-identifier hs-var">HsDocTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621682666768"><a href="#local-6989586621682666768"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666755"><span class="hs-identifier hs-var">goL</span></a><span> </span><a href="#local-6989586621682666768"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1564"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsType"><span class="hs-identifier hs-var">XHsType</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1565"></a><span>
</span><a name="line-1566"></a><span class="hs-comment">-- | @'parenthesizeHsType' p ty@ checks if @'hsTypeNeedsParens' p ty@ is</span><span>
</span><a name="line-1567"></a><span class="hs-comment">-- true, and if so, surrounds @ty@ with an 'HsParTy'. Otherwise, it simply</span><span>
</span><a name="line-1568"></a><span class="hs-comment">-- returns @ty@.</span><span>
</span><a name="line-1569"></a><span class="hs-identifier">parenthesizeHsType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#PprPrec"><span class="hs-identifier hs-type">PprPrec</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666495"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666495"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1570"></a><a name="parenthesizeHsType"><a href="HsTypes.html#parenthesizeHsType"><span class="hs-identifier">parenthesizeHsType</span></a></a><span> </span><a name="local-6989586621682666769"><a href="#local-6989586621682666769"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621682666770"><a href="#local-6989586621682666770"><span class="hs-identifier">lty</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621682666771"><a href="#local-6989586621682666771"><span class="hs-identifier">loc</span></a></a><span> </span><a name="local-6989586621682666772"><a href="#local-6989586621682666772"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1571"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#hsTypeNeedsParens"><span class="hs-identifier hs-var">hsTypeNeedsParens</span></a><span> </span><a href="#local-6989586621682666769"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621682666772"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621682666771"><span class="hs-identifier hs-var">loc</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-var">NoExt</span></a><span> </span><a href="#local-6989586621682666770"><span class="hs-identifier hs-var">lty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1572"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>              </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682666770"><span class="hs-identifier hs-var">lty</span></a><span>
</span><a name="line-1573"></a><span>
</span><a name="line-1574"></a><span class="hs-comment">-- | @'parenthesizeHsContext' p ctxt@ checks if @ctxt@ is a single constraint</span><span>
</span><a name="line-1575"></a><span class="hs-comment">-- @c@ such that @'hsTypeNeedsParens' p c@ is true, and if so, surrounds @c@</span><span>
</span><a name="line-1576"></a><span class="hs-comment">-- with an 'HsParTy' to form a parenthesized @ctxt@. Otherwise, it simply</span><span>
</span><a name="line-1577"></a><span class="hs-comment">-- returns @ctxt@ unchanged.</span><span>
</span><a name="line-1578"></a><span class="hs-identifier">parenthesizeHsContext</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#PprPrec"><span class="hs-identifier hs-type">PprPrec</span></a><span>
</span><a name="line-1579"></a><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666494"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621682666494"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1580"></a><a name="parenthesizeHsContext"><a href="HsTypes.html#parenthesizeHsContext"><span class="hs-identifier">parenthesizeHsContext</span></a></a><span> </span><a name="local-6989586621682666773"><a href="#local-6989586621682666773"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621682666774"><a href="#local-6989586621682666774"><span class="hs-identifier">lctxt</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621682666775"><a href="#local-6989586621682666775"><span class="hs-identifier">loc</span></a></a><span> </span><a name="local-6989586621682666776"><a href="#local-6989586621682666776"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1581"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682666776"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1582"></a><span>    </span><span class="hs-special">[</span><a name="local-6989586621682666777"><a href="#local-6989586621682666777"><span class="hs-identifier">c</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621682666775"><span class="hs-identifier hs-var">loc</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a><span> </span><a href="#local-6989586621682666773"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621682666777"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">]</span><span>
</span><a name="line-1583"></a><span>    </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621682666774"><span class="hs-identifier hs-var">lctxt</span></a><span> </span><span class="hs-comment">-- Other contexts are already &quot;parenthesized&quot; by virtue of</span><span>
</span><a name="line-1584"></a><span>                 </span><span class="hs-comment">-- being tuples.</span><span>
</span><a name="line-1585"></a></pre></body></html>