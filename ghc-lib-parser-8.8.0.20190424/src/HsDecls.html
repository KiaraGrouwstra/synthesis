<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998
-}</span><span>
</span><a name="line-5"></a><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable, DeriveFunctor, DeriveFoldable,
             DeriveTraversable #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span> </span><span class="hs-comment">-- Note [Pass sensitive types]</span><span>
</span><a name="line-11"></a><span>                                      </span><span class="hs-comment">-- in module PlaceHolder</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><a name="line-13"></a><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><a name="line-14"></a><span>
</span><a name="line-15"></a><span class="hs-comment">-- | Abstract syntax of global declarations.</span><span>
</span><a name="line-16"></a><span class="hs-comment">--</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- Definitions for: @SynDecl@ and @ConDecl@, @ClassDecl@,</span><span>
</span><a name="line-18"></a><span class="hs-comment">-- @InstDecl@, @DefaultDecl@ and @ForeignDecl@.</span><span>
</span><a name="line-19"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">HsDecls</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-20"></a><span>  </span><span class="hs-comment">-- * Toplevel declarations</span><span>
</span><a name="line-21"></a><span>  </span><a href="HsDecls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>  </span><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier hs-type">HsDerivingClause</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LHsDerivingClause"><span class="hs-identifier hs-type">LHsDerivingClause</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#newOrDataToFlavour"><span class="hs-identifier hs-var">newOrDataToFlavour</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>
</span><a name="line-24"></a><span>  </span><span class="hs-comment">-- ** Class or type declarations</span><span>
</span><a name="line-25"></a><span>  </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier hs-type">DataDeclRn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>  </span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#mkTyClGroup"><span class="hs-identifier hs-var">mkTyClGroup</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#emptyTyClGroup"><span class="hs-identifier hs-var">emptyTyClGroup</span></a><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>  </span><a href="HsDecls.html#tyClGroupTyClDecls"><span class="hs-identifier hs-var">tyClGroupTyClDecls</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#tyClGroupInstDecls"><span class="hs-identifier hs-var">tyClGroupInstDecls</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#tyClGroupRoleDecls"><span class="hs-identifier hs-var">tyClGroupRoleDecls</span></a><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>  </span><a href="HsDecls.html#isClassDecl"><span class="hs-identifier hs-var">isClassDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#isDataDecl"><span class="hs-identifier hs-var">isDataDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#isSynDecl"><span class="hs-identifier hs-var">isSynDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#tcdName"><span class="hs-identifier hs-var">tcdName</span></a><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>  </span><a href="HsDecls.html#isFamilyDecl"><span class="hs-identifier hs-var">isFamilyDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#isTypeFamilyDecl"><span class="hs-identifier hs-var">isTypeFamilyDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#isDataFamilyDecl"><span class="hs-identifier hs-var">isDataFamilyDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-30"></a><span>  </span><a href="HsDecls.html#isOpenTypeFamilyInfo"><span class="hs-identifier hs-var">isOpenTypeFamilyInfo</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#isClosedTypeFamilyInfo"><span class="hs-identifier hs-var">isClosedTypeFamilyInfo</span></a><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>  </span><a href="HsDecls.html#tyFamInstDeclName"><span class="hs-identifier hs-var">tyFamInstDeclName</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#tyFamInstDeclLName"><span class="hs-identifier hs-var">tyFamInstDeclLName</span></a><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>  </span><a href="HsDecls.html#countTyClDecls"><span class="hs-identifier hs-var">countTyClDecls</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#pprTyClDeclFlavour"><span class="hs-identifier hs-var">pprTyClDeclFlavour</span></a><span class="hs-special">,</span><span>
</span><a name="line-33"></a><span>  </span><a href="HsDecls.html#tyClDeclLName"><span class="hs-identifier hs-var">tyClDeclLName</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#tyClDeclTyVars"><span class="hs-identifier hs-var">tyClDeclTyVars</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>  </span><a href="HsDecls.html#hsDeclHasCusk"><span class="hs-identifier hs-var">hsDeclHasCusk</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#famDeclHasCusk"><span class="hs-identifier hs-var">famDeclHasCusk</span></a><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>  </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span>  </span><span class="hs-comment">-- ** Instance declarations</span><span>
</span><a name="line-38"></a><span>  </span><a href="HsDecls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>  </span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#instDeclDataFamInsts"><span class="hs-identifier hs-var">instDeclDataFamInsts</span></a><span class="hs-special">,</span><span>
</span><a name="line-40"></a><span>  </span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-41"></a><span>  </span><a href="HsDecls.html#pprDataFamInstFlavour"><span class="hs-identifier hs-var">pprDataFamInstFlavour</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#pprHsFamInstLHS"><span class="hs-identifier hs-var">pprHsFamInstLHS</span></a><span class="hs-special">,</span><span>
</span><a name="line-42"></a><span>  </span><a href="HsDecls.html#FamInstEqn"><span class="hs-identifier hs-type">FamInstEqn</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LFamInstEqn"><span class="hs-identifier hs-type">LFamInstEqn</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-43"></a><span>  </span><a href="HsDecls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LTyFamInstEqn"><span class="hs-identifier hs-type">LTyFamInstEqn</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#TyFamDefltEqn"><span class="hs-identifier hs-type">TyFamDefltEqn</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LTyFamDefltEqn"><span class="hs-identifier hs-type">LTyFamDefltEqn</span></a><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span>  </span><a href="HsDecls.html#HsTyPats"><span class="hs-identifier hs-type">HsTyPats</span></a><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>  </span><a href="HsDecls.html#LClsInstDecl"><span class="hs-identifier hs-type">LClsInstDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span>  </span><span class="hs-comment">-- ** Standalone deriving declarations</span><span>
</span><a name="line-48"></a><span>  </span><a href="HsDecls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LDerivDecl"><span class="hs-identifier hs-type">LDerivDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>  </span><span class="hs-comment">-- ** Deriving strategies</span><span>
</span><a name="line-50"></a><span>  </span><a href="HsDecls.html#DerivStrategy"><span class="hs-identifier hs-type">DerivStrategy</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LDerivStrategy"><span class="hs-identifier hs-type">LDerivStrategy</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#derivStrategyName"><span class="hs-identifier hs-var">derivStrategyName</span></a><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>  </span><span class="hs-comment">-- ** @RULE@ declarations</span><span>
</span><a name="line-52"></a><span>  </span><a href="HsDecls.html#LRuleDecls"><span class="hs-identifier hs-type">LRuleDecls</span></a><span class="hs-special">,</span><a href="HsDecls.html#RuleDecls"><span class="hs-identifier hs-type">RuleDecls</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><a href="HsDecls.html#RuleDecl"><span class="hs-identifier hs-type">RuleDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><a href="HsDecls.html#LRuleDecl"><span class="hs-identifier hs-type">LRuleDecl</span></a><span class="hs-special">,</span><a href="HsDecls.html#HsRuleRn"><span class="hs-identifier hs-type">HsRuleRn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-53"></a><span>  </span><a href="HsDecls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><a href="HsDecls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a><span class="hs-special">,</span><span>
</span><a name="line-54"></a><span>  </span><a href="HsDecls.html#collectRuleBndrSigTys"><span class="hs-identifier hs-var">collectRuleBndrSigTys</span></a><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span>  </span><a href="HsDecls.html#flattenRuleDecls"><span class="hs-identifier hs-var">flattenRuleDecls</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#pprFullRuleName"><span class="hs-identifier hs-var">pprFullRuleName</span></a><span class="hs-special">,</span><span>
</span><a name="line-56"></a><span>  </span><span class="hs-comment">-- ** @default@ declarations</span><span>
</span><a name="line-57"></a><span>  </span><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LDefaultDecl"><span class="hs-identifier hs-type">LDefaultDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-58"></a><span>  </span><span class="hs-comment">-- ** Template haskell declaration splice</span><span>
</span><a name="line-59"></a><span>  </span><a href="BasicTypes.html#SpliceExplicitFlag"><span class="hs-identifier hs-type">SpliceExplicitFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-60"></a><span>  </span><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier hs-type">SpliceDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LSpliceDecl"><span class="hs-identifier hs-type">LSpliceDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-61"></a><span>  </span><span class="hs-comment">-- ** Foreign function interface declarations</span><span>
</span><a name="line-62"></a><span>  </span><a href="HsDecls.html#ForeignDecl"><span class="hs-identifier hs-type">ForeignDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LForeignDecl"><span class="hs-identifier hs-type">LForeignDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-63"></a><span>  </span><a href="HsDecls.html#CImportSpec"><span class="hs-identifier hs-type">CImportSpec</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-64"></a><span>  </span><span class="hs-comment">-- ** Data-constructor declarations</span><span>
</span><a name="line-65"></a><span>  </span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-66"></a><span>  </span><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#hsConDeclArgTys"><span class="hs-identifier hs-var">hsConDeclArgTys</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#hsConDeclTheta"><span class="hs-identifier hs-var">hsConDeclTheta</span></a><span class="hs-special">,</span><span>
</span><a name="line-67"></a><span>  </span><a href="HsDecls.html#getConNames"><span class="hs-identifier hs-var">getConNames</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#getConArgs"><span class="hs-identifier hs-var">getConArgs</span></a><span class="hs-special">,</span><span>
</span><a name="line-68"></a><span>  </span><span class="hs-comment">-- ** Document comments</span><span>
</span><a name="line-69"></a><span>  </span><a href="HsDecls.html#DocDecl"><span class="hs-identifier hs-type">DocDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#docDeclDoc"><span class="hs-identifier hs-var">docDeclDoc</span></a><span class="hs-special">,</span><span>
</span><a name="line-70"></a><span>  </span><span class="hs-comment">-- ** Deprecations</span><span>
</span><a name="line-71"></a><span>  </span><a href="HsDecls.html#WarnDecl"><span class="hs-identifier hs-type">WarnDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><a href="HsDecls.html#LWarnDecl"><span class="hs-identifier hs-type">LWarnDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-72"></a><span>  </span><a href="HsDecls.html#WarnDecls"><span class="hs-identifier hs-type">WarnDecls</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LWarnDecls"><span class="hs-identifier hs-type">LWarnDecls</span></a><span class="hs-special">,</span><span>
</span><a name="line-73"></a><span>  </span><span class="hs-comment">-- ** Annotations</span><span>
</span><a name="line-74"></a><span>  </span><a href="HsDecls.html#AnnDecl"><span class="hs-identifier hs-type">AnnDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LAnnDecl"><span class="hs-identifier hs-type">LAnnDecl</span></a><span class="hs-special">,</span><span>
</span><a name="line-75"></a><span>  </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#annProvenanceName_maybe"><span class="hs-identifier hs-var">annProvenanceName_maybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-76"></a><span>  </span><span class="hs-comment">-- ** Role annotations</span><span>
</span><a name="line-77"></a><span>  </span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#roleAnnotDeclName"><span class="hs-identifier hs-var">roleAnnotDeclName</span></a><span class="hs-special">,</span><span>
</span><a name="line-78"></a><span>  </span><span class="hs-comment">-- ** Injective type families</span><span>
</span><a name="line-79"></a><span>  </span><a href="HsDecls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LFamilyResultSig"><span class="hs-identifier hs-type">LFamilyResultSig</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#InjectivityAnn"><span class="hs-identifier hs-type">InjectivityAnn</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a><span class="hs-special">,</span><span>
</span><a name="line-80"></a><span>  </span><a href="HsDecls.html#resultVariableName"><span class="hs-identifier hs-var">resultVariableName</span></a><span class="hs-special">,</span><span>
</span><a name="line-81"></a><span>
</span><a name="line-82"></a><span>  </span><span class="hs-comment">-- * Grouping</span><span>
</span><a name="line-83"></a><span>  </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><a href="HsDecls.html#emptyRdrGroup"><span class="hs-identifier hs-var">emptyRdrGroup</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#emptyRnGroup"><span class="hs-identifier hs-var">emptyRnGroup</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#appendGroups"><span class="hs-identifier hs-var">appendGroups</span></a><span class="hs-special">,</span><span> </span><a href="HsDecls.html#hsGroupInstDecls"><span class="hs-identifier hs-var">hsGroupInstDecls</span></a><span>
</span><a name="line-84"></a><span>
</span><a name="line-85"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-86"></a><span>
</span><a name="line-87"></a><span class="hs-comment">-- friends:</span><span>
</span><a name="line-88"></a><span class="hs-keyword">import</span><span> </span><a href="GhcPrelude.html"><span class="hs-identifier">GhcPrelude</span></a><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span>   </span><a href="HsExpr.html"><span class="hs-identifier">HsExpr</span></a><span class="hs-special">(</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span class="hs-special">,</span><span>
</span><a name="line-91"></a><span>                                </span><a href="HsExpr.html#pprSpliceDecl"><span class="hs-identifier hs-var">pprSpliceDecl</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-92"></a><span>        </span><span class="hs-comment">-- Because Expr imports Decls via HsBracket</span><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-keyword">import</span><span> </span><a href="HsBinds.html"><span class="hs-identifier">HsBinds</span></a><span>
</span><a name="line-95"></a><span class="hs-keyword">import</span><span> </span><a href="HsTypes.html"><span class="hs-identifier">HsTypes</span></a><span>
</span><a name="line-96"></a><span class="hs-keyword">import</span><span> </span><a href="HsDoc.html"><span class="hs-identifier">HsDoc</span></a><span>
</span><a name="line-97"></a><span class="hs-keyword">import</span><span> </span><a href="TyCon.html"><span class="hs-identifier">TyCon</span></a><span>
</span><a name="line-98"></a><span class="hs-keyword">import</span><span> </span><a href="BasicTypes.html"><span class="hs-identifier">BasicTypes</span></a><span>
</span><a name="line-99"></a><span class="hs-keyword">import</span><span> </span><a href="Coercion.html"><span class="hs-identifier">Coercion</span></a><span>
</span><a name="line-100"></a><span class="hs-keyword">import</span><span> </span><a href="ForeignCall.html"><span class="hs-identifier">ForeignCall</span></a><span>
</span><a name="line-101"></a><span class="hs-keyword">import</span><span> </span><a href="HsExtension.html"><span class="hs-identifier">HsExtension</span></a><span>
</span><a name="line-102"></a><span class="hs-keyword">import</span><span> </span><a href="NameSet.html"><span class="hs-identifier">NameSet</span></a><span>
</span><a name="line-103"></a><span>
</span><a name="line-104"></a><span class="hs-comment">-- others:</span><span>
</span><a name="line-105"></a><span class="hs-keyword">import</span><span> </span><a href="Class.html"><span class="hs-identifier">Class</span></a><span>
</span><a name="line-106"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-107"></a><span class="hs-keyword">import</span><span> </span><a href="Util.html"><span class="hs-identifier">Util</span></a><span>
</span><a name="line-108"></a><span class="hs-keyword">import</span><span> </span><a href="SrcLoc.html"><span class="hs-identifier">SrcLoc</span></a><span>
</span><a name="line-109"></a><span class="hs-keyword">import</span><span> </span><a href="Type.html"><span class="hs-identifier">Type</span></a><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-keyword">import</span><span> </span><a href="Bag.html"><span class="hs-identifier">Bag</span></a><span>
</span><a name="line-112"></a><span class="hs-keyword">import</span><span> </span><a href="Maybes.html"><span class="hs-identifier">Maybes</span></a><span>
</span><a name="line-113"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Data</span><span>        </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">TyCon</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Fixity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Infix</span><span class="hs-special">)</span><span>
</span><a name="line-114"></a><span>
</span><a name="line-115"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[HsDecl]{Declarations}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-keyword">type</span><span> </span><a name="LHsDecl"><a href="HsDecls.html#LHsDecl"><span class="hs-identifier">LHsDecl</span></a></a><span> </span><a name="local-6989586621683094334"><a href="#local-6989586621683094334"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a><span> </span><a href="#local-6989586621683094334"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-124"></a><span>        </span><span class="hs-comment">-- ^ When in a list this may have</span><span>
</span><a name="line-125"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-126"></a><span>        </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnSemi'</span><span>
</span><a name="line-127"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-128"></a><span>
</span><a name="line-129"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-comment">-- | A Haskell Declaration</span><span>
</span><a name="line-132"></a><span class="hs-keyword">data</span><span> </span><a name="HsDecl"><a href="HsDecls.html#HsDecl"><span class="hs-identifier">HsDecl</span></a></a><span> </span><a name="local-6989586621683094333"><a href="#local-6989586621683094333"><span class="hs-identifier">p</span></a></a><span>
</span><a name="line-133"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="TyClD"><a href="HsDecls.html#TyClD"><span class="hs-identifier">TyClD</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XTyClD"><span class="hs-identifier hs-type">XTyClD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>      </span><span class="hs-special">(</span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- ^ Type or Class Declaration</span><span>
</span><a name="line-134"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="InstD"><a href="HsDecls.html#InstD"><span class="hs-identifier">InstD</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XInstD"><span class="hs-identifier hs-type">XInstD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>      </span><span class="hs-special">(</span><a href="HsDecls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a><span>  </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Instance declaration</span><span>
</span><a name="line-135"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DerivD"><a href="HsDecls.html#DerivD"><span class="hs-identifier">DerivD</span></a></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#XDerivD"><span class="hs-identifier hs-type">XDerivD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>     </span><span class="hs-special">(</span><a href="HsDecls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Deriving declaration</span><span>
</span><a name="line-136"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ValD"><a href="HsDecls.html#ValD"><span class="hs-identifier">ValD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XValD"><span class="hs-identifier hs-type">XValD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsBinds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- ^ Value declaration</span><span>
</span><a name="line-137"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="SigD"><a href="HsDecls.html#SigD"><span class="hs-identifier">SigD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XSigD"><span class="hs-identifier hs-type">XSigD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsBinds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- ^ Signature declaration</span><span>
</span><a name="line-138"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DefD"><a href="HsDecls.html#DefD"><span class="hs-identifier">DefD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XDefD"><span class="hs-identifier hs-type">XDefD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ 'default' declaration</span><span>
</span><a name="line-139"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ForD"><a href="HsDecls.html#ForD"><span class="hs-identifier">ForD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XForD"><span class="hs-identifier hs-type">XForD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsDecls.html#ForeignDecl"><span class="hs-identifier hs-type">ForeignDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ Foreign declaration</span><span>
</span><a name="line-140"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="WarningD"><a href="HsDecls.html#WarningD"><span class="hs-identifier">WarningD</span></a></a><span>   </span><span class="hs-special">(</span><a href="HsExtension.html#XWarningD"><span class="hs-identifier hs-type">XWarningD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><a href="HsDecls.html#WarnDecls"><span class="hs-identifier hs-type">WarnDecls</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Warning declaration</span><span>
</span><a name="line-141"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="AnnD"><a href="HsDecls.html#AnnD"><span class="hs-identifier">AnnD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XAnnD"><span class="hs-identifier hs-type">XAnnD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsDecls.html#AnnDecl"><span class="hs-identifier hs-type">AnnDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ Annotation declaration</span><span>
</span><a name="line-142"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RuleD"><a href="HsDecls.html#RuleD"><span class="hs-identifier">RuleD</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#XRuleD"><span class="hs-identifier hs-type">XRuleD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>      </span><span class="hs-special">(</span><a href="HsDecls.html#RuleDecls"><span class="hs-identifier hs-type">RuleDecls</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Rule declaration</span><span>
</span><a name="line-143"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="SpliceD"><a href="HsDecls.html#SpliceD"><span class="hs-identifier">SpliceD</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#XSpliceD"><span class="hs-identifier hs-type">XSpliceD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>    </span><span class="hs-special">(</span><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier hs-type">SpliceDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- ^ Splice declaration</span><span>
</span><a name="line-144"></a><span>                                                 </span><span class="hs-comment">-- (Includes quasi-quotes)</span><span>
</span><a name="line-145"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DocD"><a href="HsDecls.html#DocD"><span class="hs-identifier">DocD</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#XDocD"><span class="hs-identifier hs-type">XDocD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>       </span><span class="hs-special">(</span><a href="HsDecls.html#DocDecl"><span class="hs-identifier hs-type">DocDecl</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ Documentation comment declaration</span><span>
</span><a name="line-146"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RoleAnnotD"><a href="HsDecls.html#RoleAnnotD"><span class="hs-identifier">RoleAnnotD</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XRoleAnnotD"><span class="hs-identifier hs-type">XRoleAnnotD</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^Role annotation declaration</span><span>
</span><a name="line-147"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsDecl"><a href="HsDecls.html#XHsDecl"><span class="hs-identifier">XHsDecl</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsDecl"><span class="hs-identifier hs-type">XXHsDecl</span></a><span> </span><a href="#local-6989586621683094333"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-148"></a><span>
</span><a name="line-149"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTyClD"><span class="hs-identifier hs-type">XTyClD</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-150"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XInstD"><span class="hs-identifier hs-type">XInstD</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-151"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDerivD"><span class="hs-identifier hs-type">XDerivD</span></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-152"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XValD"><span class="hs-identifier hs-type">XValD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-153"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSigD"><span class="hs-identifier hs-type">XSigD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-154"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDefD"><span class="hs-identifier hs-type">XDefD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-155"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForD"><span class="hs-identifier hs-type">XForD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-156"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XWarningD"><span class="hs-identifier hs-type">XWarningD</span></a><span>   </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-157"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XAnnD"><span class="hs-identifier hs-type">XAnnD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-158"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XRuleD"><span class="hs-identifier hs-type">XRuleD</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-159"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSpliceD"><span class="hs-identifier hs-type">XSpliceD</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-160"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDocD"><span class="hs-identifier hs-type">XDocD</span></a><span>       </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-161"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XRoleAnnotD"><span class="hs-identifier hs-type">XRoleAnnotD</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-162"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsDecl"><span class="hs-identifier hs-type">XXHsDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-163"></a><span>
</span><a name="line-164"></a><span class="hs-comment">-- NB: all top-level fixity decls are contained EITHER</span><span>
</span><a name="line-165"></a><span class="hs-comment">-- EITHER SigDs</span><span>
</span><a name="line-166"></a><span class="hs-comment">-- OR     in the ClassDecls in TyClDs</span><span>
</span><a name="line-167"></a><span class="hs-comment">--</span><span>
</span><a name="line-168"></a><span class="hs-comment">-- The former covers</span><span>
</span><a name="line-169"></a><span class="hs-comment">--      a) data constructors</span><span>
</span><a name="line-170"></a><span class="hs-comment">--      b) class methods (but they can be also done in the</span><span>
</span><a name="line-171"></a><span class="hs-comment">--              signatures of class decls)</span><span>
</span><a name="line-172"></a><span class="hs-comment">--      c) imported functions (that have an IfacSig)</span><span>
</span><a name="line-173"></a><span class="hs-comment">--      d) top level decls</span><span>
</span><a name="line-174"></a><span class="hs-comment">--</span><span>
</span><a name="line-175"></a><span class="hs-comment">-- The latter is for class methods only</span><span>
</span><a name="line-176"></a><span>
</span><a name="line-177"></a><span class="hs-comment">-- | Haskell Group</span><span>
</span><a name="line-178"></a><span class="hs-comment">--</span><span>
</span><a name="line-179"></a><span class="hs-comment">-- A 'HsDecl' is categorised into a 'HsGroup' before being</span><span>
</span><a name="line-180"></a><span class="hs-comment">-- fed to the renamer.</span><span>
</span><a name="line-181"></a><span class="hs-keyword">data</span><span> </span><a name="HsGroup"><a href="HsDecls.html#HsGroup"><span class="hs-identifier">HsGroup</span></a></a><span> </span><a name="local-6989586621683094332"><a href="#local-6989586621683094332"><span class="hs-identifier">p</span></a></a><span>
</span><a name="line-182"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsGroup"><a href="HsDecls.html#HsGroup"><span class="hs-identifier">HsGroup</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-183"></a><span>        </span><a name="hs_ext"><a href="HsDecls.html#hs_ext"><span class="hs-identifier">hs_ext</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCHsGroup"><span class="hs-identifier hs-type">XCHsGroup</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">,</span><span>
</span><a name="line-184"></a><span>        </span><a name="hs_valds"><a href="HsDecls.html#hs_valds"><span class="hs-identifier">hs_valds</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsBinds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">,</span><span>
</span><a name="line-185"></a><span>        </span><a name="hs_splcds"><a href="HsDecls.html#hs_splcds"><span class="hs-identifier">hs_splcds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LSpliceDecl"><span class="hs-identifier hs-type">LSpliceDecl</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-186"></a><span>
</span><a name="line-187"></a><span>        </span><a name="hs_tyclds"><a href="HsDecls.html#hs_tyclds"><span class="hs-identifier">hs_tyclds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-188"></a><span>                </span><span class="hs-comment">-- A list of mutually-recursive groups;</span><span>
</span><a name="line-189"></a><span>                </span><span class="hs-comment">-- This includes `InstDecl`s as well;</span><span>
</span><a name="line-190"></a><span>                </span><span class="hs-comment">-- Parser generates a singleton list;</span><span>
</span><a name="line-191"></a><span>                </span><span class="hs-comment">-- renamer does dependency analysis</span><span>
</span><a name="line-192"></a><span>
</span><a name="line-193"></a><span>        </span><a name="hs_derivds"><a href="HsDecls.html#hs_derivds"><span class="hs-identifier">hs_derivds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LDerivDecl"><span class="hs-identifier hs-type">LDerivDecl</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-194"></a><span>
</span><a name="line-195"></a><span>        </span><a name="hs_fixds"><a href="HsDecls.html#hs_fixds"><span class="hs-identifier">hs_fixds</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsBinds.html#LFixitySig"><span class="hs-identifier hs-type">LFixitySig</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-196"></a><span>                </span><span class="hs-comment">-- Snaffled out of both top-level fixity signatures,</span><span>
</span><a name="line-197"></a><span>                </span><span class="hs-comment">-- and those in class declarations</span><span>
</span><a name="line-198"></a><span>
</span><a name="line-199"></a><span>        </span><a name="hs_defds"><a href="HsDecls.html#hs_defds"><span class="hs-identifier">hs_defds</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LDefaultDecl"><span class="hs-identifier hs-type">LDefaultDecl</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-200"></a><span>        </span><a name="hs_fords"><a href="HsDecls.html#hs_fords"><span class="hs-identifier">hs_fords</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LForeignDecl"><span class="hs-identifier hs-type">LForeignDecl</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-201"></a><span>        </span><a name="hs_warnds"><a href="HsDecls.html#hs_warnds"><span class="hs-identifier">hs_warnds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LWarnDecls"><span class="hs-identifier hs-type">LWarnDecls</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-202"></a><span>        </span><a name="hs_annds"><a href="HsDecls.html#hs_annds"><span class="hs-identifier">hs_annds</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LAnnDecl"><span class="hs-identifier hs-type">LAnnDecl</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-203"></a><span>        </span><a name="hs_ruleds"><a href="HsDecls.html#hs_ruleds"><span class="hs-identifier">hs_ruleds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRuleDecls"><span class="hs-identifier hs-type">LRuleDecls</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-204"></a><span>
</span><a name="line-205"></a><span>        </span><a name="hs_docs"><a href="HsDecls.html#hs_docs"><span class="hs-identifier">hs_docs</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a><span class="hs-special">]</span><span>
</span><a name="line-206"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-207"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsGroup"><a href="HsDecls.html#XHsGroup"><span class="hs-identifier">XHsGroup</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsGroup"><span class="hs-identifier hs-type">XXHsGroup</span></a><span> </span><a href="#local-6989586621683094332"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-208"></a><span>
</span><a name="line-209"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCHsGroup"><span class="hs-identifier hs-type">XCHsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-210"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsGroup"><span class="hs-identifier hs-type">XXHsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-211"></a><span>
</span><a name="line-212"></a><span>
</span><a name="line-213"></a><span class="hs-identifier">emptyGroup</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">emptyRdrGroup</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">emptyRnGroup</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094646"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-214"></a><a name="emptyRdrGroup"><a href="HsDecls.html#emptyRdrGroup"><span class="hs-identifier">emptyRdrGroup</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#emptyGroup"><span class="hs-identifier hs-var">emptyGroup</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hs_valds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsBinds.html#emptyValBindsIn"><span class="hs-identifier hs-var">emptyValBindsIn</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-215"></a><a name="emptyRnGroup"><a href="HsDecls.html#emptyRnGroup"><span class="hs-identifier">emptyRnGroup</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#emptyGroup"><span class="hs-identifier hs-var">emptyGroup</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hs_valds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsBinds.html#emptyValBindsOut"><span class="hs-identifier hs-var">emptyValBindsOut</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-216"></a><span>
</span><a name="line-217"></a><span class="hs-identifier">hsGroupInstDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><a href="#local-6989586621683094645"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span> </span><a href="#local-6989586621683094645"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-218"></a><a name="hsGroupInstDecls"><a href="HsDecls.html#hsGroupInstDecls"><span class="hs-identifier">hsGroupInstDecls</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">=&lt;&lt;</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">group_instds</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">hs_tyclds</span><span>
</span><a name="line-219"></a><span>
</span><a name="line-220"></a><a name="emptyGroup"><a href="HsDecls.html#emptyGroup"><span class="hs-identifier">emptyGroup</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-var">HsGroup</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hs_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span class="hs-special">,</span><span>
</span><a name="line-221"></a><span>                       </span><span class="hs-identifier">hs_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-222"></a><span>                       </span><span class="hs-identifier">hs_derivds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-223"></a><span>                       </span><span class="hs-identifier">hs_fixds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hs_defds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hs_annds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-224"></a><span>                       </span><span class="hs-identifier">hs_fords</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hs_warnds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hs_ruleds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-225"></a><span>                       </span><span class="hs-identifier">hs_valds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-string">&quot;emptyGroup hs_valds: Can't happen&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-226"></a><span>                       </span><span class="hs-identifier">hs_splcds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-227"></a><span>                       </span><span class="hs-identifier">hs_docs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-identifier">appendGroups</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094644"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094644"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-230"></a><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094644"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-231"></a><a name="appendGroups"><a href="HsDecls.html#appendGroups"><span class="hs-identifier">appendGroups</span></a></a><span>
</span><a name="line-232"></a><span>    </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-var">HsGroup</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-233"></a><span>        </span><span class="hs-identifier">hs_valds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094647"><a href="#local-6989586621683094647"><span class="hs-identifier">val_groups1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-234"></a><span>        </span><span class="hs-identifier">hs_splcds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094648"><a href="#local-6989586621683094648"><span class="hs-identifier">spliceds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-235"></a><span>        </span><span class="hs-identifier">hs_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094649"><a href="#local-6989586621683094649"><span class="hs-identifier">tyclds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-236"></a><span>        </span><span class="hs-identifier">hs_derivds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094650"><a href="#local-6989586621683094650"><span class="hs-identifier">derivds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-237"></a><span>        </span><span class="hs-identifier">hs_fixds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094651"><a href="#local-6989586621683094651"><span class="hs-identifier">fixds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-238"></a><span>        </span><span class="hs-identifier">hs_defds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094652"><a href="#local-6989586621683094652"><span class="hs-identifier">defds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-239"></a><span>        </span><span class="hs-identifier">hs_annds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094653"><a href="#local-6989586621683094653"><span class="hs-identifier">annds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-240"></a><span>        </span><span class="hs-identifier">hs_fords</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094654"><a href="#local-6989586621683094654"><span class="hs-identifier">fords1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-241"></a><span>        </span><span class="hs-identifier">hs_warnds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094655"><a href="#local-6989586621683094655"><span class="hs-identifier">warnds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-242"></a><span>        </span><span class="hs-identifier">hs_ruleds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094656"><a href="#local-6989586621683094656"><span class="hs-identifier">rulds1</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-243"></a><span>        </span><span class="hs-identifier">hs_docs</span><span>   </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094657"><a href="#local-6989586621683094657"><span class="hs-identifier">docs1</span></a></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-244"></a><span>    </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-var">HsGroup</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-245"></a><span>        </span><span class="hs-identifier">hs_valds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094658"><a href="#local-6989586621683094658"><span class="hs-identifier">val_groups2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-246"></a><span>        </span><span class="hs-identifier">hs_splcds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094659"><a href="#local-6989586621683094659"><span class="hs-identifier">spliceds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-247"></a><span>        </span><span class="hs-identifier">hs_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094660"><a href="#local-6989586621683094660"><span class="hs-identifier">tyclds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-248"></a><span>        </span><span class="hs-identifier">hs_derivds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094661"><a href="#local-6989586621683094661"><span class="hs-identifier">derivds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-249"></a><span>        </span><span class="hs-identifier">hs_fixds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094662"><a href="#local-6989586621683094662"><span class="hs-identifier">fixds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-250"></a><span>        </span><span class="hs-identifier">hs_defds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094663"><a href="#local-6989586621683094663"><span class="hs-identifier">defds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-251"></a><span>        </span><span class="hs-identifier">hs_annds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094664"><a href="#local-6989586621683094664"><span class="hs-identifier">annds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-252"></a><span>        </span><span class="hs-identifier">hs_fords</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094665"><a href="#local-6989586621683094665"><span class="hs-identifier">fords2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-253"></a><span>        </span><span class="hs-identifier">hs_warnds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094666"><a href="#local-6989586621683094666"><span class="hs-identifier">warnds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-254"></a><span>        </span><span class="hs-identifier">hs_ruleds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094667"><a href="#local-6989586621683094667"><span class="hs-identifier">rulds2</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-255"></a><span>        </span><span class="hs-identifier">hs_docs</span><span>   </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094668"><a href="#local-6989586621683094668"><span class="hs-identifier">docs2</span></a></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-256"></a><span>  </span><span class="hs-glyph">=</span><span>
</span><a name="line-257"></a><span>    </span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-var">HsGroup</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-258"></a><span>        </span><span class="hs-identifier">hs_ext</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span class="hs-special">,</span><span>
</span><a name="line-259"></a><span>        </span><span class="hs-identifier">hs_valds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094647"><span class="hs-identifier hs-var">val_groups1</span></a><span> </span><span class="hs-special">`</span><a href="HsBinds.html#plusHsValBinds"><span class="hs-identifier hs-var">plusHsValBinds</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621683094658"><span class="hs-identifier hs-var">val_groups2</span></a><span class="hs-special">,</span><span>
</span><a name="line-260"></a><span>        </span><span class="hs-identifier">hs_splcds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094648"><span class="hs-identifier hs-var">spliceds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094659"><span class="hs-identifier hs-var">spliceds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-261"></a><span>        </span><span class="hs-identifier">hs_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094649"><span class="hs-identifier hs-var">tyclds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094660"><span class="hs-identifier hs-var">tyclds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-262"></a><span>        </span><span class="hs-identifier">hs_derivds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094650"><span class="hs-identifier hs-var">derivds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094661"><span class="hs-identifier hs-var">derivds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-263"></a><span>        </span><span class="hs-identifier">hs_fixds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094651"><span class="hs-identifier hs-var">fixds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094662"><span class="hs-identifier hs-var">fixds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-264"></a><span>        </span><span class="hs-identifier">hs_annds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094653"><span class="hs-identifier hs-var">annds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094664"><span class="hs-identifier hs-var">annds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-265"></a><span>        </span><span class="hs-identifier">hs_defds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094652"><span class="hs-identifier hs-var">defds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094663"><span class="hs-identifier hs-var">defds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-266"></a><span>        </span><span class="hs-identifier">hs_fords</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094654"><span class="hs-identifier hs-var">fords1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094665"><span class="hs-identifier hs-var">fords2</span></a><span class="hs-special">,</span><span>
</span><a name="line-267"></a><span>        </span><span class="hs-identifier">hs_warnds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094655"><span class="hs-identifier hs-var">warnds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094666"><span class="hs-identifier hs-var">warnds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-268"></a><span>        </span><span class="hs-identifier">hs_ruleds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094656"><span class="hs-identifier hs-var">rulds1</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094667"><span class="hs-identifier hs-var">rulds2</span></a><span class="hs-special">,</span><span>
</span><a name="line-269"></a><span>        </span><span class="hs-identifier">hs_docs</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094657"><span class="hs-identifier hs-var">docs1</span></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="#local-6989586621683094668"><span class="hs-identifier hs-var">docs2</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-270"></a><span class="hs-identifier">appendGroups</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;appendGroups&quot;</span><span>
</span><a name="line-271"></a><span>
</span><a name="line-272"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094564"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094563"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a><span> </span><a href="#local-6989586621683094563"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-273"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094565"><a href="#local-6989586621683094565"><span class="hs-identifier">dcl</span></a></a><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094565"><span class="hs-identifier hs-var">dcl</span></a><span>
</span><a name="line-274"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094566"><a href="#local-6989586621683094566"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094566"><span class="hs-identifier hs-var">binds</span></a><span>
</span><a name="line-275"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DefD"><span class="hs-identifier hs-var">DefD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094567"><a href="#local-6989586621683094567"><span class="hs-identifier">def</span></a></a><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094567"><span class="hs-identifier hs-var">def</span></a><span>
</span><a name="line-276"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094568"><a href="#local-6989586621683094568"><span class="hs-identifier">inst</span></a></a><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094568"><span class="hs-identifier hs-var">inst</span></a><span>
</span><a name="line-277"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivD"><span class="hs-identifier hs-var">DerivD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094569"><a href="#local-6989586621683094569"><span class="hs-identifier">deriv</span></a></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094569"><span class="hs-identifier hs-var">deriv</span></a><span>
</span><a name="line-278"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094570"><a href="#local-6989586621683094570"><span class="hs-identifier">fd</span></a></a><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094570"><span class="hs-identifier hs-var">fd</span></a><span>
</span><a name="line-279"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SigD"><span class="hs-identifier hs-var">SigD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094571"><a href="#local-6989586621683094571"><span class="hs-identifier">sd</span></a></a><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094571"><span class="hs-identifier hs-var">sd</span></a><span>
</span><a name="line-280"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleD"><span class="hs-identifier hs-var">RuleD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094572"><a href="#local-6989586621683094572"><span class="hs-identifier">rd</span></a></a><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094572"><span class="hs-identifier hs-var">rd</span></a><span>
</span><a name="line-281"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#WarningD"><span class="hs-identifier hs-var">WarningD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094573"><a href="#local-6989586621683094573"><span class="hs-identifier">wd</span></a></a><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094573"><span class="hs-identifier hs-var">wd</span></a><span>
</span><a name="line-282"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#AnnD"><span class="hs-identifier hs-var">AnnD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094574"><a href="#local-6989586621683094574"><span class="hs-identifier">ad</span></a></a><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094574"><span class="hs-identifier hs-var">ad</span></a><span>
</span><a name="line-283"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094575"><a href="#local-6989586621683094575"><span class="hs-identifier">dd</span></a></a><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094575"><span class="hs-identifier hs-var">dd</span></a><span>
</span><a name="line-284"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocD"><span class="hs-identifier hs-var">DocD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094576"><a href="#local-6989586621683094576"><span class="hs-identifier">doc</span></a></a><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094576"><span class="hs-identifier hs-var">doc</span></a><span>
</span><a name="line-285"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotD"><span class="hs-identifier hs-var">RoleAnnotD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094577"><a href="#local-6989586621683094577"><span class="hs-identifier">ra</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094577"><span class="hs-identifier hs-var">ra</span></a><span>
</span><a name="line-286"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XHsDecl"><span class="hs-identifier hs-var">XHsDecl</span></a><span> </span><a name="local-6989586621683094578"><a href="#local-6989586621683094578"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094578"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-287"></a><span>
</span><a name="line-288"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094543"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094542"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><a href="#local-6989586621683094542"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-289"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-var">HsGroup</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hs_valds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094544"><a href="#local-6989586621683094544"><span class="hs-identifier">val_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-290"></a><span>                   </span><span class="hs-identifier">hs_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094545"><a href="#local-6989586621683094545"><span class="hs-identifier">tycl_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-291"></a><span>                   </span><span class="hs-identifier">hs_derivds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094546"><a href="#local-6989586621683094546"><span class="hs-identifier">deriv_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-292"></a><span>                   </span><span class="hs-identifier">hs_fixds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094547"><a href="#local-6989586621683094547"><span class="hs-identifier">fix_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-293"></a><span>                   </span><span class="hs-identifier">hs_warnds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094548"><a href="#local-6989586621683094548"><span class="hs-identifier">deprec_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-294"></a><span>                   </span><span class="hs-identifier">hs_annds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094549"><a href="#local-6989586621683094549"><span class="hs-identifier">ann_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-295"></a><span>                   </span><span class="hs-identifier">hs_fords</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094550"><a href="#local-6989586621683094550"><span class="hs-identifier">foreign_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-296"></a><span>                   </span><span class="hs-identifier">hs_defds</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094551"><a href="#local-6989586621683094551"><span class="hs-identifier">default_decls</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-297"></a><span>                   </span><span class="hs-identifier">hs_ruleds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094552"><a href="#local-6989586621683094552"><span class="hs-identifier">rule_decls</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-298"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094554"><span class="hs-identifier hs-var">vcat_mb</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-299"></a><span>            </span><span class="hs-special">[</span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094547"><span class="hs-identifier hs-var">fix_decls</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094551"><span class="hs-identifier hs-var">default_decls</span></a><span class="hs-special">,</span><span>
</span><a name="line-300"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094548"><span class="hs-identifier hs-var">deprec_decls</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094549"><span class="hs-identifier hs-var">ann_decls</span></a><span class="hs-special">,</span><span>
</span><a name="line-301"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094552"><span class="hs-identifier hs-var">rule_decls</span></a><span class="hs-special">,</span><span>
</span><a name="line-302"></a><span>             </span><span class="hs-keyword">if</span><span> </span><a href="HsBinds.html#isEmptyValBinds"><span class="hs-identifier hs-var">isEmptyValBinds</span></a><span> </span><a href="#local-6989586621683094544"><span class="hs-identifier hs-var">val_decls</span></a><span>
</span><a name="line-303"></a><span>                </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-304"></a><span>                </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094544"><span class="hs-identifier hs-var">val_decls</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-305"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#tyClGroupTyClDecls"><span class="hs-identifier hs-var">tyClGroupTyClDecls</span></a><span> </span><a href="#local-6989586621683094545"><span class="hs-identifier hs-var">tycl_decls</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-306"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#tyClGroupInstDecls"><span class="hs-identifier hs-var">tyClGroupInstDecls</span></a><span> </span><a href="#local-6989586621683094545"><span class="hs-identifier hs-var">tycl_decls</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-307"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094546"><span class="hs-identifier hs-var">deriv_decls</span></a><span class="hs-special">,</span><span>
</span><a name="line-308"></a><span>             </span><a href="#local-6989586621683094553"><span class="hs-identifier hs-var">ppr_ds</span></a><span> </span><a href="#local-6989586621683094550"><span class="hs-identifier hs-var">foreign_decls</span></a><span class="hs-special">]</span><span>
</span><a name="line-309"></a><span>        </span><span class="hs-keyword">where</span><span>
</span><a name="line-310"></a><span>          </span><span class="hs-identifier">ppr_ds</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621683094555"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621683094555"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-311"></a><span>          </span><a name="local-6989586621683094553"><a href="#local-6989586621683094553"><span class="hs-identifier">ppr_ds</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-312"></a><span>          </span><span class="hs-identifier">ppr_ds</span><span> </span><a name="local-6989586621683094556"><a href="#local-6989586621683094556"><span class="hs-identifier">ds</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094556"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-313"></a><span>
</span><a name="line-314"></a><span>          </span><span class="hs-identifier">vcat_mb</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-315"></a><span>          </span><span class="hs-comment">-- Concatenate vertically with white-space between non-blanks</span><span>
</span><a name="line-316"></a><span>          </span><a name="local-6989586621683094554"><a href="#local-6989586621683094554"><span class="hs-identifier">vcat_mb</span></a></a><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-317"></a><span>          </span><span class="hs-identifier">vcat_mb</span><span> </span><a name="local-6989586621683094557"><a href="#local-6989586621683094557"><span class="hs-identifier">gap</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621683094558"><a href="#local-6989586621683094558"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094554"><span class="hs-identifier hs-var">vcat_mb</span></a><span> </span><a href="#local-6989586621683094557"><span class="hs-identifier hs-var">gap</span></a><span> </span><a href="#local-6989586621683094558"><span class="hs-identifier hs-var">ds</span></a><span>
</span><a name="line-318"></a><span>          </span><span class="hs-identifier">vcat_mb</span><span> </span><a name="local-6989586621683094559"><a href="#local-6989586621683094559"><span class="hs-identifier">gap</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094560"><a href="#local-6989586621683094560"><span class="hs-identifier">d</span></a></a><span>  </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621683094561"><a href="#local-6989586621683094561"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094559"><span class="hs-identifier hs-var">gap</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="#local-6989586621683094560"><span class="hs-identifier hs-var">d</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="#local-6989586621683094554"><span class="hs-identifier hs-var">vcat_mb</span></a><span> </span><a href="Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a><span> </span><a href="#local-6989586621683094561"><span class="hs-identifier hs-var">ds</span></a><span>
</span><a name="line-319"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XHsGroup"><span class="hs-identifier hs-var">XHsGroup</span></a><span> </span><a name="local-6989586621683094562"><a href="#local-6989586621683094562"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094562"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-320"></a><span>
</span><a name="line-321"></a><span class="hs-comment">-- | Located Splice Declaration</span><span>
</span><a name="line-322"></a><span class="hs-keyword">type</span><span> </span><a name="LSpliceDecl"><a href="HsDecls.html#LSpliceDecl"><span class="hs-identifier">LSpliceDecl</span></a></a><span> </span><a name="local-6989586621683094331"><a href="#local-6989586621683094331"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier hs-type">SpliceDecl</span></a><span> </span><a href="#local-6989586621683094331"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-323"></a><span>
</span><a name="line-324"></a><span class="hs-comment">-- | Splice Declaration</span><span>
</span><a name="line-325"></a><span class="hs-keyword">data</span><span> </span><a name="SpliceDecl"><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier">SpliceDecl</span></a></a><span> </span><a name="local-6989586621683094330"><a href="#local-6989586621683094330"><span class="hs-identifier">p</span></a></a><span>
</span><a name="line-326"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="SpliceDecl"><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier">SpliceDecl</span></a></a><span>                  </span><span class="hs-comment">-- Top level splice</span><span>
</span><a name="line-327"></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#XSpliceDecl"><span class="hs-identifier hs-type">XSpliceDecl</span></a><span> </span><a href="#local-6989586621683094330"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span>        </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-6989586621683094330"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-329"></a><span>        </span><a href="BasicTypes.html#SpliceExplicitFlag"><span class="hs-identifier hs-type">SpliceExplicitFlag</span></a><span>
</span><a name="line-330"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XSpliceDecl"><a href="HsDecls.html#XSpliceDecl"><span class="hs-identifier">XSpliceDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXSpliceDecl"><span class="hs-identifier hs-type">XXSpliceDecl</span></a><span> </span><a href="#local-6989586621683094330"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-331"></a><span>
</span><a name="line-332"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSpliceDecl"><span class="hs-identifier hs-type">XSpliceDecl</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-333"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXSpliceDecl"><span class="hs-identifier hs-type">XXSpliceDecl</span></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-334"></a><span>
</span><a name="line-335"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094536"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094535"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-336"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier hs-type">SpliceDecl</span></a><span> </span><a href="#local-6989586621683094535"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-337"></a><span>   </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094537"><a href="#local-6989586621683094537"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621683094538"><a href="#local-6989586621683094538"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprSpliceDecl"><span class="hs-identifier hs-var">pprSpliceDecl</span></a><span> </span><a href="#local-6989586621683094537"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="#local-6989586621683094538"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-338"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XSpliceDecl"><span class="hs-identifier hs-var">XSpliceDecl</span></a><span> </span><a name="local-6989586621683094539"><a href="#local-6989586621683094539"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094539"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-339"></a><span>
</span><a name="line-340"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
            Type and class declarations
*                                                                      *
************************************************************************

Note [The Naming story]
~~~~~~~~~~~~~~~~~~~~~~~
Here is the story about the implicit names that go with type, class,
and instance decls.  It's a bit tricky, so pay attention!

&quot;Implicit&quot; (or &quot;system&quot;) binders
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  Each data type decl defines
        a worker name for each constructor
        to-T and from-T convertors
  Each class decl defines
        a tycon for the class
        a data constructor for that tycon
        the worker for that constructor
        a selector for each superclass

All have occurrence names that are derived uniquely from their parent
declaration.

None of these get separate definitions in an interface file; they are
fully defined by the data or class decl.  But they may *occur* in
interface files, of course.  Any such occurrence must haul in the
relevant type or class decl.

Plan of attack:
 - Ensure they &quot;point to&quot; the parent data/class decl
   when loading that decl from an interface file
   (See RnHiFiles.getSysBinders)

 - When typechecking the decl, we build the implicit TyCons and Ids.
   When doing so we look them up in the name cache (RnEnv.lookupSysName),
   to ensure correct module and provenance is set

These are the two places that we have to conjure up the magic derived
names.  (The actual magic is in OccName.mkWorkerOcc, etc.)

Default methods
~~~~~~~~~~~~~~~
 - Occurrence name is derived uniquely from the method name
   E.g. $dmmax

 - If there is a default method name at all, it's recorded in
   the ClassOpSig (in HsBinds), in the DefMethInfo field.
   (DefMethInfo is defined in Class.hs)

Source-code class decls and interface-code class decls are treated subtly
differently, which has given me a great deal of confusion over the years.
Here's the deal.  (We distinguish the two cases because source-code decls
have (Just binds) in the tcdMeths field, whereas interface decls have Nothing.

In *source-code* class declarations:

 - When parsing, every ClassOpSig gets a DefMeth with a suitable RdrName
   This is done by RdrHsSyn.mkClassOpSigDM

 - The renamer renames it to a Name

 - During typechecking, we generate a binding for each $dm for
   which there's a programmer-supplied default method:
        class Foo a where
          op1 :: &lt;type&gt;
          op2 :: &lt;type&gt;
          op1 = ...
   We generate a binding for $dmop1 but not for $dmop2.
   The Class for Foo has a Nothing for op2 and
                         a Just ($dm_op1, VanillaDM) for op1.
   The Name for $dmop2 is simply discarded.

In *interface-file* class declarations:
  - When parsing, we see if there's an explicit programmer-supplied default method
    because there's an '=' sign to indicate it:
        class Foo a where
          op1 = :: &lt;type&gt;       -- NB the '='
          op2   :: &lt;type&gt;
    We use this info to generate a DefMeth with a suitable RdrName for op1,
    and a NoDefMeth for op2
  - The interface file has a separate definition for $dmop1, with unfolding etc.
  - The renamer renames it to a Name.
  - The renamer treats $dmop1 as a free variable of the declaration, so that
    the binding for $dmop1 will be sucked in.  (See RnHsSyn.tyClDeclFVs)
    This doesn't happen for source code class decls, because they *bind* the default method.

Dictionary functions
~~~~~~~~~~~~~~~~~~~~
Each instance declaration gives rise to one dictionary function binding.

The type checker makes up new source-code instance declarations
(e.g. from 'deriving' or generic default methods --- see
TcInstDcls.tcInstDecls1).  So we can't generate the names for
dictionary functions in advance (we don't know how many we need).

On the other hand for interface-file instance declarations, the decl
specifies the name of the dictionary function, and it has a binding elsewhere
in the interface file:
        instance {Eq Int} = dEqInt
        dEqInt :: {Eq Int} &lt;pragma info&gt;

So again we treat source code and interface file code slightly differently.

Source code:
  - Source code instance decls have a Nothing in the (Maybe name) field
    (see data InstDecl below)

  - The typechecker makes up a Local name for the dict fun for any source-code
    instance decl, whether it comes from a source-code instance decl, or whether
    the instance decl is derived from some other construct (e.g. 'deriving').

  - The occurrence name it chooses is derived from the instance decl (just for
    documentation really) --- e.g. dNumInt.  Two dict funs may share a common
    occurrence name, but will have different uniques.  E.g.
        instance Foo [Int]  where ...
        instance Foo [Bool] where ...
    These might both be dFooList

  - The CoreTidy phase externalises the name, and ensures the occurrence name is
    unique (this isn't special to dict funs).  So we'd get dFooList and dFooList1.

  - We can take this relaxed approach (changing the occurrence name later)
    because dict fun Ids are not captured in a TyCon or Class (unlike default
    methods, say).  Instead, they are kept separately in the InstEnv.  This
    makes it easy to adjust them after compiling a module.  (Once we've finished
    compiling that module, they don't change any more.)


Interface file code:
  - The instance decl gives the dict fun name, so the InstDecl has a (Just name)
    in the (Maybe name) field.

  - RnHsSyn.instDeclFVs treats the dict fun name as free in the decl, so that we
    suck in the dfun binding
-}</span><span>
</span><a name="line-478"></a><span>
</span><a name="line-479"></a><span class="hs-comment">-- | Located Declaration of a Type or Class</span><span>
</span><a name="line-480"></a><span class="hs-keyword">type</span><span> </span><a name="LTyClDecl"><a href="HsDecls.html#LTyClDecl"><span class="hs-identifier">LTyClDecl</span></a></a><span> </span><a name="local-6989586621683094329"><a href="#local-6989586621683094329"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094329"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-481"></a><span>
</span><a name="line-482"></a><span class="hs-comment">-- | A type or class declaration.</span><span>
</span><a name="line-483"></a><span class="hs-keyword">data</span><span> </span><a name="TyClDecl"><a href="HsDecls.html#TyClDecl"><span class="hs-identifier">TyClDecl</span></a></a><span> </span><a name="local-6989586621683094328"><a href="#local-6989586621683094328"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-484"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | @type/data family T :: *-&gt;*@</span><span>
</span><a name="line-485"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-486"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnType',</span><span>
</span><a name="line-487"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnData',</span><span>
</span><a name="line-488"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnFamily','ApiAnnotation.AnnDcolon',</span><span>
</span><a name="line-489"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnWhere','ApiAnnotation.AnnOpenP',</span><span>
</span><a name="line-490"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnDcolon','ApiAnnotation.AnnCloseP',</span><span>
</span><a name="line-491"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnEqual','ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-492"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnVbar'</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-495"></a><span>    </span><a name="FamDecl"><a href="HsDecls.html#FamDecl"><span class="hs-identifier">FamDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="tcdFExt"><a href="HsDecls.html#tcdFExt"><span class="hs-identifier">tcdFExt</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XFamDecl"><span class="hs-identifier hs-type">XFamDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a name="tcdFam"><a href="HsDecls.html#tcdFam"><span class="hs-identifier">tcdFam</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-496"></a><span>
</span><a name="line-497"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | @type@ declaration</span><span>
</span><a name="line-498"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-499"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnType',</span><span>
</span><a name="line-500"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnEqual',</span><span>
</span><a name="line-501"></a><span>
</span><a name="line-502"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-503"></a><span>    </span><a name="SynDecl"><a href="HsDecls.html#SynDecl"><span class="hs-identifier">SynDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="tcdSExt"><a href="HsDecls.html#tcdSExt"><span class="hs-identifier">tcdSExt</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XSynDecl"><span class="hs-identifier hs-type">XSynDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span>          </span><span class="hs-comment">-- ^ Post renameer, FVs</span><span>
</span><a name="line-504"></a><span>            </span><span class="hs-special">,</span><span> </span><a name="tcdLName"><a href="HsDecls.html#tcdLName"><span class="hs-identifier">tcdLName</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ Type constructor</span><span>
</span><a name="line-505"></a><span>            </span><span class="hs-special">,</span><span> </span><a name="tcdTyVars"><a href="HsDecls.html#tcdTyVars"><span class="hs-identifier">tcdTyVars</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- ^ Type variables; for an</span><span>
</span><a name="line-506"></a><span>                                                  </span><span class="hs-comment">-- associated type these</span><span>
</span><a name="line-507"></a><span>                                                  </span><span class="hs-comment">-- include outer binders</span><span>
</span><a name="line-508"></a><span>            </span><span class="hs-special">,</span><span> </span><a name="tcdFixity"><a href="HsDecls.html#tcdFixity"><span class="hs-identifier">tcdFixity</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span>    </span><span class="hs-comment">-- ^ Fixity used in the declaration</span><span>
</span><a name="line-509"></a><span>            </span><span class="hs-special">,</span><span> </span><a name="tcdRhs"><a href="HsDecls.html#tcdRhs"><span class="hs-identifier">tcdRhs</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>         </span><span class="hs-comment">-- ^ RHS of type declaration</span><span>
</span><a name="line-510"></a><span>
</span><a name="line-511"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | @data@ declaration</span><span>
</span><a name="line-512"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-513"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnData',</span><span>
</span><a name="line-514"></a><span>    </span><span class="hs-comment">--              'ApiAnnotation.AnnFamily',</span><span>
</span><a name="line-515"></a><span>    </span><span class="hs-comment">--              'ApiAnnotation.AnnNewType',</span><span>
</span><a name="line-516"></a><span>    </span><span class="hs-comment">--              'ApiAnnotation.AnnNewType','ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-517"></a><span>    </span><span class="hs-comment">--              'ApiAnnotation.AnnWhere',</span><span>
</span><a name="line-518"></a><span>
</span><a name="line-519"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-520"></a><span>    </span><a name="DataDecl"><a href="HsDecls.html#DataDecl"><span class="hs-identifier">DataDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="tcdDExt"><a href="HsDecls.html#tcdDExt"><span class="hs-identifier">tcdDExt</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XDataDecl"><span class="hs-identifier hs-type">XDataDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- ^ Post renamer, CUSK flag, FVs</span><span>
</span><a name="line-521"></a><span>             </span><span class="hs-special">,</span><span> </span><a name="tcdLName"><a href="HsDecls.html#tcdLName"><span class="hs-identifier">tcdLName</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ Type constructor</span><span>
</span><a name="line-522"></a><span>             </span><span class="hs-special">,</span><span> </span><a name="tcdTyVars"><a href="HsDecls.html#tcdTyVars"><span class="hs-identifier">tcdTyVars</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span>      </span><span class="hs-comment">-- ^ Type variables</span><span>
</span><a name="line-523"></a><span>                              </span><span class="hs-comment">-- See Note [TyVar binders for associated declarations]</span><span>
</span><a name="line-524"></a><span>             </span><span class="hs-special">,</span><span> </span><a name="tcdFixity"><a href="HsDecls.html#tcdFixity"><span class="hs-identifier">tcdFixity</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span>        </span><span class="hs-comment">-- ^ Fixity used in the declaration</span><span>
</span><a name="line-525"></a><span>             </span><span class="hs-special">,</span><span> </span><a name="tcdDataDefn"><a href="HsDecls.html#tcdDataDefn"><span class="hs-identifier">tcdDataDefn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-526"></a><span>
</span><a name="line-527"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ClassDecl"><a href="HsDecls.html#ClassDecl"><span class="hs-identifier">ClassDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="tcdCExt"><a href="HsDecls.html#tcdCExt"><span class="hs-identifier">tcdCExt</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XClassDecl"><span class="hs-identifier hs-type">XClassDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Post renamer, FVs</span><span>
</span><a name="line-528"></a><span>                </span><a name="tcdCtxt"><a href="HsDecls.html#tcdCtxt"><span class="hs-identifier">tcdCtxt</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Context...</span><span>
</span><a name="line-529"></a><span>                </span><a name="tcdLName"><a href="HsDecls.html#tcdLName"><span class="hs-identifier">tcdLName</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- ^ Name of the class</span><span>
</span><a name="line-530"></a><span>                </span><a name="tcdTyVars"><a href="HsDecls.html#tcdTyVars"><span class="hs-identifier">tcdTyVars</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Class type variables</span><span>
</span><a name="line-531"></a><span>                </span><a name="tcdFixity"><a href="HsDecls.html#tcdFixity"><span class="hs-identifier">tcdFixity</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ Fixity used in the declaration</span><span>
</span><a name="line-532"></a><span>                </span><a name="tcdFDs"><a href="HsDecls.html#tcdFDs"><span class="hs-identifier">tcdFDs</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Functional deps</span><span>
</span><a name="line-533"></a><span>                </span><a name="tcdSigs"><a href="HsDecls.html#tcdSigs"><span class="hs-identifier">tcdSigs</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsBinds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>              </span><span class="hs-comment">-- ^ Methods' signatures</span><span>
</span><a name="line-534"></a><span>                </span><a name="tcdMeths"><a href="HsDecls.html#tcdMeths"><span class="hs-identifier">tcdMeths</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsBinds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>            </span><span class="hs-comment">-- ^ Default methods</span><span>
</span><a name="line-535"></a><span>                </span><a name="tcdATs"><a href="HsDecls.html#tcdATs"><span class="hs-identifier">tcdATs</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- ^ Associated types;</span><span>
</span><a name="line-536"></a><span>                </span><a name="tcdATDefs"><a href="HsDecls.html#tcdATDefs"><span class="hs-identifier">tcdATDefs</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyFamDefltEqn"><span class="hs-identifier hs-type">LTyFamDefltEqn</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- ^ Associated type defaults</span><span>
</span><a name="line-537"></a><span>                </span><a name="tcdDocs"><a href="HsDecls.html#tcdDocs"><span class="hs-identifier">tcdDocs</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a><span class="hs-special">]</span><span>                </span><span class="hs-comment">-- ^ Haddock docs</span><span>
</span><a name="line-538"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-539"></a><span>        </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnClass',</span><span>
</span><a name="line-540"></a><span>        </span><span class="hs-comment">--           'ApiAnnotation.AnnWhere','ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-541"></a><span>        </span><span class="hs-comment">--           'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-542"></a><span>        </span><span class="hs-comment">--   - The tcdFDs will have 'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-543"></a><span>        </span><span class="hs-comment">--                          'ApiAnnotation.AnnComma'</span><span>
</span><a name="line-544"></a><span>        </span><span class="hs-comment">--                          'ApiAnnotation.AnnRarrow'</span><span>
</span><a name="line-545"></a><span>
</span><a name="line-546"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-547"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XTyClDecl"><a href="HsDecls.html#XTyClDecl"><span class="hs-identifier">XTyClDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXTyClDecl"><span class="hs-identifier hs-type">XXTyClDecl</span></a><span> </span><a href="#local-6989586621683094328"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-548"></a><span>
</span><a name="line-549"></a><span class="hs-keyword">type</span><span> </span><a name="LHsFunDep"><a href="HsDecls.html#LHsFunDep"><span class="hs-identifier">LHsFunDep</span></a></a><span> </span><a name="local-6989586621683094327"><a href="#local-6989586621683094327"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="Class.html#FunDep"><span class="hs-identifier hs-type">FunDep</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094327"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-550"></a><span>
</span><a name="line-551"></a><span class="hs-keyword">data</span><span> </span><a name="DataDeclRn"><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier">DataDeclRn</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="DataDeclRn"><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier">DataDeclRn</span></a></a><span>
</span><a name="line-552"></a><span>             </span><span class="hs-special">{</span><span> </span><a name="tcdDataCusk"><a href="HsDecls.html#tcdDataCusk"><span class="hs-identifier">tcdDataCusk</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>    </span><span class="hs-comment">-- ^ does this have a CUSK?</span><span>
</span><a name="line-553"></a><span>             </span><span class="hs-special">,</span><span> </span><a name="tcdFVs"><a href="HsDecls.html#tcdFVs"><span class="hs-identifier">tcdFVs</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-554"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-555"></a><span>
</span><a name="line-556"></a><span class="hs-comment">{- Note [TyVar binders for associated decls]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
For an /associated/ data, newtype, or type-family decl, the LHsQTyVars
/includes/ outer binders.  For example
    class T a where
       data D a c
       type F a b :: *
       type F a b = a -&gt; a
Here the data decl for 'D', and type-family decl for 'F', both include 'a'
in their LHsQTyVars (tcdTyVars and fdTyVars resp).

Ditto any implicit binders in the hsq_implicit field of the LHSQTyVars.

The idea is that the associated type is really a top-level decl in its
own right.  However we are careful to use the same name 'a', so that
we can match things up.

c.f. Note [Associated type tyvar names] in Class.hs
     Note [Family instance declaration binders]
-}</span><span>
</span><a name="line-576"></a><span>
</span><a name="line-577"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XFamDecl"><span class="hs-identifier hs-type">XFamDecl</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-578"></a><span>
</span><a name="line-579"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSynDecl"><span class="hs-identifier hs-type">XSynDecl</span></a><span>      </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-580"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSynDecl"><span class="hs-identifier hs-type">XSynDecl</span></a><span>      </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-comment">-- FVs</span><span>
</span><a name="line-581"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XSynDecl"><span class="hs-identifier hs-type">XSynDecl</span></a><span>      </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-comment">-- FVs</span><span>
</span><a name="line-582"></a><span>
</span><a name="line-583"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDataDecl"><span class="hs-identifier hs-type">XDataDecl</span></a><span>     </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-584"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDataDecl"><span class="hs-identifier hs-type">XDataDecl</span></a><span>     </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier hs-type">DataDeclRn</span></a><span>
</span><a name="line-585"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDataDecl"><span class="hs-identifier hs-type">XDataDecl</span></a><span>     </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier hs-type">DataDeclRn</span></a><span>
</span><a name="line-586"></a><span>
</span><a name="line-587"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XClassDecl"><span class="hs-identifier hs-type">XClassDecl</span></a><span>    </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-588"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XClassDecl"><span class="hs-identifier hs-type">XClassDecl</span></a><span>    </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-comment">-- FVs</span><span>
</span><a name="line-589"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XClassDecl"><span class="hs-identifier hs-type">XClassDecl</span></a><span>    </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-comment">-- FVs</span><span>
</span><a name="line-590"></a><span>
</span><a name="line-591"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXTyClDecl"><span class="hs-identifier hs-type">XXTyClDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-592"></a><span>
</span><a name="line-593"></a><span class="hs-comment">-- Simple classifiers for TyClDecl</span><span>
</span><a name="line-594"></a><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><a name="line-595"></a><span>
</span><a name="line-596"></a><span class="hs-comment">-- | @True@ &lt;=&gt; argument is a @data@\/@newtype@</span><span>
</span><a name="line-597"></a><span class="hs-comment">-- declaration.</span><span>
</span><a name="line-598"></a><span class="hs-identifier">isDataDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094643"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-599"></a><a name="isDataDecl"><a href="HsDecls.html#isDataDecl"><span class="hs-identifier">isDataDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-600"></a><span class="hs-identifier">isDataDecl</span><span> </span><a name="local-6989586621683094669"><a href="#local-6989586621683094669"><span class="hs-identifier">_other</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-601"></a><span>
</span><a name="line-602"></a><span class="hs-comment">-- | type or type instance declaration</span><span>
</span><a name="line-603"></a><span class="hs-identifier">isSynDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094642"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-604"></a><a name="isSynDecl"><a href="HsDecls.html#isSynDecl"><span class="hs-identifier">isSynDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SynDecl"><span class="hs-identifier hs-var">SynDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-605"></a><span class="hs-identifier">isSynDecl</span><span> </span><a name="local-6989586621683094670"><a href="#local-6989586621683094670"><span class="hs-identifier">_other</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-606"></a><span>
</span><a name="line-607"></a><span class="hs-comment">-- | type class</span><span>
</span><a name="line-608"></a><span class="hs-identifier">isClassDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094641"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-609"></a><a name="isClassDecl"><a href="HsDecls.html#isClassDecl"><span class="hs-identifier">isClassDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClassDecl"><span class="hs-identifier hs-var">ClassDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-610"></a><span class="hs-identifier">isClassDecl</span><span> </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-611"></a><span>
</span><a name="line-612"></a><span class="hs-comment">-- | type/data family declaration</span><span>
</span><a name="line-613"></a><span class="hs-identifier">isFamilyDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094640"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-614"></a><a name="isFamilyDecl"><a href="HsDecls.html#isFamilyDecl"><span class="hs-identifier">isFamilyDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-615"></a><span class="hs-identifier">isFamilyDecl</span><span> </span><a name="local-6989586621683094671"><a href="#local-6989586621683094671"><span class="hs-identifier">_other</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-616"></a><span>
</span><a name="line-617"></a><span class="hs-comment">-- | type family declaration</span><span>
</span><a name="line-618"></a><span class="hs-identifier">isTypeFamilyDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094639"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-619"></a><a name="isTypeFamilyDecl"><a href="HsDecls.html#isTypeFamilyDecl"><span class="hs-identifier">isTypeFamilyDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094672"><a href="#local-6989586621683094672"><span class="hs-identifier">info</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094672"><span class="hs-identifier hs-var">info</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-620"></a><span>  </span><a href="HsDecls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-621"></a><span>  </span><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier hs-var">ClosedTypeFamily</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-622"></a><span>  </span><span class="hs-identifier">_</span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-623"></a><span class="hs-identifier">isTypeFamilyDecl</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-624"></a><span>
</span><a name="line-625"></a><span class="hs-comment">-- | open type family info</span><span>
</span><a name="line-626"></a><span class="hs-identifier">isOpenTypeFamilyInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span> </span><a href="#local-6989586621683094638"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-627"></a><a name="isOpenTypeFamilyInfo"><a href="HsDecls.html#isOpenTypeFamilyInfo"><span class="hs-identifier">isOpenTypeFamilyInfo</span></a></a><span> </span><a href="HsDecls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-628"></a><span class="hs-identifier">isOpenTypeFamilyInfo</span><span> </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-629"></a><span>
</span><a name="line-630"></a><span class="hs-comment">-- | closed type family info</span><span>
</span><a name="line-631"></a><span class="hs-identifier">isClosedTypeFamilyInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span> </span><a href="#local-6989586621683094637"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-632"></a><a name="isClosedTypeFamilyInfo"><a href="HsDecls.html#isClosedTypeFamilyInfo"><span class="hs-identifier">isClosedTypeFamilyInfo</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier hs-var">ClosedTypeFamily</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-633"></a><span class="hs-identifier">isClosedTypeFamilyInfo</span><span> </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-634"></a><span>
</span><a name="line-635"></a><span class="hs-comment">-- | data family declaration</span><span>
</span><a name="line-636"></a><span class="hs-identifier">isDataFamilyDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094636"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-637"></a><a name="isDataFamilyDecl"><a href="HsDecls.html#isDataFamilyDecl"><span class="hs-identifier">isDataFamilyDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-638"></a><span class="hs-identifier">isDataFamilyDecl</span><span> </span><a name="local-6989586621683094673"><a href="#local-6989586621683094673"><span class="hs-identifier">_other</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-639"></a><span>
</span><a name="line-640"></a><span class="hs-comment">-- Dealing with names</span><span>
</span><a name="line-641"></a><span>
</span><a name="line-642"></a><span class="hs-identifier">tyFamInstDeclName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094635"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094635"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-643"></a><a name="tyFamInstDeclName"><a href="HsDecls.html#tyFamInstDeclName"><span class="hs-identifier">tyFamInstDeclName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsDecls.html#tyFamInstDeclLName"><span class="hs-identifier hs-var">tyFamInstDeclLName</span></a><span>
</span><a name="line-644"></a><span>
</span><a name="line-645"></a><span class="hs-identifier">tyFamInstDeclLName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094634"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094634"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-646"></a><a name="tyFamInstDeclLName"><a href="HsDecls.html#tyFamInstDeclLName"><span class="hs-identifier">tyFamInstDeclLName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tfid_eqn</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-647"></a><span>                     </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_tycon</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094674"><a href="#local-6989586621683094674"><span class="hs-identifier">ln</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-648"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094674"><span class="hs-identifier hs-var">ln</span></a><span>
</span><a name="line-649"></a><span class="hs-identifier">tyFamInstDeclLName</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XFamEqn"><span class="hs-identifier hs-var">XFamEqn</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-650"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;tyFamInstDeclLName&quot;</span><span>
</span><a name="line-651"></a><span class="hs-identifier">tyFamInstDeclLName</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-652"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;tyFamInstDeclLName&quot;</span><span>
</span><a name="line-653"></a><span>
</span><a name="line-654"></a><span class="hs-identifier">tyClDeclLName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094633"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094633"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-655"></a><a name="tyClDeclLName"><a href="HsDecls.html#tyClDeclLName"><span class="hs-identifier">tyClDeclLName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdLName</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094675"><a href="#local-6989586621683094675"><span class="hs-identifier">ln</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094675"><span class="hs-identifier hs-var">ln</span></a><span>
</span><a name="line-656"></a><span class="hs-identifier">tyClDeclLName</span><span> </span><a name="local-6989586621683094676"><a href="#local-6989586621683094676"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">tcdLName</span><span> </span><a href="#local-6989586621683094676"><span class="hs-identifier hs-var">decl</span></a><span>
</span><a name="line-657"></a><span>
</span><a name="line-658"></a><span class="hs-identifier">tcdName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094632"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094632"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-659"></a><a name="tcdName"><a href="HsDecls.html#tcdName"><span class="hs-identifier">tcdName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="HsDecls.html#tyClDeclLName"><span class="hs-identifier hs-var">tyClDeclLName</span></a><span>
</span><a name="line-660"></a><span>
</span><a name="line-661"></a><span class="hs-identifier">tyClDeclTyVars</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094631"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094631"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-662"></a><a name="tyClDeclTyVars"><a href="HsDecls.html#tyClDeclTyVars"><span class="hs-identifier">tyClDeclTyVars</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094677"><a href="#local-6989586621683094677"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094677"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-663"></a><span class="hs-identifier">tyClDeclTyVars</span><span> </span><a name="local-6989586621683094678"><a href="#local-6989586621683094678"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><a href="#local-6989586621683094678"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-664"></a><span>
</span><a name="line-665"></a><span class="hs-identifier">countTyClDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094630"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span>
</span><a name="line-666"></a><span>        </span><span class="hs-comment">-- class, synonym decls, data, newtype, family decls</span><span>
</span><a name="line-667"></a><a name="countTyClDecls"><a href="HsDecls.html#countTyClDecls"><span class="hs-identifier">countTyClDecls</span></a></a><span> </span><a name="local-6989586621683094679"><a href="#local-6989586621683094679"><span class="hs-identifier">decls</span></a></a><span>
</span><a name="line-668"></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="HsDecls.html#isClassDecl"><span class="hs-identifier hs-var">isClassDecl</span></a><span>    </span><a href="#local-6989586621683094679"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">,</span><span>
</span><a name="line-669"></a><span>    </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="HsDecls.html#isSynDecl"><span class="hs-identifier hs-var">isSynDecl</span></a><span>      </span><a href="#local-6989586621683094679"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- excluding...</span><span>
</span><a name="line-670"></a><span>    </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="#local-6989586621683094680"><span class="hs-identifier hs-var">isDataTy</span></a><span>       </span><a href="#local-6989586621683094679"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- ...family...</span><span>
</span><a name="line-671"></a><span>    </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="#local-6989586621683094681"><span class="hs-identifier hs-var">isNewTy</span></a><span>        </span><a href="#local-6989586621683094679"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- ...instances</span><span>
</span><a name="line-672"></a><span>    </span><a href="Util.html#count"><span class="hs-identifier hs-var">count</span></a><span> </span><a href="HsDecls.html#isFamilyDecl"><span class="hs-identifier hs-var">isFamilyDecl</span></a><span>   </span><a href="#local-6989586621683094679"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">)</span><span>
</span><a name="line-673"></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-674"></a><span>   </span><a name="local-6989586621683094680"><a href="#local-6989586621683094680"><span class="hs-identifier">isDataTy</span></a></a><span> </span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDataDefn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-var">HsDataDefn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dd_ND</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#DataType"><span class="hs-identifier hs-var">DataType</span></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-675"></a><span>   </span><span class="hs-identifier">isDataTy</span><span> </span><span class="hs-identifier">_</span><span>                                                       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-676"></a><span>
</span><a name="line-677"></a><span>   </span><a name="local-6989586621683094681"><a href="#local-6989586621683094681"><span class="hs-identifier">isNewTy</span></a></a><span> </span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDataDefn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-var">HsDataDefn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dd_ND</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#NewType"><span class="hs-identifier hs-var">NewType</span></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-678"></a><span>   </span><span class="hs-identifier">isNewTy</span><span> </span><span class="hs-identifier">_</span><span>                                                      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-679"></a><span>
</span><a name="line-680"></a><span class="hs-comment">-- | Does this declaration have a complete, user-supplied kind signature?</span><span>
</span><a name="line-681"></a><span class="hs-comment">-- See Note [CUSKs: complete user-supplied kind signatures]</span><span>
</span><a name="line-682"></a><span class="hs-identifier">hsDeclHasCusk</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-683"></a><a name="hsDeclHasCusk"><a href="HsDecls.html#hsDeclHasCusk"><span class="hs-identifier">hsDeclHasCusk</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094682"><a href="#local-6989586621683094682"><span class="hs-identifier">fam_decl</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#famDeclHasCusk"><span class="hs-identifier hs-var">famDeclHasCusk</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><a href="#local-6989586621683094682"><span class="hs-identifier hs-var">fam_decl</span></a><span>
</span><a name="line-684"></a><span class="hs-identifier">hsDeclHasCusk</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SynDecl"><span class="hs-identifier hs-var">SynDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094683"><a href="#local-6989586621683094683"><span class="hs-identifier">tyvars</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdRhs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094684"><a href="#local-6989586621683094684"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-685"></a><span>  </span><span class="hs-comment">-- NB: Keep this synchronized with 'getInitialKind'</span><span>
</span><a name="line-686"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier hs-var">hsTvbAllKinded</span></a><span> </span><a href="#local-6989586621683094683"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-6989586621683094685"><span class="hs-identifier hs-var">rhs_annotated</span></a><span> </span><a href="#local-6989586621683094684"><span class="hs-identifier hs-var">rhs</span></a><span>
</span><a name="line-687"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-688"></a><span>    </span><a name="local-6989586621683094685"><a href="#local-6989586621683094685"><span class="hs-identifier">rhs_annotated</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094686"><a href="#local-6989586621683094686"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094686"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-689"></a><span>      </span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094687"><a href="#local-6989586621683094687"><span class="hs-identifier">lty</span></a></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094685"><span class="hs-identifier hs-var">rhs_annotated</span></a><span> </span><a href="#local-6989586621683094687"><span class="hs-identifier hs-var">lty</span></a><span>
</span><a name="line-690"></a><span>      </span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-691"></a><span>      </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-692"></a><span class="hs-identifier">hsDeclHasCusk</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDExt</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#DataDeclRn"><span class="hs-identifier hs-var">DataDeclRn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDataCusk</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094688"><a href="#local-6989586621683094688"><span class="hs-identifier">cusk</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094688"><span class="hs-identifier hs-var">cusk</span></a><span>
</span><a name="line-693"></a><span class="hs-identifier">hsDeclHasCusk</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClassDecl"><span class="hs-identifier hs-var">ClassDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094689"><a href="#local-6989586621683094689"><span class="hs-identifier">tyvars</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier hs-var">hsTvbAllKinded</span></a><span> </span><a href="#local-6989586621683094689"><span class="hs-identifier hs-var">tyvars</span></a><span>
</span><a name="line-694"></a><span class="hs-identifier">hsDeclHasCusk</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XTyClDecl"><span class="hs-identifier hs-var">XTyClDecl</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;hsDeclHasCusk&quot;</span><span>
</span><a name="line-695"></a><span>
</span><a name="line-696"></a><span class="hs-comment">-- Pretty-printing TyClDecl</span><span>
</span><a name="line-697"></a><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><a name="line-698"></a><span>
</span><a name="line-699"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094512"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094511"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><a href="#local-6989586621683094511"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-700"></a><span>
</span><a name="line-701"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094513"><a href="#local-6989586621683094513"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094513"><span class="hs-identifier hs-var">decl</span></a><span>
</span><a name="line-702"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SynDecl"><span class="hs-identifier hs-var">SynDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdLName</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094514"><a href="#local-6989586621683094514"><span class="hs-identifier">ltycon</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094515"><a href="#local-6989586621683094515"><span class="hs-identifier">tyvars</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdFixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094516"><a href="#local-6989586621683094516"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-703"></a><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdRhs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094517"><a href="#local-6989586621683094517"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-704"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-705"></a><span>              </span><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier hs-var">pp_vanilla_decl_head</span></a><span> </span><a href="#local-6989586621683094514"><span class="hs-identifier hs-var">ltycon</span></a><span> </span><a href="#local-6989586621683094515"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><a href="#local-6989586621683094516"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a><span class="hs-special">)</span><span>
</span><a name="line-706"></a><span>          </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094517"><span class="hs-identifier hs-var">rhs</span></a><span class="hs-special">)</span><span>
</span><a name="line-707"></a><span>
</span><a name="line-708"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdLName</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094518"><a href="#local-6989586621683094518"><span class="hs-identifier">ltycon</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094519"><a href="#local-6989586621683094519"><span class="hs-identifier">tyvars</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdFixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094520"><a href="#local-6989586621683094520"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-709"></a><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdDataDefn</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094521"><a href="#local-6989586621683094521"><span class="hs-identifier">defn</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-710"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pp_data_defn"><span class="hs-identifier hs-var">pp_data_defn</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier hs-var">pp_vanilla_decl_head</span></a><span> </span><a href="#local-6989586621683094518"><span class="hs-identifier hs-var">ltycon</span></a><span> </span><a href="#local-6989586621683094519"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><a href="#local-6989586621683094520"><span class="hs-identifier hs-var">fixity</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094521"><span class="hs-identifier hs-var">defn</span></a><span>
</span><a name="line-711"></a><span>
</span><a name="line-712"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClassDecl"><span class="hs-identifier hs-var">ClassDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-identifier">tcdCtxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094522"><a href="#local-6989586621683094522"><span class="hs-identifier">context</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdLName</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094523"><a href="#local-6989586621683094523"><span class="hs-identifier">lclas</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094524"><a href="#local-6989586621683094524"><span class="hs-identifier">tyvars</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-713"></a><span>                    </span><span class="hs-identifier">tcdFixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094525"><a href="#local-6989586621683094525"><span class="hs-identifier">fixity</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-714"></a><span>                    </span><span class="hs-identifier">tcdFDs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094526"><a href="#local-6989586621683094526"><span class="hs-identifier">fds</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-715"></a><span>                    </span><span class="hs-identifier">tcdSigs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094527"><a href="#local-6989586621683094527"><span class="hs-identifier">sigs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdMeths</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094528"><a href="#local-6989586621683094528"><span class="hs-identifier">methods</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-716"></a><span>                    </span><span class="hs-identifier">tcdATs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094529"><a href="#local-6989586621683094529"><span class="hs-identifier">ats</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">tcdATDefs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094530"><a href="#local-6989586621683094530"><span class="hs-identifier">at_defs</span></a></a><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-717"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094527"><span class="hs-identifier hs-var">sigs</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="Bag.html#isEmptyBag"><span class="hs-identifier hs-var">isEmptyBag</span></a><span> </span><a href="#local-6989586621683094528"><span class="hs-identifier hs-var">methods</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094529"><span class="hs-identifier hs-var">ats</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094530"><span class="hs-identifier hs-var">at_defs</span></a><span> </span><span class="hs-comment">-- No &quot;where&quot; part</span><span>
</span><a name="line-718"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094531"><span class="hs-identifier hs-var">top_matter</span></a><span>
</span><a name="line-719"></a><span>
</span><a name="line-720"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>       </span><span class="hs-comment">-- Laid out</span><span>
</span><a name="line-721"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="#local-6989586621683094531"><span class="hs-identifier hs-var">top_matter</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;where&quot;</span><span>
</span><a name="line-722"></a><span>             </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="HsBinds.html#pprDeclList"><span class="hs-identifier hs-var">pprDeclList</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#pprFamilyDecl"><span class="hs-identifier hs-var">pprFamilyDecl</span></a><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094529"><span class="hs-identifier hs-var">ats</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-723"></a><span>                                     </span><span class="hs-identifier hs-var">map</span><span> </span><a href="HsDecls.html#ppr_fam_deflt_eqn"><span class="hs-identifier hs-var">ppr_fam_deflt_eqn</span></a><span> </span><a href="#local-6989586621683094530"><span class="hs-identifier hs-var">at_defs</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-724"></a><span>                                     </span><a href="HsBinds.html#pprLHsBindsForUser"><span class="hs-identifier hs-var">pprLHsBindsForUser</span></a><span> </span><a href="#local-6989586621683094528"><span class="hs-identifier hs-var">methods</span></a><span> </span><a href="#local-6989586621683094527"><span class="hs-identifier hs-var">sigs</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-725"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-726"></a><span>        </span><a name="local-6989586621683094531"><a href="#local-6989586621683094531"><span class="hs-identifier">top_matter</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;class&quot;</span><span>
</span><a name="line-727"></a><span>                    </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier hs-var">pp_vanilla_decl_head</span></a><span> </span><a href="#local-6989586621683094523"><span class="hs-identifier hs-var">lclas</span></a><span> </span><a href="#local-6989586621683094524"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><a href="#local-6989586621683094525"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="#local-6989586621683094522"><span class="hs-identifier hs-var">context</span></a><span>
</span><a name="line-728"></a><span>                    </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Class.html#pprFundeps"><span class="hs-identifier hs-var">pprFundeps</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094526"><span class="hs-identifier hs-var">fds</span></a><span class="hs-special">)</span><span>
</span><a name="line-729"></a><span>
</span><a name="line-730"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XTyClDecl"><span class="hs-identifier hs-var">XTyClDecl</span></a><span> </span><a name="local-6989586621683094532"><a href="#local-6989586621683094532"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094532"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-731"></a><span>
</span><a name="line-732"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094506"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094505"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-733"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><a href="#local-6989586621683094505"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-734"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-var">TyClGroup</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">group_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094507"><a href="#local-6989586621683094507"><span class="hs-identifier">tyclds</span></a></a><span>
</span><a name="line-735"></a><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">group_roles</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094508"><a href="#local-6989586621683094508"><span class="hs-identifier">roles</span></a></a><span>
</span><a name="line-736"></a><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">group_instds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094509"><a href="#local-6989586621683094509"><span class="hs-identifier">instds</span></a></a><span>
</span><a name="line-737"></a><span>                 </span><span class="hs-special">}</span><span>
</span><a name="line-738"></a><span>      </span><span class="hs-special">)</span><span>
</span><a name="line-739"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094507"><span class="hs-identifier hs-var">tyclds</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span>
</span><a name="line-740"></a><span>      </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094508"><span class="hs-identifier hs-var">roles</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span>
</span><a name="line-741"></a><span>      </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094509"><span class="hs-identifier hs-var">instds</span></a><span>
</span><a name="line-742"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XTyClGroup"><span class="hs-identifier hs-var">XTyClGroup</span></a><span> </span><a name="local-6989586621683094510"><a href="#local-6989586621683094510"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094510"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-743"></a><span>
</span><a name="line-744"></a><span class="hs-identifier">pp_vanilla_decl_head</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094629"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-745"></a><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094629"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-746"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094629"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-747"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span>
</span><a name="line-748"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094629"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-749"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-750"></a><a name="pp_vanilla_decl_head"><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier">pp_vanilla_decl_head</span></a></a><span> </span><a name="local-6989586621683094690"><a href="#local-6989586621683094690"><span class="hs-identifier">thing</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094691"><a href="#local-6989586621683094691"><span class="hs-identifier">tyvars</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><a name="local-6989586621683094692"><a href="#local-6989586621683094692"><span class="hs-identifier">fixity</span></a></a><span> </span><a name="local-6989586621683094693"><a href="#local-6989586621683094693"><span class="hs-identifier">context</span></a></a><span>
</span><a name="line-751"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprLHsContext"><span class="hs-identifier hs-var">pprLHsContext</span></a><span> </span><a href="#local-6989586621683094693"><span class="hs-identifier hs-var">context</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094694"><span class="hs-identifier hs-var">pp_tyvars</span></a><span> </span><a href="#local-6989586621683094691"><span class="hs-identifier hs-var">tyvars</span></a><span class="hs-special">]</span><span>
</span><a name="line-752"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-753"></a><span>    </span><a name="local-6989586621683094694"><a href="#local-6989586621683094694"><span class="hs-identifier">pp_tyvars</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621683094695"><a href="#local-6989586621683094695"><span class="hs-identifier">varl</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621683094696"><a href="#local-6989586621683094696"><span class="hs-identifier">varsr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-754"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621683094692"><span class="hs-identifier hs-var">fixity</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="BasicTypes.html#Infix"><span class="hs-identifier hs-var">Infix</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><span class="hs-identifier hs-var">length</span><span> </span><a href="#local-6989586621683094696"><span class="hs-identifier hs-var">varsr</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-755"></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'('</span><span class="hs-special">,</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094695"><span class="hs-identifier hs-var">varl</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094690"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-756"></a><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span class="hs-operator hs-var">.</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">head</span><span> </span><a href="#local-6989586621683094696"><span class="hs-identifier hs-var">varsr</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">')'</span><span>
</span><a name="line-757"></a><span>                </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span class="hs-operator hs-var">.</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">tail</span><span> </span><a href="#local-6989586621683094696"><span class="hs-identifier hs-var">varsr</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-758"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621683094692"><span class="hs-identifier hs-var">fixity</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="BasicTypes.html#Infix"><span class="hs-identifier hs-var">Infix</span></a><span>
</span><a name="line-759"></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094695"><span class="hs-identifier hs-var">varl</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094690"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-760"></a><span>         </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span class="hs-operator hs-var">.</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094696"><span class="hs-identifier hs-var">varsr</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-761"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094690"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-762"></a><span>                  </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span class="hs-operator hs-var">.</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094695"><span class="hs-identifier hs-var">varl</span></a><span class="hs-glyph">:</span><a href="#local-6989586621683094696"><span class="hs-identifier hs-var">varsr</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-763"></a><span>    </span><span class="hs-identifier">pp_tyvars</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094690"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-764"></a><span class="hs-identifier">pp_vanilla_decl_head</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XLHsQTyVars"><span class="hs-identifier hs-var">XLHsQTyVars</span></a><span> </span><a name="local-6989586621683094697"><a href="#local-6989586621683094697"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094697"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-765"></a><span>
</span><a name="line-766"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094628"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-767"></a><a name="pprTyClDeclFlavour"><a href="HsDecls.html#pprTyClDeclFlavour"><span class="hs-identifier">pprTyClDeclFlavour</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClassDecl"><span class="hs-identifier hs-var">ClassDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;class&quot;</span><span>
</span><a name="line-768"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#SynDecl"><span class="hs-identifier hs-var">SynDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span>
</span><a name="line-769"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094698"><a href="#local-6989586621683094698"><span class="hs-identifier">info</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-770"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprFlavour"><span class="hs-identifier hs-var">pprFlavour</span></a><span> </span><a href="#local-6989586621683094698"><span class="hs-identifier hs-var">info</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;family&quot;</span><span>
</span><a name="line-771"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdFam</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#XFamilyDecl"><span class="hs-identifier hs-var">XFamilyDecl</span></a><span> </span><a name="local-6989586621683094699"><a href="#local-6989586621683094699"><span class="hs-identifier">x</span></a></a><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-772"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094699"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-773"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDataDefn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-var">HsDataDefn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dd_ND</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094700"><a href="#local-6989586621683094700"><span class="hs-identifier">nd</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-774"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094700"><span class="hs-identifier hs-var">nd</span></a><span>
</span><a name="line-775"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataDecl"><span class="hs-identifier hs-var">DataDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tcdDataDefn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#XHsDataDefn"><span class="hs-identifier hs-var">XHsDataDefn</span></a><span> </span><a name="local-6989586621683094701"><a href="#local-6989586621683094701"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-776"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094701"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-777"></a><span class="hs-identifier">pprTyClDeclFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XTyClDecl"><span class="hs-identifier hs-var">XTyClDecl</span></a><span> </span><a name="local-6989586621683094702"><a href="#local-6989586621683094702"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094702"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-778"></a><span>
</span><a name="line-779"></a><span>
</span><a name="line-780"></a><span class="hs-comment">{- Note [CUSKs: complete user-supplied kind signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We kind-check declarations differently if they have a complete, user-supplied
kind signature (CUSK). This is because we can safely generalise a CUSKed
declaration before checking all of the others, supporting polymorphic recursion.
See ghc.haskell.org/trac/ghc/wiki/GhcKinds/KindInference#Proposednewstrategy
and #9200 for lots of discussion of how we got here.

PRINCIPLE:
  a type declaration has a CUSK iff we could produce a separate kind signature
  for it, just like a type signature for a function,
  looking only at the header of the declaration.

Examples:
  * data T1 (a :: *-&gt;*) (b :: *) = ....
    -- Has CUSK; equivalant to   T1 :: (*-&gt;*) -&gt; * -&gt; *

 * data T2 a b = ...
   -- No CUSK; we do not want to guess T2 :: * -&gt; * -&gt; *
   -- because the full decl might be   data T a b = MkT (a b)

  * data T3 (a :: k -&gt; *) (b :: *) = ...
    -- CUSK; equivalent to   T3 :: (k -&gt; *) -&gt; * -&gt; *
    -- We lexically generalise over k to get
    --    T3 :: forall k. (k -&gt; *) -&gt; * -&gt; *
    -- The generalisation is here is purely lexical, just like
    --    f3 :: a -&gt; a
    -- means
    --    f3 :: forall a. a -&gt; a

  * data T4 (a :: j k) = ...
     -- CUSK; equivalent to   T4 :: j k -&gt; *
     -- which we lexically generalise to  T4 :: forall j k. j k -&gt; *
     -- and then, if PolyKinds is on, we further generalise to
     --   T4 :: forall kk (j :: kk -&gt; *) (k :: kk). j k -&gt; *
     -- Again this is exactly like what happens as the term level
     -- when you write
     --    f4 :: forall a b. a b -&gt; Int

NOTE THAT
  * A CUSK does /not/ mean that everything about the kind signature is
    fully specified by the user.  Look at T4 and f4: we had do do kind
    inference to figure out the kind-quantification.  But in both cases
    (T4 and f4) that inference is done looking /only/ at the header of T4
    (or signature for f4), not at the definition thereof.

  * The CUSK completely fixes the kind of the type constructor, forever.

  * The precise rules, for each declaration form, for whethher a declaration
    has a CUSK are given in the user manual section &quot;Complete user-supplied
    kind signatures and polymorphic recursion&quot;.  BUt they simply implement
    PRINCIPLE above.

  * Open type families are interesting:
      type family T5 a b :: *
    There simply /is/ no accompanying declaration, so that info is all
    we'll ever get.  So we it has a CUSK by definition, and we default
    any un-fixed kind variables to *.

  * Associated types are a bit tricker:
      class C6 a where
         type family T6 a b :: *
         op :: a Int -&gt; Int
    Here C6 does not have a CUSK (in fact we ultimately discover that
    a :: * -&gt; *).  And hence neither does T6, the associated family,
    because we can't fix its kind until we have settled C6.  Another
    way to say it: unlike a top-level, we /may/ discover more about
    a's kind from C6's definition.

  * A data definition with a top-level :: must explicitly bind all
    kind variables to the right of the ::. See test
    dependent/should_compile/KindLevels, which requires this
    case. (Naturally, any kind variable mentioned before the :: should
    not be bound after it.)

    This last point is much more debatable than the others; see
    Trac #15142 comment:22
-}</span><span>
</span><a name="line-858"></a><span>
</span><a name="line-859"></a><span>
</span><a name="line-860"></a><span class="hs-comment">{- *********************************************************************
*                                                                      *
                         TyClGroup
        Strongly connected components of
      type, class, instance, and role declarations
*                                                                      *
********************************************************************* -}</span><span>
</span><a name="line-867"></a><span>
</span><a name="line-868"></a><span class="hs-comment">{- Note [TyClGroups and dependency analysis]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A TyClGroup represents a strongly connected components of type/class/instance
decls, together with the role annotations for the type/class declarations.

The hs_tyclds :: [TyClGroup] field of a HsGroup is a dependency-order
sequence of strongly-connected components.

Invariants
 * The type and class declarations, group_tyclds, may depend on each
   other, or earlier TyClGroups, but not on later ones

 * The role annotations, group_roles, are role-annotations for some or
   all of the types and classes in group_tyclds (only).

 * The instance declarations, group_instds, may (and usually will)
   depend on group_tyclds, or on earlier TyClGroups, but not on later
   ones.

See Note [Dependency analsis of type, class, and instance decls]
in RnSource for more info.
-}</span><span>
</span><a name="line-890"></a><span>
</span><a name="line-891"></a><span class="hs-comment">-- | Type or Class Group</span><span>
</span><a name="line-892"></a><span class="hs-keyword">data</span><span> </span><a name="TyClGroup"><a href="HsDecls.html#TyClGroup"><span class="hs-identifier">TyClGroup</span></a></a><span> </span><a name="local-6989586621683094326"><a href="#local-6989586621683094326"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-comment">-- See Note [TyClGroups and dependency analysis]</span><span>
</span><a name="line-893"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="TyClGroup"><a href="HsDecls.html#TyClGroup"><span class="hs-identifier">TyClGroup</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="group_ext"><a href="HsDecls.html#group_ext"><span class="hs-identifier">group_ext</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCTyClGroup"><span class="hs-identifier hs-type">XCTyClGroup</span></a><span> </span><a href="#local-6989586621683094326"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-894"></a><span>              </span><span class="hs-special">,</span><span> </span><a name="group_tyclds"><a href="HsDecls.html#group_tyclds"><span class="hs-identifier">group_tyclds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a><span> </span><a href="#local-6989586621683094326"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-895"></a><span>              </span><span class="hs-special">,</span><span> </span><a name="group_roles"><a href="HsDecls.html#group_roles"><span class="hs-identifier">group_roles</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094326"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-896"></a><span>              </span><span class="hs-special">,</span><span> </span><a name="group_instds"><a href="HsDecls.html#group_instds"><span class="hs-identifier">group_instds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span> </span><a href="#local-6989586621683094326"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-897"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XTyClGroup"><a href="HsDecls.html#XTyClGroup"><span class="hs-identifier">XTyClGroup</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXTyClGroup"><span class="hs-identifier hs-type">XXTyClGroup</span></a><span> </span><a href="#local-6989586621683094326"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-898"></a><span>
</span><a name="line-899"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCTyClGroup"><span class="hs-identifier hs-type">XCTyClGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-900"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXTyClGroup"><span class="hs-identifier hs-type">XXTyClGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-901"></a><span>
</span><a name="line-902"></a><span>
</span><a name="line-903"></a><span class="hs-identifier">emptyTyClGroup</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094627"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-904"></a><a name="emptyTyClGroup"><a href="HsDecls.html#emptyTyClGroup"><span class="hs-identifier">emptyTyClGroup</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-var">TyClGroup</span></a><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-905"></a><span>
</span><a name="line-906"></a><span class="hs-identifier">tyClGroupTyClDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><a href="#local-6989586621683094626"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a><span> </span><a href="#local-6989586621683094626"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-907"></a><a name="tyClGroupTyClDecls"><a href="HsDecls.html#tyClGroupTyClDecls"><span class="hs-identifier">tyClGroupTyClDecls</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">concatMap</span><span> </span><span class="hs-identifier">group_tyclds</span><span>
</span><a name="line-908"></a><span>
</span><a name="line-909"></a><span class="hs-identifier">tyClGroupInstDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><a href="#local-6989586621683094625"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span> </span><a href="#local-6989586621683094625"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-910"></a><a name="tyClGroupInstDecls"><a href="HsDecls.html#tyClGroupInstDecls"><span class="hs-identifier">tyClGroupInstDecls</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">concatMap</span><span> </span><span class="hs-identifier">group_instds</span><span>
</span><a name="line-911"></a><span>
</span><a name="line-912"></a><span class="hs-identifier">tyClGroupRoleDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><a href="#local-6989586621683094624"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094624"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-913"></a><a name="tyClGroupRoleDecls"><a href="HsDecls.html#tyClGroupRoleDecls"><span class="hs-identifier">tyClGroupRoleDecls</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">concatMap</span><span> </span><span class="hs-identifier">group_roles</span><span>
</span><a name="line-914"></a><span>
</span><a name="line-915"></a><span class="hs-identifier">mkTyClGroup</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094623"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094623"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-916"></a><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-type">TyClGroup</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094623"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-917"></a><a name="mkTyClGroup"><a href="HsDecls.html#mkTyClGroup"><span class="hs-identifier">mkTyClGroup</span></a></a><span> </span><a name="local-6989586621683094703"><a href="#local-6989586621683094703"><span class="hs-identifier">decls</span></a></a><span> </span><a name="local-6989586621683094704"><a href="#local-6989586621683094704"><span class="hs-identifier">instds</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#TyClGroup"><span class="hs-identifier hs-var">TyClGroup</span></a><span>
</span><a name="line-918"></a><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">group_ext</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#noExt"><span class="hs-identifier hs-var">noExt</span></a><span>
</span><a name="line-919"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">group_tyclds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094703"><span class="hs-identifier hs-var">decls</span></a><span>
</span><a name="line-920"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">group_roles</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-921"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">group_instds</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094704"><span class="hs-identifier hs-var">instds</span></a><span>
</span><a name="line-922"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-923"></a><span>
</span><a name="line-924"></a><span>
</span><a name="line-925"></a><span>
</span><a name="line-926"></a><span class="hs-comment">{- *********************************************************************
*                                                                      *
               Data and type family declarations
*                                                                      *
********************************************************************* -}</span><span>
</span><a name="line-931"></a><span>
</span><a name="line-932"></a><span class="hs-comment">{- Note [FamilyResultSig]
~~~~~~~~~~~~~~~~~~~~~~~~~

This data type represents the return signature of a type family.  Possible
values are:

 * NoSig - the user supplied no return signature:
      type family Id a where ...

 * KindSig - the user supplied the return kind:
      type family Id a :: * where ...

 * TyVarSig - user named the result with a type variable and possibly
   provided a kind signature for that variable:
      type family Id a = r where ...
      type family Id a = (r :: *) where ...

   Naming result of a type family is required if we want to provide
   injectivity annotation for a type family:
      type family Id a = r | r -&gt; a where ...

See also: Note [Injectivity annotation]

Note [Injectivity annotation]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A user can declare a type family to be injective:

   type family Id a = r | r -&gt; a where ...

 * The part after the &quot;|&quot; is called &quot;injectivity annotation&quot;.
 * &quot;r -&gt; a&quot; part is called &quot;injectivity condition&quot;; at the moment terms
   &quot;injectivity annotation&quot; and &quot;injectivity condition&quot; are synonymous
   because we only allow a single injectivity condition.
 * &quot;r&quot; is the &quot;LHS of injectivity condition&quot;. LHS can only contain the
   variable naming the result of a type family.

 * &quot;a&quot; is the &quot;RHS of injectivity condition&quot;. RHS contains space-separated
   type and kind variables representing the arguments of a type
   family. Variables can be omitted if a type family is not injective in
   these arguments. Example:
         type family Foo a b c = d | d -&gt; a c where ...

Note that:
 (a) naming of type family result is required to provide injectivity
     annotation
 (b) for associated types if the result was named then injectivity annotation
     is mandatory. Otherwise result type variable is indistinguishable from
     associated type default.

It is possible that in the future this syntax will be extended to support
more complicated injectivity annotations. For example we could declare that
if we know the result of Plus and one of its arguments we can determine the
other argument:

   type family Plus a b = (r :: Nat) | r a -&gt; b, r b -&gt; a where ...

Here injectivity annotation would consist of two comma-separated injectivity
conditions.

See also Note [Injective type families] in TyCon
-}</span><span>
</span><a name="line-994"></a><span>
</span><a name="line-995"></a><span class="hs-comment">-- | Located type Family Result Signature</span><span>
</span><a name="line-996"></a><span class="hs-keyword">type</span><span> </span><a name="LFamilyResultSig"><a href="HsDecls.html#LFamilyResultSig"><span class="hs-identifier">LFamilyResultSig</span></a></a><span> </span><a name="local-6989586621683094325"><a href="#local-6989586621683094325"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a><span> </span><a href="#local-6989586621683094325"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-997"></a><span>
</span><a name="line-998"></a><span class="hs-comment">-- | type Family Result Signature</span><span>
</span><a name="line-999"></a><span class="hs-keyword">data</span><span> </span><a name="FamilyResultSig"><a href="HsDecls.html#FamilyResultSig"><span class="hs-identifier">FamilyResultSig</span></a></a><span> </span><a name="local-6989586621683094324"><a href="#local-6989586621683094324"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- see Note [FamilyResultSig]</span><span>
</span><a name="line-1000"></a><span>    </span><a name="NoSig"><a href="HsDecls.html#NoSig"><span class="hs-identifier">NoSig</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XNoSig"><span class="hs-identifier hs-type">XNoSig</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1001"></a><span>  </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1002"></a><span>
</span><a name="line-1003"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1004"></a><span>
</span><a name="line-1005"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="KindSig"><a href="HsDecls.html#KindSig"><span class="hs-identifier">KindSig</span></a></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#XCKindSig"><span class="hs-identifier hs-type">XCKindSig</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1006"></a><span>  </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1007"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnOpenP','ApiAnnotation.AnnDcolon',</span><span>
</span><a name="line-1008"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnCloseP'</span><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1011"></a><span>
</span><a name="line-1012"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TyVarSig"><a href="HsDecls.html#TyVarSig"><span class="hs-identifier">TyVarSig</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XTyVarSig"><span class="hs-identifier hs-type">XTyVarSig</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1013"></a><span>  </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1014"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnOpenP','ApiAnnotation.AnnDcolon',</span><span>
</span><a name="line-1015"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnCloseP', 'ApiAnnotation.AnnEqual'</span><span>
</span><a name="line-1016"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XFamilyResultSig"><a href="HsDecls.html#XFamilyResultSig"><span class="hs-identifier">XFamilyResultSig</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXFamilyResultSig"><span class="hs-identifier hs-type">XXFamilyResultSig</span></a><span> </span><a href="#local-6989586621683094324"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1017"></a><span>
</span><a name="line-1018"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1019"></a><span>
</span><a name="line-1020"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XNoSig"><span class="hs-identifier hs-type">XNoSig</span></a><span>            </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1021"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCKindSig"><span class="hs-identifier hs-type">XCKindSig</span></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1022"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTyVarSig"><span class="hs-identifier hs-type">XTyVarSig</span></a><span>         </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1023"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXFamilyResultSig"><span class="hs-identifier hs-type">XXFamilyResultSig</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1024"></a><span>
</span><a name="line-1025"></a><span>
</span><a name="line-1026"></a><span class="hs-comment">-- | Located type Family Declaration</span><span>
</span><a name="line-1027"></a><span class="hs-keyword">type</span><span> </span><a name="LFamilyDecl"><a href="HsDecls.html#LFamilyDecl"><span class="hs-identifier">LFamilyDecl</span></a></a><span> </span><a name="local-6989586621683094323"><a href="#local-6989586621683094323"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span> </span><a href="#local-6989586621683094323"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1028"></a><span>
</span><a name="line-1029"></a><span class="hs-comment">-- | type Family Declaration</span><span>
</span><a name="line-1030"></a><span class="hs-keyword">data</span><span> </span><a name="FamilyDecl"><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier">FamilyDecl</span></a></a><span> </span><a name="local-6989586621683094322"><a href="#local-6989586621683094322"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FamilyDecl"><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier">FamilyDecl</span></a></a><span>
</span><a name="line-1031"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="fdExt"><a href="HsDecls.html#fdExt"><span class="hs-identifier">fdExt</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCFamilyDecl"><span class="hs-identifier hs-type">XCFamilyDecl</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1032"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdInfo"><a href="HsDecls.html#fdInfo"><span class="hs-identifier">fdInfo</span></a></a><span>           </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span>              </span><span class="hs-comment">-- type/data, closed/open</span><span>
</span><a name="line-1033"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdLName"><a href="HsDecls.html#fdLName"><span class="hs-identifier">fdLName</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- type constructor</span><span>
</span><a name="line-1034"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdTyVars"><a href="HsDecls.html#fdTyVars"><span class="hs-identifier">fdTyVars</span></a></a><span>         </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span>              </span><span class="hs-comment">-- type variables</span><span>
</span><a name="line-1035"></a><span>                       </span><span class="hs-comment">-- See Note [TyVar binders for associated declarations]</span><span>
</span><a name="line-1036"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdFixity"><a href="HsDecls.html#fdFixity"><span class="hs-identifier">fdFixity</span></a></a><span>         </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span>                </span><span class="hs-comment">-- Fixity used in the declaration</span><span>
</span><a name="line-1037"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdResultSig"><a href="HsDecls.html#fdResultSig"><span class="hs-identifier">fdResultSig</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#LFamilyResultSig"><span class="hs-identifier hs-type">LFamilyResultSig</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- result signature</span><span>
</span><a name="line-1038"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="fdInjectivityAnn"><a href="HsDecls.html#fdInjectivityAnn"><span class="hs-identifier">fdInjectivityAnn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- optional injectivity ann</span><span>
</span><a name="line-1039"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-1040"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XFamilyDecl"><a href="HsDecls.html#XFamilyDecl"><span class="hs-identifier">XFamilyDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXFamilyDecl"><span class="hs-identifier hs-type">XXFamilyDecl</span></a><span> </span><a href="#local-6989586621683094322"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1041"></a><span>  </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnType',</span><span>
</span><a name="line-1042"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnData', 'ApiAnnotation.AnnFamily',</span><span>
</span><a name="line-1043"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnWhere', 'ApiAnnotation.AnnOpenP',</span><span>
</span><a name="line-1044"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnDcolon', 'ApiAnnotation.AnnCloseP',</span><span>
</span><a name="line-1045"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnEqual', 'ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-1046"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnVbar'</span><span>
</span><a name="line-1047"></a><span>
</span><a name="line-1048"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1049"></a><span>
</span><a name="line-1050"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCFamilyDecl"><span class="hs-identifier hs-type">XCFamilyDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1051"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXFamilyDecl"><span class="hs-identifier hs-type">XXFamilyDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1052"></a><span>
</span><a name="line-1053"></a><span>
</span><a name="line-1054"></a><span class="hs-comment">-- | Located Injectivity Annotation</span><span>
</span><a name="line-1055"></a><span class="hs-keyword">type</span><span> </span><a name="LInjectivityAnn"><a href="HsDecls.html#LInjectivityAnn"><span class="hs-identifier">LInjectivityAnn</span></a></a><span> </span><a name="local-6989586621683094321"><a href="#local-6989586621683094321"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#InjectivityAnn"><span class="hs-identifier hs-type">InjectivityAnn</span></a><span> </span><a href="#local-6989586621683094321"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1056"></a><span>
</span><a name="line-1057"></a><span class="hs-comment">-- | If the user supplied an injectivity annotation it is represented using</span><span>
</span><a name="line-1058"></a><span class="hs-comment">-- InjectivityAnn. At the moment this is a single injectivity condition - see</span><span>
</span><a name="line-1059"></a><span class="hs-comment">-- Note [Injectivity annotation]. `Located name` stores the LHS of injectivity</span><span>
</span><a name="line-1060"></a><span class="hs-comment">-- condition. `[Located name]` stores the RHS of injectivity condition. Example:</span><span>
</span><a name="line-1061"></a><span class="hs-comment">--</span><span>
</span><a name="line-1062"></a><span class="hs-comment">--   type family Foo a b c = r | r -&gt; a c where ...</span><span>
</span><a name="line-1063"></a><span class="hs-comment">--</span><span>
</span><a name="line-1064"></a><span class="hs-comment">-- This will be represented as &quot;InjectivityAnn `r` [`a`, `c`]&quot;</span><span>
</span><a name="line-1065"></a><span class="hs-keyword">data</span><span> </span><a name="InjectivityAnn"><a href="HsDecls.html#InjectivityAnn"><span class="hs-identifier">InjectivityAnn</span></a></a><span> </span><a name="local-6989586621683094320"><a href="#local-6989586621683094320"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1066"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="InjectivityAnn"><a href="HsDecls.html#InjectivityAnn"><span class="hs-identifier">InjectivityAnn</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094320"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094320"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1067"></a><span>  </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1068"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnRarrow', 'ApiAnnotation.AnnVbar'</span><span>
</span><a name="line-1069"></a><span>
</span><a name="line-1070"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1071"></a><span>
</span><a name="line-1072"></a><span class="hs-keyword">data</span><span> </span><a name="FamilyInfo"><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier">FamilyInfo</span></a></a><span> </span><a name="local-6989586621683094319"><a href="#local-6989586621683094319"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1073"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="DataFamily"><a href="HsDecls.html#DataFamily"><span class="hs-identifier">DataFamily</span></a></a><span>
</span><a name="line-1074"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="OpenTypeFamily"><a href="HsDecls.html#OpenTypeFamily"><span class="hs-identifier">OpenTypeFamily</span></a></a><span>
</span><a name="line-1075"></a><span>     </span><span class="hs-comment">-- | 'Nothing' if we're in an hs-boot file and the user</span><span>
</span><a name="line-1076"></a><span>     </span><span class="hs-comment">-- said &quot;type family Foo x where ..&quot;</span><span>
</span><a name="line-1077"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ClosedTypeFamily"><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier">ClosedTypeFamily</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyFamInstEqn"><span class="hs-identifier hs-type">LTyFamInstEqn</span></a><span> </span><a href="#local-6989586621683094319"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1078"></a><span>
</span><a name="line-1079"></a><span class="hs-comment">-- | Does this family declaration have a complete, user-supplied kind signature?</span><span>
</span><a name="line-1080"></a><span class="hs-comment">-- See Note [CUSKs: complete user-supplied kind signatures]</span><span>
</span><a name="line-1081"></a><span class="hs-identifier">famDeclHasCusk</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1082"></a><span>                   </span><span class="hs-comment">-- ^ if associated, does the enclosing class have a CUSK?</span><span>
</span><a name="line-1083"></a><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span> </span><a href="#local-6989586621683094622"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1084"></a><a name="famDeclHasCusk"><a href="HsDecls.html#famDeclHasCusk"><span class="hs-identifier">famDeclHasCusk</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdInfo</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier hs-var">ClosedTypeFamily</span></a><span> </span><span class="hs-identifier">_</span><span>
</span><a name="line-1085"></a><span>                             </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdTyVars</span><span>    </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094705"><a href="#local-6989586621683094705"><span class="hs-identifier">tyvars</span></a></a><span>
</span><a name="line-1086"></a><span>                             </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdResultSig</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094706"><a href="#local-6989586621683094706"><span class="hs-identifier">resultSig</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1087"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier hs-var">hsTvbAllKinded</span></a><span> </span><a href="#local-6989586621683094705"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="HsDecls.html#hasReturnKindSignature"><span class="hs-identifier hs-var">hasReturnKindSignature</span></a><span> </span><a href="#local-6989586621683094706"><span class="hs-identifier hs-var">resultSig</span></a><span>
</span><a name="line-1088"></a><span class="hs-identifier">famDeclHasCusk</span><span> </span><a name="local-6989586621683094707"><a href="#local-6989586621683094707"><span class="hs-identifier">mb_class_cusk</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094707"><span class="hs-identifier hs-var">mb_class_cusk</span></a><span> </span><span class="hs-special">`</span><a href="Maybes.html#orElse"><span class="hs-identifier hs-var">orElse</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1089"></a><span>        </span><span class="hs-comment">-- all un-associated open families have CUSKs</span><span>
</span><a name="line-1090"></a><span>
</span><a name="line-1091"></a><span class="hs-comment">-- | Does this family declaration have user-supplied return kind signature?</span><span>
</span><a name="line-1092"></a><span class="hs-identifier">hasReturnKindSignature</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a><span> </span><a href="#local-6989586621683094621"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1093"></a><a name="hasReturnKindSignature"><a href="HsDecls.html#hasReturnKindSignature"><span class="hs-identifier">hasReturnKindSignature</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#NoSig"><span class="hs-identifier hs-var">NoSig</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1094"></a><span class="hs-identifier">hasReturnKindSignature</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyVarSig"><span class="hs-identifier hs-var">TyVarSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1095"></a><span class="hs-identifier">hasReturnKindSignature</span><span> </span><span class="hs-identifier">_</span><span>                                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1096"></a><span>
</span><a name="line-1097"></a><span class="hs-comment">-- | Maybe return name of the result type variable</span><span>
</span><a name="line-1098"></a><span class="hs-identifier">resultVariableName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a><span> </span><a href="#local-6989586621683094620"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094620"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-1099"></a><a name="resultVariableName"><a href="HsDecls.html#resultVariableName"><span class="hs-identifier">resultVariableName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyVarSig"><span class="hs-identifier hs-var">TyVarSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094708"><a href="#local-6989586621683094708"><span class="hs-identifier">sig</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621683094708"><span class="hs-identifier hs-var">sig</span></a><span>
</span><a name="line-1100"></a><span class="hs-identifier">resultVariableName</span><span> </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-1101"></a><span>
</span><a name="line-1102"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094496"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094495"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1103"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span> </span><a href="#local-6989586621683094495"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1104"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprFamilyDecl"><span class="hs-identifier hs-var">pprFamilyDecl</span></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>
</span><a name="line-1105"></a><span>
</span><a name="line-1106"></a><span class="hs-identifier">pprFamilyDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094619"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1107"></a><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094619"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1108"></a><a name="pprFamilyDecl"><a href="HsDecls.html#pprFamilyDecl"><span class="hs-identifier">pprFamilyDecl</span></a></a><span> </span><a name="local-6989586621683094709"><a href="#local-6989586621683094709"><span class="hs-identifier">top_level</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyDecl"><span class="hs-identifier hs-var">FamilyDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fdInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094710"><a href="#local-6989586621683094710"><span class="hs-identifier">info</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdLName</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094711"><a href="#local-6989586621683094711"><span class="hs-identifier">ltycon</span></a></a><span>
</span><a name="line-1109"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdTyVars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094712"><a href="#local-6989586621683094712"><span class="hs-identifier">tyvars</span></a></a><span>
</span><a name="line-1110"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdFixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094713"><a href="#local-6989586621683094713"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-1111"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdResultSig</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094714"><a href="#local-6989586621683094714"><span class="hs-identifier">result</span></a></a><span>
</span><a name="line-1112"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fdInjectivityAnn</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094715"><a href="#local-6989586621683094715"><span class="hs-identifier">mb_inj</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1113"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="HsDecls.html#pprFlavour"><span class="hs-identifier hs-var">pprFlavour</span></a><span> </span><a href="#local-6989586621683094710"><span class="hs-identifier hs-var">info</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094716"><span class="hs-identifier hs-var">pp_top_level</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1114"></a><span>           </span><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier hs-var">pp_vanilla_decl_head</span></a><span> </span><a href="#local-6989586621683094711"><span class="hs-identifier hs-var">ltycon</span></a><span> </span><a href="#local-6989586621683094712"><span class="hs-identifier hs-var">tyvars</span></a><span> </span><a href="#local-6989586621683094713"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1115"></a><span>           </span><a href="#local-6989586621683094717"><span class="hs-identifier hs-var">pp_kind</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094718"><span class="hs-identifier hs-var">pp_inj</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094719"><span class="hs-identifier hs-var">pp_where</span></a><span>
</span><a name="line-1116"></a><span>         </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621683094720"><span class="hs-identifier hs-var">pp_eqns</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1117"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1118"></a><span>    </span><a name="local-6989586621683094716"><a href="#local-6989586621683094716"><span class="hs-identifier">pp_top_level</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094709"><span class="hs-identifier hs-var">top_level</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1119"></a><span>                     </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;family&quot;</span><span>
</span><a name="line-1120"></a><span>                     </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1121"></a><span>
</span><a name="line-1122"></a><span>    </span><a name="local-6989586621683094717"><a href="#local-6989586621683094717"><span class="hs-identifier">pp_kind</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094714"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1123"></a><span>                </span><a href="HsDecls.html#NoSig"><span class="hs-identifier hs-var">NoSig</span></a><span>    </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1124"></a><span>                </span><a href="HsDecls.html#KindSig"><span class="hs-identifier hs-var">KindSig</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094721"><a href="#local-6989586621683094721"><span class="hs-identifier">kind</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094721"><span class="hs-identifier hs-var">kind</span></a><span>
</span><a name="line-1125"></a><span>                </span><a href="HsDecls.html#TyVarSig"><span class="hs-identifier hs-var">TyVarSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094722"><a href="#local-6989586621683094722"><span class="hs-identifier">tv_bndr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;=&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094722"><span class="hs-identifier hs-var">tv_bndr</span></a><span>
</span><a name="line-1126"></a><span>                </span><a href="HsDecls.html#XFamilyResultSig"><span class="hs-identifier hs-var">XFamilyResultSig</span></a><span> </span><a name="local-6989586621683094723"><a href="#local-6989586621683094723"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094723"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1127"></a><span>    </span><a name="local-6989586621683094718"><a href="#local-6989586621683094718"><span class="hs-identifier">pp_inj</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094715"><span class="hs-identifier hs-var">mb_inj</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1128"></a><span>               </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#InjectivityAnn"><span class="hs-identifier hs-var">InjectivityAnn</span></a><span> </span><a name="local-6989586621683094724"><a href="#local-6989586621683094724"><span class="hs-identifier">lhs</span></a></a><span> </span><a name="local-6989586621683094725"><a href="#local-6989586621683094725"><span class="hs-identifier">rhs</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1129"></a><span>                 </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094724"><span class="hs-identifier hs-var">lhs</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094725"><span class="hs-identifier hs-var">rhs</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1130"></a><span>               </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1131"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621683094719"><a href="#local-6989586621683094719"><span class="hs-identifier">pp_where</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621683094720"><a href="#local-6989586621683094720"><span class="hs-identifier">pp_eqns</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094710"><span class="hs-identifier hs-var">info</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1132"></a><span>      </span><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier hs-var">ClosedTypeFamily</span></a><span> </span><a name="local-6989586621683094726"><a href="#local-6989586621683094726"><span class="hs-identifier">mb_eqns</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1133"></a><span>        </span><span class="hs-special">(</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;where&quot;</span><span>
</span><a name="line-1134"></a><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094726"><span class="hs-identifier hs-var">mb_eqns</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1135"></a><span>            </span><span class="hs-identifier hs-var">Nothing</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;..&quot;</span><span>
</span><a name="line-1136"></a><span>            </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094727"><a href="#local-6989586621683094727"><span class="hs-identifier">eqns</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ppr_fam_inst_eqn"><span class="hs-identifier hs-var">ppr_fam_inst_eqn</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094727"><span class="hs-identifier hs-var">eqns</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1137"></a><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1138"></a><span class="hs-identifier">pprFamilyDecl</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XFamilyDecl"><span class="hs-identifier hs-var">XFamilyDecl</span></a><span> </span><a name="local-6989586621683094728"><a href="#local-6989586621683094728"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094728"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1139"></a><span>
</span><a name="line-1140"></a><span class="hs-identifier">pprFlavour</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span> </span><a href="#local-6989586621683094618"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1141"></a><a name="pprFlavour"><a href="HsDecls.html#pprFlavour"><span class="hs-identifier">pprFlavour</span></a></a><span> </span><a href="HsDecls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;data&quot;</span><span>
</span><a name="line-1142"></a><span class="hs-identifier">pprFlavour</span><span> </span><a href="HsDecls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span>
</span><a name="line-1143"></a><span class="hs-identifier">pprFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClosedTypeFamily"><span class="hs-identifier hs-var">ClosedTypeFamily</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span>
</span><a name="line-1144"></a><span>
</span><a name="line-1145"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a><span> </span><a href="#local-6989586621683094493"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1146"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-6989586621683094494"><a href="#local-6989586621683094494"><span class="hs-identifier">info</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprFlavour"><span class="hs-identifier hs-var">pprFlavour</span></a><span> </span><a href="#local-6989586621683094494"><span class="hs-identifier hs-var">info</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;family&quot;</span><span>
</span><a name="line-1147"></a><span>
</span><a name="line-1148"></a><span>
</span><a name="line-1149"></a><span>
</span><a name="line-1150"></a><span class="hs-comment">{- *********************************************************************
*                                                                      *
               Data types and data constructors
*                                                                      *
********************************************************************* -}</span><span>
</span><a name="line-1155"></a><span>
</span><a name="line-1156"></a><span class="hs-comment">-- | Haskell Data type Definition</span><span>
</span><a name="line-1157"></a><span class="hs-keyword">data</span><span> </span><a name="HsDataDefn"><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier">HsDataDefn</span></a></a><span> </span><a name="local-6989586621683094318"><a href="#local-6989586621683094318"><span class="hs-identifier">pass</span></a></a><span>   </span><span class="hs-comment">-- The payload of a data type defn</span><span>
</span><a name="line-1158"></a><span>                       </span><span class="hs-comment">-- Used *both* for vanilla data declarations,</span><span>
</span><a name="line-1159"></a><span>                       </span><span class="hs-comment">--       *and* for data family instances</span><span>
</span><a name="line-1160"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | Declares a data type or newtype, giving its constructors</span><span>
</span><a name="line-1161"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-1162"></a><span>    </span><span class="hs-comment">--  data/newtype T a = &lt;constrs&gt;</span><span>
</span><a name="line-1163"></a><span>    </span><span class="hs-comment">--  data/newtype instance T [a] = &lt;constrs&gt;</span><span>
</span><a name="line-1164"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-1165"></a><span>    </span><a name="HsDataDefn"><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier">HsDataDefn</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="dd_ext"><a href="HsDecls.html#dd_ext"><span class="hs-identifier">dd_ext</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCHsDataDefn"><span class="hs-identifier hs-type">XCHsDataDefn</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>
</span><a name="line-1166"></a><span>                 </span><a name="dd_ND"><a href="HsDecls.html#dd_ND"><span class="hs-identifier">dd_ND</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a><span class="hs-special">,</span><span>
</span><a name="line-1167"></a><span>                 </span><a name="dd_ctxt"><a href="HsDecls.html#dd_ctxt"><span class="hs-identifier">dd_ctxt</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>           </span><span class="hs-comment">-- ^ Context</span><span>
</span><a name="line-1168"></a><span>                 </span><a name="dd_cType"><a href="HsDecls.html#dd_cType"><span class="hs-identifier">dd_cType</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1169"></a><span>                 </span><a name="dd_kindSig"><a href="HsDecls.html#dd_kindSig"><span class="hs-identifier">dd_kindSig</span></a></a><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1170"></a><span>                     </span><span class="hs-comment">-- ^ Optional kind signature.</span><span>
</span><a name="line-1171"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-1172"></a><span>                     </span><span class="hs-comment">-- @(Just k)@ for a GADT-style @data@,</span><span>
</span><a name="line-1173"></a><span>                     </span><span class="hs-comment">-- or @data instance@ decl, with explicit kind sig</span><span>
</span><a name="line-1174"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-1175"></a><span>                     </span><span class="hs-comment">-- Always @Nothing@ for H98-syntax decls</span><span>
</span><a name="line-1176"></a><span>
</span><a name="line-1177"></a><span>                 </span><a name="dd_cons"><a href="HsDecls.html#dd_cons"><span class="hs-identifier">dd_cons</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-1178"></a><span>                     </span><span class="hs-comment">-- ^ Data constructors</span><span>
</span><a name="line-1179"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-1180"></a><span>                     </span><span class="hs-comment">-- For @data T a = T1 | T2 a@</span><span>
</span><a name="line-1181"></a><span>                     </span><span class="hs-comment">--   the 'LConDecl's all have 'ConDeclH98'.</span><span>
</span><a name="line-1182"></a><span>                     </span><span class="hs-comment">-- For @data T a where { T1 :: T a }@</span><span>
</span><a name="line-1183"></a><span>                     </span><span class="hs-comment">--   the 'LConDecls' all have 'ConDeclGADT'.</span><span>
</span><a name="line-1184"></a><span>
</span><a name="line-1185"></a><span>                 </span><a name="dd_derivs"><a href="HsDecls.html#dd_derivs"><span class="hs-identifier">dd_derivs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span>  </span><span class="hs-comment">-- ^ Optional 'deriving' claues</span><span>
</span><a name="line-1186"></a><span>
</span><a name="line-1187"></a><span>             </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1188"></a><span>   </span><span class="hs-special">}</span><span>
</span><a name="line-1189"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsDataDefn"><a href="HsDecls.html#XHsDataDefn"><span class="hs-identifier">XHsDataDefn</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsDataDefn"><span class="hs-identifier hs-type">XXHsDataDefn</span></a><span> </span><a href="#local-6989586621683094318"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1190"></a><span>
</span><a name="line-1191"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCHsDataDefn"><span class="hs-identifier hs-type">XCHsDataDefn</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1192"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsDataDefn"><span class="hs-identifier hs-type">XXHsDataDefn</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1193"></a><span>
</span><a name="line-1194"></a><span class="hs-comment">-- | Haskell Deriving clause</span><span>
</span><a name="line-1195"></a><span class="hs-keyword">type</span><span> </span><a name="HsDeriving"><a href="HsDecls.html#HsDeriving"><span class="hs-identifier">HsDeriving</span></a></a><span> </span><a name="local-6989586621683094317"><a href="#local-6989586621683094317"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LHsDerivingClause"><span class="hs-identifier hs-type">LHsDerivingClause</span></a><span> </span><a href="#local-6989586621683094317"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1196"></a><span>  </span><span class="hs-comment">-- ^ The optional @deriving@ clauses of a data declaration. &quot;Clauses&quot; is</span><span>
</span><a name="line-1197"></a><span>  </span><span class="hs-comment">-- plural because one can specify multiple deriving clauses using the</span><span>
</span><a name="line-1198"></a><span>  </span><span class="hs-comment">-- @-XDerivingStrategies@ language extension.</span><span>
</span><a name="line-1199"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-1200"></a><span>  </span><span class="hs-comment">-- The list of 'LHsDerivingClause's corresponds to exactly what the user</span><span>
</span><a name="line-1201"></a><span>  </span><span class="hs-comment">-- requested to derive, in order. If no deriving clauses were specified,</span><span>
</span><a name="line-1202"></a><span>  </span><span class="hs-comment">-- the list is empty.</span><span>
</span><a name="line-1203"></a><span>
</span><a name="line-1204"></a><span class="hs-keyword">type</span><span> </span><a name="LHsDerivingClause"><a href="HsDecls.html#LHsDerivingClause"><span class="hs-identifier">LHsDerivingClause</span></a></a><span> </span><a name="local-6989586621683094316"><a href="#local-6989586621683094316"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier hs-type">HsDerivingClause</span></a><span> </span><a href="#local-6989586621683094316"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1205"></a><span>
</span><a name="line-1206"></a><span class="hs-comment">-- | A single @deriving@ clause of a data declaration.</span><span>
</span><a name="line-1207"></a><span class="hs-comment">--</span><span>
</span><a name="line-1208"></a><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1209"></a><span class="hs-comment">--       'ApiAnnotation.AnnDeriving', 'ApiAnnotation.AnnStock',</span><span>
</span><a name="line-1210"></a><span class="hs-comment">--       'ApiAnnotation.AnnAnyClass', 'Api.AnnNewtype',</span><span>
</span><a name="line-1211"></a><span class="hs-comment">--       'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1212"></a><span class="hs-keyword">data</span><span> </span><a name="HsDerivingClause"><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier">HsDerivingClause</span></a></a><span> </span><a name="local-6989586621683094315"><a href="#local-6989586621683094315"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1213"></a><span>  </span><span class="hs-comment">-- See Note [Deriving strategies] in TcDeriv</span><span>
</span><a name="line-1214"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsDerivingClause"><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier">HsDerivingClause</span></a></a><span>
</span><a name="line-1215"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="deriv_clause_ext"><a href="HsDecls.html#deriv_clause_ext"><span class="hs-identifier">deriv_clause_ext</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCHsDerivingClause"><span class="hs-identifier hs-type">XCHsDerivingClause</span></a><span> </span><a href="#local-6989586621683094315"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1216"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="deriv_clause_strategy"><a href="HsDecls.html#deriv_clause_strategy"><span class="hs-identifier">deriv_clause_strategy</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#LDerivStrategy"><span class="hs-identifier hs-type">LDerivStrategy</span></a><span> </span><a href="#local-6989586621683094315"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1217"></a><span>      </span><span class="hs-comment">-- ^ The user-specified strategy (if any) to use when deriving</span><span>
</span><a name="line-1218"></a><span>      </span><span class="hs-comment">-- 'deriv_clause_tys'.</span><span>
</span><a name="line-1219"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="deriv_clause_tys"><a href="HsDecls.html#deriv_clause_tys"><span class="hs-identifier">deriv_clause_tys</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621683094315"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1220"></a><span>      </span><span class="hs-comment">-- ^ The types to derive.</span><span>
</span><a name="line-1221"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-1222"></a><span>      </span><span class="hs-comment">-- It uses 'LHsSigType's because, with @-XGeneralizedNewtypeDeriving@,</span><span>
</span><a name="line-1223"></a><span>      </span><span class="hs-comment">-- we can mention type variables that aren't bound by the datatype, e.g.</span><span>
</span><a name="line-1224"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-1225"></a><span>      </span><span class="hs-comment">-- &gt; data T b = ... deriving (C [a])</span><span>
</span><a name="line-1226"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-1227"></a><span>      </span><span class="hs-comment">-- should produce a derived instance for @C [a] (T b)@.</span><span>
</span><a name="line-1228"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-1229"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XHsDerivingClause"><a href="HsDecls.html#XHsDerivingClause"><span class="hs-identifier">XHsDerivingClause</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXHsDerivingClause"><span class="hs-identifier hs-type">XXHsDerivingClause</span></a><span> </span><a href="#local-6989586621683094315"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1230"></a><span>
</span><a name="line-1231"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCHsDerivingClause"><span class="hs-identifier hs-type">XCHsDerivingClause</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1232"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXHsDerivingClause"><span class="hs-identifier hs-type">XXHsDerivingClause</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1233"></a><span>
</span><a name="line-1234"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094480"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094479"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1235"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier hs-type">HsDerivingClause</span></a><span> </span><a href="#local-6989586621683094479"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1236"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDerivingClause"><span class="hs-identifier hs-var">HsDerivingClause</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deriv_clause_strategy</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094481"><a href="#local-6989586621683094481"><span class="hs-identifier">dcs</span></a></a><span>
</span><a name="line-1237"></a><span>                        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">deriv_clause_tys</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094482"><a href="#local-6989586621683094482"><span class="hs-identifier">dct</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1238"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;deriving&quot;</span><span>
</span><a name="line-1239"></a><span>           </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094484"><span class="hs-identifier hs-var">pp_strat_before</span></a><span>
</span><a name="line-1240"></a><span>           </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094483"><span class="hs-identifier hs-var">pp_dct</span></a><span> </span><a href="#local-6989586621683094482"><span class="hs-identifier hs-var">dct</span></a><span>
</span><a name="line-1241"></a><span>           </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094485"><span class="hs-identifier hs-var">pp_strat_after</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1242"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-1243"></a><span>        </span><span class="hs-comment">-- This complexity is to distinguish between</span><span>
</span><a name="line-1244"></a><span>        </span><span class="hs-comment">--    deriving Show</span><span>
</span><a name="line-1245"></a><span>        </span><span class="hs-comment">--    deriving (Show)</span><span>
</span><a name="line-1246"></a><span>        </span><a name="local-6989586621683094483"><a href="#local-6989586621683094483"><span class="hs-identifier">pp_dct</span></a></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094486"><a href="#local-6989586621683094486"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">]</span><span>
</span><a name="line-1247"></a><span>                 </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#parenthesizeHsType"><span class="hs-identifier hs-var">parenthesizeHsType</span></a><span> </span><a href="BasicTypes.html#appPrec"><span class="hs-identifier hs-var">appPrec</span></a><span> </span><a href="#local-6989586621683094486"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1248"></a><span>        </span><span class="hs-identifier">pp_dct</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621683094482"><span class="hs-identifier hs-var">dct</span></a><span class="hs-special">)</span><span>
</span><a name="line-1249"></a><span>
</span><a name="line-1250"></a><span>        </span><span class="hs-comment">-- @via@ is unique in that in comes /after/ the class being derived,</span><span>
</span><a name="line-1251"></a><span>        </span><span class="hs-comment">-- so we must special-case it.</span><span>
</span><a name="line-1252"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621683094484"><a href="#local-6989586621683094484"><span class="hs-identifier">pp_strat_before</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621683094485"><a href="#local-6989586621683094485"><span class="hs-identifier">pp_strat_after</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1253"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094481"><span class="hs-identifier hs-var">dcs</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1254"></a><span>            </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-keyword">via</span><span class="hs-glyph">@</span><a href="HsDecls.html#ViaStrategy"><span class="hs-identifier hs-var">ViaStrategy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-keyword">via</span><span class="hs-special">)</span><span>
</span><a name="line-1255"></a><span>            </span><span class="hs-identifier">_</span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ppDerivStrategy"><span class="hs-identifier hs-var">ppDerivStrategy</span></a><span> </span><a href="#local-6989586621683094481"><span class="hs-identifier hs-var">dcs</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1256"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XHsDerivingClause"><span class="hs-identifier hs-var">XHsDerivingClause</span></a><span> </span><a name="local-6989586621683094488"><a href="#local-6989586621683094488"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094488"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1257"></a><span>
</span><a name="line-1258"></a><span class="hs-keyword">data</span><span> </span><a name="NewOrData"><a href="HsDecls.html#NewOrData"><span class="hs-identifier">NewOrData</span></a></a><span>
</span><a name="line-1259"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NewType"><a href="HsDecls.html#NewType"><span class="hs-identifier">NewType</span></a></a><span>                     </span><span class="hs-comment">-- ^ @newtype Blah ...@</span><span>
</span><a name="line-1260"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DataType"><a href="HsDecls.html#DataType"><span class="hs-identifier">DataType</span></a></a><span>                    </span><span class="hs-comment">-- ^ @data Blah ...@</span><span>
</span><a name="line-1261"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span> </span><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- Needed because Demand derives Eq</span><span>
</span><a name="line-1262"></a><span>
</span><a name="line-1263"></a><span class="hs-comment">-- | Convert a 'NewOrData' to a 'TyConFlavour'</span><span>
</span><a name="line-1264"></a><span class="hs-identifier">newOrDataToFlavour</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="TyCon.html#TyConFlavour"><span class="hs-identifier hs-type">TyConFlavour</span></a><span>
</span><a name="line-1265"></a><a name="newOrDataToFlavour"><a href="HsDecls.html#newOrDataToFlavour"><span class="hs-identifier">newOrDataToFlavour</span></a></a><span> </span><a href="HsDecls.html#NewType"><span class="hs-identifier hs-var">NewType</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="TyCon.html#NewtypeFlavour"><span class="hs-identifier hs-var">NewtypeFlavour</span></a><span>
</span><a name="line-1266"></a><span class="hs-identifier">newOrDataToFlavour</span><span> </span><a href="HsDecls.html#DataType"><span class="hs-identifier hs-var">DataType</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCon.html#DataTypeFlavour"><span class="hs-identifier hs-var">DataTypeFlavour</span></a><span>
</span><a name="line-1267"></a><span>
</span><a name="line-1268"></a><span class="hs-comment">-- | Located data Constructor Declaration</span><span>
</span><a name="line-1269"></a><span class="hs-keyword">type</span><span> </span><a name="LConDecl"><a href="HsDecls.html#LConDecl"><span class="hs-identifier">LConDecl</span></a></a><span> </span><a name="local-6989586621683094314"><a href="#local-6989586621683094314"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span> </span><a href="#local-6989586621683094314"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1270"></a><span>      </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnSemi' when</span><span>
</span><a name="line-1271"></a><span>      </span><span class="hs-comment">--   in a GADT constructor list</span><span>
</span><a name="line-1272"></a><span>
</span><a name="line-1273"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1274"></a><span>
</span><a name="line-1275"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-1276"></a><span class="hs-comment">--</span><span>
</span><a name="line-1277"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-1278"></a><span class="hs-comment">-- data T b = forall a. Eq a =&gt; MkT a b</span><span>
</span><a name="line-1279"></a><span class="hs-comment">--   MkT :: forall b a. Eq a =&gt; MkT a b</span><span>
</span><a name="line-1280"></a><span class="hs-comment">--</span><span>
</span><a name="line-1281"></a><span class="hs-comment">-- data T b where</span><span>
</span><a name="line-1282"></a><span class="hs-comment">--      MkT1 :: Int -&gt; T Int</span><span>
</span><a name="line-1283"></a><span class="hs-comment">--</span><span>
</span><a name="line-1284"></a><span class="hs-comment">-- data T = Int `MkT` Int</span><span>
</span><a name="line-1285"></a><span class="hs-comment">--        | MkT2</span><span>
</span><a name="line-1286"></a><span class="hs-comment">--</span><span>
</span><a name="line-1287"></a><span class="hs-comment">-- data T a where</span><span>
</span><a name="line-1288"></a><span class="hs-comment">--      Int `MkT` Int :: T Int</span><span>
</span><a name="line-1289"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-1290"></a><span class="hs-comment">--</span><span>
</span><a name="line-1291"></a><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId's : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-1292"></a><span class="hs-comment">--            'ApiAnnotation.AnnDotdot','ApiAnnotation.AnnCLose',</span><span>
</span><a name="line-1293"></a><span class="hs-comment">--            'ApiAnnotation.AnnEqual','ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-1294"></a><span class="hs-comment">--            'ApiAnnotation.AnnDarrow','ApiAnnotation.AnnDarrow',</span><span>
</span><a name="line-1295"></a><span class="hs-comment">--            'ApiAnnotation.AnnForall','ApiAnnotation.AnnDot'</span><span>
</span><a name="line-1296"></a><span>
</span><a name="line-1297"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1298"></a><span>
</span><a name="line-1299"></a><span class="hs-comment">-- | data Constructor Declaration</span><span>
</span><a name="line-1300"></a><span class="hs-keyword">data</span><span> </span><a name="ConDecl"><a href="HsDecls.html#ConDecl"><span class="hs-identifier">ConDecl</span></a></a><span> </span><a name="local-6989586621683094313"><a href="#local-6989586621683094313"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1301"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ConDeclGADT"><a href="HsDecls.html#ConDeclGADT"><span class="hs-identifier">ConDeclGADT</span></a></a><span>
</span><a name="line-1302"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="con_g_ext"><a href="HsDecls.html#con_g_ext"><span class="hs-identifier">con_g_ext</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XConDeclGADT"><span class="hs-identifier hs-type">XConDeclGADT</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1303"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_names"><a href="HsDecls.html#con_names"><span class="hs-identifier">con_names</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1304"></a><span>
</span><a name="line-1305"></a><span>      </span><span class="hs-comment">-- The next four fields describe the type after the '::'</span><span>
</span><a name="line-1306"></a><span>      </span><span class="hs-comment">-- See Note [GADT abstract syntax]</span><span>
</span><a name="line-1307"></a><span>      </span><span class="hs-comment">-- The following field is Located to anchor API Annotations,</span><span>
</span><a name="line-1308"></a><span>      </span><span class="hs-comment">-- AnnForall and AnnDot.</span><span>
</span><a name="line-1309"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_forall"><a href="HsDecls.html#con_forall"><span class="hs-identifier">con_forall</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-identifier hs-type">Bool</span><span>      </span><span class="hs-comment">-- ^ True &lt;=&gt; explicit forall</span><span>
</span><a name="line-1310"></a><span>                                         </span><span class="hs-comment">--   False =&gt; hsq_explicit is empty</span><span>
</span><a name="line-1311"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_qvars"><a href="HsDecls.html#con_qvars"><span class="hs-identifier">con_qvars</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1312"></a><span>                       </span><span class="hs-comment">-- Whether or not there is an /explicit/ forall, we still</span><span>
</span><a name="line-1313"></a><span>                       </span><span class="hs-comment">-- need to capture the implicitly-bound type/kind variables</span><span>
</span><a name="line-1314"></a><span>
</span><a name="line-1315"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_mb_cxt"><a href="HsDecls.html#con_mb_cxt"><span class="hs-identifier">con_mb_cxt</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ User-written context (if any)</span><span>
</span><a name="line-1316"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_args"><a href="HsDecls.html#con_args"><span class="hs-identifier">con_args</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>   </span><span class="hs-comment">-- ^ Arguments; never InfixCon</span><span>
</span><a name="line-1317"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_res_ty"><a href="HsDecls.html#con_res_ty"><span class="hs-identifier">con_res_ty</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>            </span><span class="hs-comment">-- ^ Result type</span><span>
</span><a name="line-1318"></a><span>
</span><a name="line-1319"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_doc"><a href="HsDecls.html#con_doc"><span class="hs-identifier">con_doc</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span>
</span><a name="line-1320"></a><span>          </span><span class="hs-comment">-- ^ A possible Haddock comment.</span><span>
</span><a name="line-1321"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-1322"></a><span>
</span><a name="line-1323"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ConDeclH98"><a href="HsDecls.html#ConDeclH98"><span class="hs-identifier">ConDeclH98</span></a></a><span>
</span><a name="line-1324"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="con_ext"><a href="HsDecls.html#con_ext"><span class="hs-identifier">con_ext</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XConDeclH98"><span class="hs-identifier hs-type">XConDeclH98</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1325"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_name"><a href="HsDecls.html#con_name"><span class="hs-identifier">con_name</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1326"></a><span>
</span><a name="line-1327"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_forall"><a href="HsDecls.html#con_forall"><span class="hs-identifier">con_forall</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1328"></a><span>                              </span><span class="hs-comment">-- ^ True &lt;=&gt; explicit user-written forall</span><span>
</span><a name="line-1329"></a><span>                              </span><span class="hs-comment">--     e.g. data T a = forall b. MkT b (b-&gt;a)</span><span>
</span><a name="line-1330"></a><span>                              </span><span class="hs-comment">--     con_ex_tvs = {b}</span><span>
</span><a name="line-1331"></a><span>                              </span><span class="hs-comment">-- False =&gt; con_ex_tvs is empty</span><span>
</span><a name="line-1332"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_ex_tvs"><a href="HsDecls.html#con_ex_tvs"><span class="hs-identifier">con_ex_tvs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>      </span><span class="hs-comment">-- ^ Existentials only</span><span>
</span><a name="line-1333"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_mb_cxt"><a href="HsDecls.html#con_mb_cxt"><span class="hs-identifier">con_mb_cxt</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ User-written context (if any)</span><span>
</span><a name="line-1334"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_args"><a href="HsDecls.html#con_args"><span class="hs-identifier">con_args</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span>    </span><span class="hs-comment">-- ^ Arguments; can be InfixCon</span><span>
</span><a name="line-1335"></a><span>
</span><a name="line-1336"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="con_doc"><a href="HsDecls.html#con_doc"><span class="hs-identifier">con_doc</span></a></a><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span>
</span><a name="line-1337"></a><span>          </span><span class="hs-comment">-- ^ A possible Haddock comment.</span><span>
</span><a name="line-1338"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-1339"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XConDecl"><a href="HsDecls.html#XConDecl"><span class="hs-identifier">XConDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXConDecl"><span class="hs-identifier hs-type">XXConDecl</span></a><span> </span><a href="#local-6989586621683094313"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1340"></a><span>
</span><a name="line-1341"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XConDeclGADT"><span class="hs-identifier hs-type">XConDeclGADT</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1342"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XConDeclH98"><span class="hs-identifier hs-type">XConDeclH98</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1343"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXConDecl"><span class="hs-identifier hs-type">XXConDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1344"></a><span>
</span><a name="line-1345"></a><span class="hs-comment">{- Note [GADT abstract syntax]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
There's a wrinkle in ConDeclGADT

* For record syntax, it's all uniform.  Given:
      data T a where
        K :: forall a. Ord a =&gt; { x :: [a], ... } -&gt; T a
    we make the a ConDeclGADT for K with
       con_qvars  = {a}
       con_mb_cxt = Just [Ord a]
       con_args   = RecCon &lt;the record fields&gt;
       con_res_ty = T a

  We need the RecCon before the reanmer, so we can find the record field
  binders in HsUtils.hsConDeclsBinders.

* However for a GADT constr declaration which is not a record, it can
  be hard parse until we know operator fixities. Consider for example
     C :: a :*: b -&gt; a :*: b -&gt; a :+: b
  Initially this type will parse as
      a :*: (b -&gt; (a :*: (b -&gt; (a :+: b))))
  so it's hard to split up the arguments until we've done the precedence
  resolution (in the renamer).

  So:  - In the parser (RdrHsSyn.mkGadtDecl), we put the whole constr
         type into the res_ty for a ConDeclGADT for now, and use
         PrefixCon []
            con_args   = PrefixCon []
            con_res_ty = a :*: (b -&gt; (a :*: (b -&gt; (a :+: b))))

       - In the renamer (RnSource.rnConDecl), we unravel it afer
         operator fixities are sorted. So we generate. So we end
         up with
            con_args   = PrefixCon [ a :*: b, a :*: b ]
            con_res_ty = a :+: b
-}</span><span>
</span><a name="line-1381"></a><span>
</span><a name="line-1382"></a><span class="hs-comment">-- | Haskell data Constructor Declaration Details</span><span>
</span><a name="line-1383"></a><span class="hs-keyword">type</span><span> </span><a name="HsConDeclDetails"><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier">HsConDeclDetails</span></a></a><span> </span><a name="local-6989586621683094312"><a href="#local-6989586621683094312"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1384"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsConDetails"><span class="hs-identifier hs-type">HsConDetails</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span> </span><a href="#local-6989586621683094312"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span> </span><a href="#local-6989586621683094312"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1385"></a><span>
</span><a name="line-1386"></a><span class="hs-identifier">getConNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span> </span><a href="#local-6989586621683094617"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094617"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1387"></a><a name="getConNames"><a href="HsDecls.html#getConNames"><span class="hs-identifier">getConNames</span></a></a><span> </span><a href="HsDecls.html#ConDeclH98"><span class="hs-identifier hs-var">ConDeclH98</span></a><span>  </span><span class="hs-special">{</span><span class="hs-identifier">con_name</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094729"><a href="#local-6989586621683094729"><span class="hs-identifier">name</span></a></a><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621683094729"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">]</span><span>
</span><a name="line-1388"></a><span class="hs-identifier">getConNames</span><span> </span><a href="HsDecls.html#ConDeclGADT"><span class="hs-identifier hs-var">ConDeclGADT</span></a><span> </span><span class="hs-special">{</span><span class="hs-identifier">con_names</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094730"><a href="#local-6989586621683094730"><span class="hs-identifier">names</span></a></a><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094730"><span class="hs-identifier hs-var">names</span></a><span>
</span><a name="line-1389"></a><span class="hs-identifier">getConNames</span><span> </span><a href="HsDecls.html#XConDecl"><span class="hs-identifier hs-var">XConDecl</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getConNames&quot;</span><span>
</span><a name="line-1390"></a><span>
</span><a name="line-1391"></a><span class="hs-identifier">getConArgs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span> </span><a href="#local-6989586621683094616"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a><span> </span><a href="#local-6989586621683094616"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1392"></a><a name="getConArgs"><a href="HsDecls.html#getConArgs"><span class="hs-identifier">getConArgs</span></a></a><span> </span><a name="local-6989586621683094731"><a href="#local-6989586621683094731"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">con_args</span><span> </span><a href="#local-6989586621683094731"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-1393"></a><span>
</span><a name="line-1394"></a><span class="hs-identifier">hsConDeclArgTys</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a><span> </span><a href="#local-6989586621683094615"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span> </span><a href="#local-6989586621683094615"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1395"></a><a name="hsConDeclArgTys"><a href="HsDecls.html#hsConDeclArgTys"><span class="hs-identifier">hsConDeclArgTys</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a><span> </span><a name="local-6989586621683094732"><a href="#local-6989586621683094732"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094732"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-1396"></a><span class="hs-identifier">hsConDeclArgTys</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a><span> </span><a name="local-6989586621683094733"><a href="#local-6989586621683094733"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621683094734"><a href="#local-6989586621683094734"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621683094733"><span class="hs-identifier hs-var">ty1</span></a><span class="hs-special">,</span><a href="#local-6989586621683094734"><span class="hs-identifier hs-var">ty2</span></a><span class="hs-special">]</span><span>
</span><a name="line-1397"></a><span class="hs-identifier">hsConDeclArgTys</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a><span> </span><a name="local-6989586621683094735"><a href="#local-6989586621683094735"><span class="hs-identifier">flds</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">cd_fld_type</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094735"><span class="hs-identifier hs-var">flds</span></a><span class="hs-special">)</span><span>
</span><a name="line-1398"></a><span>
</span><a name="line-1399"></a><span class="hs-identifier">hsConDeclTheta</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621683094614"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094614"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1400"></a><a name="hsConDeclTheta"><a href="HsDecls.html#hsConDeclTheta"><span class="hs-identifier">hsConDeclTheta</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1401"></a><span class="hs-identifier">hsConDeclTheta</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094736"><a href="#local-6989586621683094736"><span class="hs-identifier">theta</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094736"><span class="hs-identifier hs-var">theta</span></a><span>
</span><a name="line-1402"></a><span>
</span><a name="line-1403"></a><span class="hs-identifier">pp_data_defn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094613"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1404"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094613"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Printing the header</span><span>
</span><a name="line-1405"></a><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094613"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1406"></a><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1407"></a><a name="pp_data_defn"><a href="HsDecls.html#pp_data_defn"><span class="hs-identifier">pp_data_defn</span></a></a><span> </span><a name="local-6989586621683094737"><a href="#local-6989586621683094737"><span class="hs-identifier">pp_hdr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-var">HsDataDefn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dd_ND</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094738"><a href="#local-6989586621683094738"><span class="hs-identifier">new_or_data</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">dd_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094739"><a href="#local-6989586621683094739"><span class="hs-identifier">context</span></a></a><span>
</span><a name="line-1408"></a><span>                                </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dd_cType</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094740"><a href="#local-6989586621683094740"><span class="hs-identifier">mb_ct</span></a></a><span>
</span><a name="line-1409"></a><span>                                </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dd_kindSig</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094741"><a href="#local-6989586621683094741"><span class="hs-identifier">mb_sig</span></a></a><span>
</span><a name="line-1410"></a><span>                                </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dd_cons</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094742"><a href="#local-6989586621683094742"><span class="hs-identifier">condecls</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">dd_derivs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094743"><a href="#local-6989586621683094743"><span class="hs-identifier">derivings</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1411"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094742"><span class="hs-identifier hs-var">condecls</span></a><span>
</span><a name="line-1412"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094738"><span class="hs-identifier hs-var">new_or_data</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094744"><span class="hs-identifier hs-var">pp_ct</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094737"><span class="hs-identifier hs-var">pp_hdr</span></a><span> </span><a href="#local-6989586621683094739"><span class="hs-identifier hs-var">context</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094745"><span class="hs-identifier hs-var">pp_sig</span></a><span>
</span><a name="line-1413"></a><span>    </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094746"><span class="hs-identifier hs-var">pp_derivings</span></a><span> </span><a href="#local-6989586621683094743"><span class="hs-identifier hs-var">derivings</span></a><span>
</span><a name="line-1414"></a><span>
</span><a name="line-1415"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-1416"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094738"><span class="hs-identifier hs-var">new_or_data</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094744"><span class="hs-identifier hs-var">pp_ct</span></a><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094737"><span class="hs-identifier hs-var">pp_hdr</span></a><span> </span><a href="#local-6989586621683094739"><span class="hs-identifier hs-var">context</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094745"><span class="hs-identifier hs-var">pp_sig</span></a><span class="hs-special">)</span><span>
</span><a name="line-1417"></a><span>       </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#pp_condecls"><span class="hs-identifier hs-var">pp_condecls</span></a><span> </span><a href="#local-6989586621683094742"><span class="hs-identifier hs-var">condecls</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="#local-6989586621683094746"><span class="hs-identifier hs-var">pp_derivings</span></a><span> </span><a href="#local-6989586621683094743"><span class="hs-identifier hs-var">derivings</span></a><span class="hs-special">)</span><span>
</span><a name="line-1418"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1419"></a><span>    </span><a name="local-6989586621683094744"><a href="#local-6989586621683094744"><span class="hs-identifier">pp_ct</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094740"><span class="hs-identifier hs-var">mb_ct</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1420"></a><span>               </span><span class="hs-identifier hs-var">Nothing</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1421"></a><span>               </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094747"><a href="#local-6989586621683094747"><span class="hs-identifier">ct</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094747"><span class="hs-identifier hs-var">ct</span></a><span>
</span><a name="line-1422"></a><span>    </span><a name="local-6989586621683094745"><a href="#local-6989586621683094745"><span class="hs-identifier">pp_sig</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094741"><span class="hs-identifier hs-var">mb_sig</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1423"></a><span>               </span><span class="hs-identifier hs-var">Nothing</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1424"></a><span>               </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094748"><a href="#local-6989586621683094748"><span class="hs-identifier">kind</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094748"><span class="hs-identifier hs-var">kind</span></a><span>
</span><a name="line-1425"></a><span>    </span><a name="local-6989586621683094746"><a href="#local-6989586621683094746"><span class="hs-identifier">pp_derivings</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094749"><a href="#local-6989586621683094749"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094749"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span>
</span><a name="line-1426"></a><span class="hs-identifier">pp_data_defn</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XHsDataDefn"><span class="hs-identifier hs-var">XHsDataDefn</span></a><span> </span><a name="local-6989586621683094750"><a href="#local-6989586621683094750"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094750"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1427"></a><span>
</span><a name="line-1428"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094474"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094473"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1429"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a><span> </span><a href="#local-6989586621683094473"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1430"></a><span>   </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-6989586621683094475"><a href="#local-6989586621683094475"><span class="hs-identifier">d</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pp_data_defn"><span class="hs-identifier hs-var">pp_data_defn</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Naked HsDataDefn&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094475"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-1431"></a><span>
</span><a name="line-1432"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsDecls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1433"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="HsDecls.html#NewType"><span class="hs-identifier hs-var">NewType</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;newtype&quot;</span><span>
</span><a name="line-1434"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="HsDecls.html#DataType"><span class="hs-identifier hs-var">DataType</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;data&quot;</span><span>
</span><a name="line-1435"></a><span>
</span><a name="line-1436"></a><span class="hs-identifier">pp_condecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094612"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094612"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1437"></a><a name="pp_condecls"><a href="HsDecls.html#pp_condecls"><span class="hs-identifier">pp_condecls</span></a></a><span> </span><a name="local-6989586621683094751"><a href="#local-6989586621683094751"><span class="hs-identifier">cs</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsDecls.html#ConDeclGADT"><span class="hs-identifier hs-var">ConDeclGADT</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- In GADT syntax</span><span>
</span><a name="line-1438"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;where&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094751"><span class="hs-identifier hs-var">cs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1439"></a><span class="hs-identifier">pp_condecls</span><span> </span><a name="local-6989586621683094752"><a href="#local-6989586621683094752"><span class="hs-identifier">cs</span></a></a><span>                    </span><span class="hs-comment">-- In H98 syntax</span><span>
</span><a name="line-1440"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot; |&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094752"><span class="hs-identifier hs-var">cs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1441"></a><span>
</span><a name="line-1442"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094472"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094471"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span> </span><a href="#local-6989586621683094471"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1443"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprConDecl"><span class="hs-identifier hs-var">pprConDecl</span></a><span>
</span><a name="line-1444"></a><span>
</span><a name="line-1445"></a><span class="hs-identifier">pprConDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094611"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsDecls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094611"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1446"></a><a name="pprConDecl"><a href="HsDecls.html#pprConDecl"><span class="hs-identifier">pprConDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ConDeclH98"><span class="hs-identifier hs-var">ConDeclH98</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">con_name</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094753"><a href="#local-6989586621683094753"><span class="hs-identifier">con</span></a></a><span>
</span><a name="line-1447"></a><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_ex_tvs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094754"><a href="#local-6989586621683094754"><span class="hs-identifier">ex_tvs</span></a></a><span>
</span><a name="line-1448"></a><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_mb_cxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094755"><a href="#local-6989586621683094755"><span class="hs-identifier">mcxt</span></a></a><span>
</span><a name="line-1449"></a><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_args</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094756"><a href="#local-6989586621683094756"><span class="hs-identifier">args</span></a></a><span>
</span><a name="line-1450"></a><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_doc</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094757"><a href="#local-6989586621683094757"><span class="hs-identifier">doc</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1451"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsDoc.html#ppr_mbDoc"><span class="hs-identifier hs-var">ppr_mbDoc</span></a><span> </span><a href="#local-6989586621683094757"><span class="hs-identifier hs-var">doc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier hs-var">pprHsForAll</span></a><span> </span><a href="#local-6989586621683094754"><span class="hs-identifier hs-var">ex_tvs</span></a><span> </span><a href="#local-6989586621683094759"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094758"><span class="hs-identifier hs-var">ppr_details</span></a><span> </span><a href="#local-6989586621683094756"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">]</span><span>
</span><a name="line-1452"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1453"></a><span>    </span><a name="local-6989586621683094758"><a href="#local-6989586621683094758"><span class="hs-identifier">ppr_details</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a><span> </span><a name="local-6989586621683094760"><a href="#local-6989586621683094760"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621683094761"><a href="#local-6989586621683094761"><span class="hs-identifier">t2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094760"><span class="hs-identifier hs-var">t1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-6989586621683094753"><span class="hs-identifier hs-var">con</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094761"><span class="hs-identifier hs-var">t2</span></a><span class="hs-special">]</span><span>
</span><a name="line-1454"></a><span>    </span><span class="hs-identifier">ppr_details</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a><span> </span><a name="local-6989586621683094762"><a href="#local-6989586621683094762"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621683094753"><span class="hs-identifier hs-var">con</span></a><span>
</span><a name="line-1455"></a><span>                                   </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#pprHsType"><span class="hs-identifier hs-var">pprHsType</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094762"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1456"></a><span>    </span><span class="hs-identifier">ppr_details</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a><span> </span><a name="local-6989586621683094763"><a href="#local-6989586621683094763"><span class="hs-identifier">fields</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621683094753"><span class="hs-identifier hs-var">con</span></a><span>
</span><a name="line-1457"></a><span>                                 </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094763"><span class="hs-identifier hs-var">fields</span></a><span class="hs-special">)</span><span>
</span><a name="line-1458"></a><span>    </span><a name="local-6989586621683094759"><a href="#local-6989586621683094759"><span class="hs-identifier">cxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromMaybe</span><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span> </span><a href="#local-6989586621683094755"><span class="hs-identifier hs-var">mcxt</span></a><span>
</span><a name="line-1459"></a><span>
</span><a name="line-1460"></a><span class="hs-identifier">pprConDecl</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ConDeclGADT"><span class="hs-identifier hs-var">ConDeclGADT</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">con_names</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094764"><a href="#local-6989586621683094764"><span class="hs-identifier">cons</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_qvars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094765"><a href="#local-6989586621683094765"><span class="hs-identifier">qvars</span></a></a><span>
</span><a name="line-1461"></a><span>                        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_mb_cxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094766"><a href="#local-6989586621683094766"><span class="hs-identifier">mcxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_args</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094767"><a href="#local-6989586621683094767"><span class="hs-identifier">args</span></a></a><span>
</span><a name="line-1462"></a><span>                        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_res_ty</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094768"><a href="#local-6989586621683094768"><span class="hs-identifier">res_ty</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">con_doc</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094769"><a href="#local-6989586621683094769"><span class="hs-identifier">doc</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1463"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsDoc.html#ppr_mbDoc"><span class="hs-identifier hs-var">ppr_mbDoc</span></a><span> </span><a href="#local-6989586621683094769"><span class="hs-identifier hs-var">doc</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#ppr_con_names"><span class="hs-identifier hs-var">ppr_con_names</span></a><span> </span><a href="#local-6989586621683094764"><span class="hs-identifier hs-var">cons</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span>
</span><a name="line-1464"></a><span>    </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier hs-var">pprHsForAll</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">hsq_explicit</span><span> </span><a href="#local-6989586621683094765"><span class="hs-identifier hs-var">qvars</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094771"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">,</span><span>
</span><a name="line-1465"></a><span>              </span><a href="#local-6989586621683094772"><span class="hs-identifier hs-var">ppr_arrow_chain</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094770"><span class="hs-identifier hs-var">get_args</span></a><span> </span><a href="#local-6989586621683094767"><span class="hs-identifier hs-var">args</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094768"><span class="hs-identifier hs-var">res_ty</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1466"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1467"></a><span>    </span><a name="local-6989586621683094770"><a href="#local-6989586621683094770"><span class="hs-identifier">get_args</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a><span> </span><a name="local-6989586621683094773"><a href="#local-6989586621683094773"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094773"><span class="hs-identifier hs-var">args</span></a><span>
</span><a name="line-1468"></a><span>    </span><span class="hs-identifier">get_args</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a><span> </span><a name="local-6989586621683094774"><a href="#local-6989586621683094774"><span class="hs-identifier">fields</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094774"><span class="hs-identifier hs-var">fields</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1469"></a><span>    </span><span class="hs-identifier">get_args</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a><span> </span><span class="hs-string">&quot;pprConDecl:GADT&quot;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094764"><span class="hs-identifier hs-var">cons</span></a><span class="hs-special">)</span><span>
</span><a name="line-1470"></a><span>
</span><a name="line-1471"></a><span>    </span><a name="local-6989586621683094771"><a href="#local-6989586621683094771"><span class="hs-identifier">cxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromMaybe</span><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span> </span><a href="#local-6989586621683094766"><span class="hs-identifier hs-var">mcxt</span></a><span>
</span><a name="line-1472"></a><span>
</span><a name="line-1473"></a><span>    </span><a name="local-6989586621683094772"><a href="#local-6989586621683094772"><span class="hs-identifier">ppr_arrow_chain</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621683094775"><a href="#local-6989586621683094775"><span class="hs-identifier">a</span></a></a><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094775"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#arrow"><span class="hs-identifier hs-var">arrow</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1474"></a><span>    </span><span class="hs-identifier">ppr_arrow_chain</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1475"></a><span>
</span><a name="line-1476"></a><span class="hs-identifier">pprConDecl</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XConDecl"><span class="hs-identifier hs-var">XConDecl</span></a><span> </span><a name="local-6989586621683094777"><a href="#local-6989586621683094777"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094777"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1477"></a><span>
</span><a name="line-1478"></a><span class="hs-identifier">ppr_con_names</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-6989586621683094610"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-6989586621683094610"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1479"></a><a name="ppr_con_names"><a href="HsDecls.html#ppr_con_names"><span class="hs-identifier">ppr_con_names</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span>
</span><a name="line-1480"></a><span>
</span><a name="line-1481"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Instance declarations
*                                                                      *
************************************************************************

Note [Type family instance declarations in HsSyn]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The data type FamEqn represents one equation of a type family instance.
Aside from the pass, it is also parameterised over two fields:
feqn_pats and feqn_rhs.

feqn_pats is either LHsTypes (for ordinary data/type family instances) or
LHsQTyVars (for associated type family default instances). In particular:

 * An ordinary type family instance declaration looks like this in source Haskell
      type instance T [a] Int = a -&gt; a
   (or something similar for a closed family)
   It is represented by a FamInstEqn, with a *type* (LHsType) in the feqn_pats
   field.

 * On the other hand, the *default instance* of an associated type looks like
   this in source Haskell
      class C a where
        type T a b
        type T a b = a -&gt; b   -- The default instance
   It is represented by a TyFamDefltEqn, with *type variables* (LHsQTyVars) in
   the feqn_pats field.

feqn_rhs is either an HsDataDefn (for data family instances) or an LHsType
(for type family instances).
-}</span><span>
</span><a name="line-1514"></a><span>
</span><a name="line-1515"></a><span class="hs-comment">----------------- Type synonym family instances -------------</span><span>
</span><a name="line-1516"></a><span>
</span><a name="line-1517"></a><span class="hs-comment">-- | Located Type Family Instance Equation</span><span>
</span><a name="line-1518"></a><span class="hs-keyword">type</span><span> </span><a name="LTyFamInstEqn"><a href="HsDecls.html#LTyFamInstEqn"><span class="hs-identifier">LTyFamInstEqn</span></a></a><span> </span><a name="local-6989586621683094311"><a href="#local-6989586621683094311"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a><span> </span><a href="#local-6989586621683094311"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1519"></a><span>  </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnSemi'</span><span>
</span><a name="line-1520"></a><span>  </span><span class="hs-comment">--   when in a list</span><span>
</span><a name="line-1521"></a><span>
</span><a name="line-1522"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1523"></a><span>
</span><a name="line-1524"></a><span class="hs-comment">-- | Located Type Family Default Equation</span><span>
</span><a name="line-1525"></a><span class="hs-keyword">type</span><span> </span><a name="LTyFamDefltEqn"><a href="HsDecls.html#LTyFamDefltEqn"><span class="hs-identifier">LTyFamDefltEqn</span></a></a><span> </span><a name="local-6989586621683094310"><a href="#local-6989586621683094310"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamDefltEqn"><span class="hs-identifier hs-type">TyFamDefltEqn</span></a><span> </span><a href="#local-6989586621683094310"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1526"></a><span>
</span><a name="line-1527"></a><span class="hs-comment">-- | Haskell Type Patterns</span><span>
</span><a name="line-1528"></a><span class="hs-keyword">type</span><span> </span><a name="HsTyPats"><a href="HsDecls.html#HsTyPats"><span class="hs-identifier">HsTyPats</span></a></a><span> </span><a name="local-6989586621683094309"><a href="#local-6989586621683094309"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a><span> </span><a href="#local-6989586621683094309"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1529"></a><span>
</span><a name="line-1530"></a><span class="hs-comment">{- Note [Family instance declaration binders]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
For ordinary data/type family instances, the feqn_pats field of FamEqn stores
the LHS type (and kind) patterns. Any type (and kind) variables contained
in these type patterns are bound in the hsib_vars field of the HsImplicitBndrs
in FamInstEqn depending on whether or not an explicit forall is present. In
the case of an explicit forall, the hsib_vars only includes kind variables not
bound in the forall. Otherwise, all type (and kind) variables are bound in
the hsib_vars. In the latter case, note that in particular

* The hsib_vars *includes* any anonymous wildcards.  For example
     type instance F a _ = a
  The hsib_vars will be {a, _}.  Remember that each separate wildcard
  '_' gets its own unique.  In this context wildcards behave just like
  an ordinary type variable, only anonymous.

* The hsib_vars *includes* type variables that are already in scope

   Eg   class C s t where
          type F t p :: *
        instance C w (a,b) where
          type F (a,b) x = x-&gt;a
   The hsib_vars of the F decl are {a,b,x}, even though the F decl
   is nested inside the 'instance' decl.

   However after the renamer, the uniques will match up:
        instance C w7 (a8,b9) where
          type F (a8,b9) x10 = x10-&gt;a8
   so that we can compare the type pattern in the 'instance' decl and
   in the associated 'type' decl

For associated type family default instances (TyFamDefltEqn), instead of using
type patterns with binders in a surrounding HsImplicitBndrs, we use raw type
variables (LHsQTyVars) in the feqn_pats field of FamEqn.

c.f. Note [TyVar binders for associated declarations]
-}</span><span>
</span><a name="line-1567"></a><span>
</span><a name="line-1568"></a><span class="hs-comment">-- | Type Family Instance Equation</span><span>
</span><a name="line-1569"></a><span class="hs-keyword">type</span><span> </span><a name="TyFamInstEqn"><a href="HsDecls.html#TyFamInstEqn"><span class="hs-identifier">TyFamInstEqn</span></a></a><span> </span><a name="local-6989586621683094308"><a href="#local-6989586621683094308"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamInstEqn"><span class="hs-identifier hs-type">FamInstEqn</span></a><span> </span><a href="#local-6989586621683094308"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094308"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1570"></a><span>
</span><a name="line-1571"></a><span class="hs-comment">-- | Type Family Default Equation</span><span>
</span><a name="line-1572"></a><span class="hs-keyword">type</span><span> </span><a name="TyFamDefltEqn"><a href="HsDecls.html#TyFamDefltEqn"><span class="hs-identifier">TyFamDefltEqn</span></a></a><span> </span><a name="local-6989586621683094307"><a href="#local-6989586621683094307"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a><span> </span><a href="#local-6989586621683094307"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621683094307"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094307"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1573"></a><span>  </span><span class="hs-comment">-- See Note [Type family instance declarations in HsSyn]</span><span>
</span><a name="line-1574"></a><span>
</span><a name="line-1575"></a><span class="hs-comment">-- | Located Type Family Instance Declaration</span><span>
</span><a name="line-1576"></a><span class="hs-keyword">type</span><span> </span><a name="LTyFamInstDecl"><a href="HsDecls.html#LTyFamInstDecl"><span class="hs-identifier">LTyFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094306"><a href="#local-6989586621683094306"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094306"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1577"></a><span>
</span><a name="line-1578"></a><span class="hs-comment">-- | Type Family Instance Declaration</span><span>
</span><a name="line-1579"></a><span class="hs-keyword">newtype</span><span> </span><a name="TyFamInstDecl"><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier">TyFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094305"><a href="#local-6989586621683094305"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="TyFamInstDecl"><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier">TyFamInstDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="tfid_eqn"><a href="HsDecls.html#tfid_eqn"><span class="hs-identifier">tfid_eqn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a><span> </span><a href="#local-6989586621683094305"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1580"></a><span>    </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-1581"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnType',</span><span>
</span><a name="line-1582"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnInstance',</span><span>
</span><a name="line-1583"></a><span>
</span><a name="line-1584"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1585"></a><span>
</span><a name="line-1586"></a><span class="hs-comment">----------------- Data family instances -------------</span><span>
</span><a name="line-1587"></a><span>
</span><a name="line-1588"></a><span class="hs-comment">-- | Located Data Family Instance Declaration</span><span>
</span><a name="line-1589"></a><span class="hs-keyword">type</span><span> </span><a name="LDataFamInstDecl"><a href="HsDecls.html#LDataFamInstDecl"><span class="hs-identifier">LDataFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094304"><a href="#local-6989586621683094304"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><a href="#local-6989586621683094304"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1590"></a><span>
</span><a name="line-1591"></a><span class="hs-comment">-- | Data Family Instance Declaration</span><span>
</span><a name="line-1592"></a><span class="hs-keyword">newtype</span><span> </span><a name="DataFamInstDecl"><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier">DataFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094303"><a href="#local-6989586621683094303"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1593"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="DataFamInstDecl"><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier">DataFamInstDecl</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="dfid_eqn"><a href="HsDecls.html#dfid_eqn"><span class="hs-identifier">dfid_eqn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#FamInstEqn"><span class="hs-identifier hs-type">FamInstEqn</span></a><span> </span><a href="#local-6989586621683094303"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a><span> </span><a href="#local-6989586621683094303"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1594"></a><span>    </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-1595"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnData',</span><span>
</span><a name="line-1596"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnNewType','ApiAnnotation.AnnInstance',</span><span>
</span><a name="line-1597"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-1598"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnWhere','ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-1599"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1600"></a><span>
</span><a name="line-1601"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1602"></a><span>
</span><a name="line-1603"></a><span class="hs-comment">----------------- Family instances (common types) -------------</span><span>
</span><a name="line-1604"></a><span>
</span><a name="line-1605"></a><span class="hs-comment">-- | Located Family Instance Equation</span><span>
</span><a name="line-1606"></a><span class="hs-keyword">type</span><span> </span><a name="LFamInstEqn"><a href="HsDecls.html#LFamInstEqn"><span class="hs-identifier">LFamInstEqn</span></a></a><span> </span><a name="local-6989586621683094301"><a href="#local-6989586621683094301"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621683094302"><a href="#local-6989586621683094302"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamInstEqn"><span class="hs-identifier hs-type">FamInstEqn</span></a><span> </span><a href="#local-6989586621683094301"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621683094302"><span class="hs-identifier hs-type">rhs</span></a><span class="hs-special">)</span><span>
</span><a name="line-1607"></a><span>
</span><a name="line-1608"></a><span class="hs-comment">-- | Family Instance Equation</span><span>
</span><a name="line-1609"></a><span class="hs-keyword">type</span><span> </span><a name="FamInstEqn"><a href="HsDecls.html#FamInstEqn"><span class="hs-identifier">FamInstEqn</span></a></a><span> </span><a name="local-6989586621683094299"><a href="#local-6989586621683094299"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621683094300"><a href="#local-6989586621683094300"><span class="hs-identifier">rhs</span></a></a><span>
</span><a name="line-1610"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621683094299"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a><span> </span><a href="#local-6989586621683094299"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsTyPats"><span class="hs-identifier hs-type">HsTyPats</span></a><span> </span><a href="#local-6989586621683094299"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094300"><span class="hs-identifier hs-type">rhs</span></a><span class="hs-special">)</span><span>
</span><a name="line-1611"></a><span>            </span><span class="hs-comment">-- ^ Here, the @pats@ are type patterns (with kind and type bndrs).</span><span>
</span><a name="line-1612"></a><span>            </span><span class="hs-comment">-- See Note [Family instance declaration binders]</span><span>
</span><a name="line-1613"></a><span>
</span><a name="line-1614"></a><span class="hs-comment">-- | Family Equation</span><span>
</span><a name="line-1615"></a><span class="hs-comment">--</span><span>
</span><a name="line-1616"></a><span class="hs-comment">-- One equation in a type family instance declaration, data family instance</span><span>
</span><a name="line-1617"></a><span class="hs-comment">-- declaration, or type family default.</span><span>
</span><a name="line-1618"></a><span class="hs-comment">-- See Note [Type family instance declarations in HsSyn]</span><span>
</span><a name="line-1619"></a><span class="hs-comment">-- See Note [Family instance declaration binders]</span><span>
</span><a name="line-1620"></a><span class="hs-keyword">data</span><span> </span><a name="FamEqn"><a href="HsDecls.html#FamEqn"><span class="hs-identifier">FamEqn</span></a></a><span> </span><a name="local-6989586621683094296"><a href="#local-6989586621683094296"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621683094297"><a href="#local-6989586621683094297"><span class="hs-identifier">pats</span></a></a><span> </span><a name="local-6989586621683094298"><a href="#local-6989586621683094298"><span class="hs-identifier">rhs</span></a></a><span>
</span><a name="line-1621"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="FamEqn"><a href="HsDecls.html#FamEqn"><span class="hs-identifier">FamEqn</span></a></a><span>
</span><a name="line-1622"></a><span>       </span><span class="hs-special">{</span><span> </span><a name="feqn_ext"><a href="HsDecls.html#feqn_ext"><span class="hs-identifier">feqn_ext</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCFamEqn"><span class="hs-identifier hs-type">XCFamEqn</span></a><span> </span><a href="#local-6989586621683094296"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621683094297"><span class="hs-identifier hs-type">pats</span></a><span> </span><a href="#local-6989586621683094298"><span class="hs-identifier hs-type">rhs</span></a><span>
</span><a name="line-1623"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="feqn_tycon"><a href="HsDecls.html#feqn_tycon"><span class="hs-identifier">feqn_tycon</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094296"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1624"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="feqn_bndrs"><a href="HsDecls.html#feqn_bndrs"><span class="hs-identifier">feqn_bndrs</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621683094296"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Optional quantified type vars</span><span>
</span><a name="line-1625"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="feqn_pats"><a href="HsDecls.html#feqn_pats"><span class="hs-identifier">feqn_pats</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621683094297"><span class="hs-identifier hs-type">pats</span></a><span>
</span><a name="line-1626"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="feqn_fixity"><a href="HsDecls.html#feqn_fixity"><span class="hs-identifier">feqn_fixity</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span> </span><span class="hs-comment">-- ^ Fixity used in the declaration</span><span>
</span><a name="line-1627"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="feqn_rhs"><a href="HsDecls.html#feqn_rhs"><span class="hs-identifier">feqn_rhs</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621683094298"><span class="hs-identifier hs-type">rhs</span></a><span>
</span><a name="line-1628"></a><span>       </span><span class="hs-special">}</span><span>
</span><a name="line-1629"></a><span>    </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-1630"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnEqual'</span><span>
</span><a name="line-1631"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XFamEqn"><a href="HsDecls.html#XFamEqn"><span class="hs-identifier">XFamEqn</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXFamEqn"><span class="hs-identifier hs-type">XXFamEqn</span></a><span> </span><a href="#local-6989586621683094296"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621683094297"><span class="hs-identifier hs-type">pats</span></a><span> </span><a href="#local-6989586621683094298"><span class="hs-identifier hs-type">rhs</span></a><span class="hs-special">)</span><span>
</span><a name="line-1632"></a><span>
</span><a name="line-1633"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1634"></a><span>
</span><a name="line-1635"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCFamEqn"><span class="hs-identifier hs-type">XCFamEqn</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094468"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621683094469"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1636"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXFamEqn"><span class="hs-identifier hs-type">XXFamEqn</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094465"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621683094466"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1637"></a><span>
</span><a name="line-1638"></a><span class="hs-comment">----------------- Class instances -------------</span><span>
</span><a name="line-1639"></a><span>
</span><a name="line-1640"></a><span class="hs-comment">-- | Located Class Instance Declaration</span><span>
</span><a name="line-1641"></a><span class="hs-keyword">type</span><span> </span><a name="LClsInstDecl"><a href="HsDecls.html#LClsInstDecl"><span class="hs-identifier">LClsInstDecl</span></a></a><span> </span><a name="local-6989586621683094295"><a href="#local-6989586621683094295"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a><span> </span><a href="#local-6989586621683094295"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1642"></a><span>
</span><a name="line-1643"></a><span class="hs-comment">-- | Class Instance Declaration</span><span>
</span><a name="line-1644"></a><span class="hs-keyword">data</span><span> </span><a name="ClsInstDecl"><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier">ClsInstDecl</span></a></a><span> </span><a name="local-6989586621683094294"><a href="#local-6989586621683094294"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1645"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ClsInstDecl"><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier">ClsInstDecl</span></a></a><span>
</span><a name="line-1646"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="cid_ext"><a href="HsDecls.html#cid_ext"><span class="hs-identifier">cid_ext</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCClsInstDecl"><span class="hs-identifier hs-type">XCClsInstDecl</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1647"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_poly_ty"><a href="HsDecls.html#cid_poly_ty"><span class="hs-identifier">cid_poly_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span>    </span><span class="hs-comment">-- Context =&gt; Class Instance-type</span><span>
</span><a name="line-1648"></a><span>                                          </span><span class="hs-comment">-- Using a polytype means that the renamer conveniently</span><span>
</span><a name="line-1649"></a><span>                                          </span><span class="hs-comment">-- figures out the quantified type variables for us.</span><span>
</span><a name="line-1650"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_binds"><a href="HsDecls.html#cid_binds"><span class="hs-identifier">cid_binds</span></a></a><span>         </span><span class="hs-glyph">::</span><span> </span><a href="HsBinds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- Class methods</span><span>
</span><a name="line-1651"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_sigs"><a href="HsDecls.html#cid_sigs"><span class="hs-identifier">cid_sigs</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsBinds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>         </span><span class="hs-comment">-- User-supplied pragmatic info</span><span>
</span><a name="line-1652"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_tyfam_insts"><a href="HsDecls.html#cid_tyfam_insts"><span class="hs-identifier">cid_tyfam_insts</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- Type family instances</span><span>
</span><a name="line-1653"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_datafam_insts"><a href="HsDecls.html#cid_datafam_insts"><span class="hs-identifier">cid_datafam_insts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Data family instances</span><span>
</span><a name="line-1654"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_overlap_mode"><a href="HsDecls.html#cid_overlap_mode"><span class="hs-identifier">cid_overlap_mode</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span class="hs-special">)</span><span>
</span><a name="line-1655"></a><span>         </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-1656"></a><span>         </span><span class="hs-comment">--                                    'ApiAnnotation.AnnClose',</span><span>
</span><a name="line-1657"></a><span>
</span><a name="line-1658"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1659"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-1660"></a><span>    </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-1661"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnInstance',</span><span>
</span><a name="line-1662"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnWhere',</span><span>
</span><a name="line-1663"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose',</span><span>
</span><a name="line-1664"></a><span>
</span><a name="line-1665"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1666"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XClsInstDecl"><a href="HsDecls.html#XClsInstDecl"><span class="hs-identifier">XClsInstDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXClsInstDecl"><span class="hs-identifier hs-type">XXClsInstDecl</span></a><span> </span><a href="#local-6989586621683094294"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1667"></a><span>
</span><a name="line-1668"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCClsInstDecl"><span class="hs-identifier hs-type">XCClsInstDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1669"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXClsInstDecl"><span class="hs-identifier hs-type">XXClsInstDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1670"></a><span>
</span><a name="line-1671"></a><span class="hs-comment">----------------- Instances of all kinds -------------</span><span>
</span><a name="line-1672"></a><span>
</span><a name="line-1673"></a><span class="hs-comment">-- | Located Instance Declaration</span><span>
</span><a name="line-1674"></a><span class="hs-keyword">type</span><span> </span><a name="LInstDecl"><a href="HsDecls.html#LInstDecl"><span class="hs-identifier">LInstDecl</span></a></a><span> </span><a name="local-6989586621683094293"><a href="#local-6989586621683094293"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a><span> </span><a href="#local-6989586621683094293"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1675"></a><span>
</span><a name="line-1676"></a><span class="hs-comment">-- | Instance Declaration</span><span>
</span><a name="line-1677"></a><span class="hs-keyword">data</span><span> </span><a name="InstDecl"><a href="HsDecls.html#InstDecl"><span class="hs-identifier">InstDecl</span></a></a><span> </span><a name="local-6989586621683094292"><a href="#local-6989586621683094292"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-comment">-- Both class and family instances</span><span>
</span><a name="line-1678"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ClsInstD"><a href="HsDecls.html#ClsInstD"><span class="hs-identifier">ClsInstD</span></a></a><span>
</span><a name="line-1679"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="cid_d_ext"><a href="HsDecls.html#cid_d_ext"><span class="hs-identifier">cid_d_ext</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XClsInstD"><span class="hs-identifier hs-type">XClsInstD</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1680"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="cid_inst"><a href="HsDecls.html#cid_inst"><span class="hs-identifier">cid_inst</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1681"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DataFamInstD"><a href="HsDecls.html#DataFamInstD"><span class="hs-identifier">DataFamInstD</span></a></a><span>              </span><span class="hs-comment">-- data family instance</span><span>
</span><a name="line-1682"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="dfid_ext"><a href="HsDecls.html#dfid_ext"><span class="hs-identifier">dfid_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XDataFamInstD"><span class="hs-identifier hs-type">XDataFamInstD</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1683"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="dfid_inst"><a href="HsDecls.html#dfid_inst"><span class="hs-identifier">dfid_inst</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1684"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TyFamInstD"><a href="HsDecls.html#TyFamInstD"><span class="hs-identifier">TyFamInstD</span></a></a><span>              </span><span class="hs-comment">-- type family instance</span><span>
</span><a name="line-1685"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="tfid_ext"><a href="HsDecls.html#tfid_ext"><span class="hs-identifier">tfid_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XTyFamInstD"><span class="hs-identifier hs-type">XTyFamInstD</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1686"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="tfid_inst"><a href="HsDecls.html#tfid_inst"><span class="hs-identifier">tfid_inst</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1687"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XInstDecl"><a href="HsDecls.html#XInstDecl"><span class="hs-identifier">XInstDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXInstDecl"><span class="hs-identifier hs-type">XXInstDecl</span></a><span> </span><a href="#local-6989586621683094292"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1688"></a><span>
</span><a name="line-1689"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XClsInstD"><span class="hs-identifier hs-type">XClsInstD</span></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1690"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XDataFamInstD"><span class="hs-identifier hs-type">XDataFamInstD</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1691"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XTyFamInstD"><span class="hs-identifier hs-type">XTyFamInstD</span></a><span>   </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1692"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXInstDecl"><span class="hs-identifier hs-type">XXInstDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1693"></a><span>
</span><a name="line-1694"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094458"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094457"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1695"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><a href="#local-6989586621683094457"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1696"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprTyFamInstDecl"><span class="hs-identifier hs-var">pprTyFamInstDecl</span></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>
</span><a name="line-1697"></a><span>
</span><a name="line-1698"></a><span class="hs-identifier">pprTyFamInstDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094609"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1699"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094609"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1700"></a><a name="pprTyFamInstDecl"><a href="HsDecls.html#pprTyFamInstDecl"><span class="hs-identifier">pprTyFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094778"><a href="#local-6989586621683094778"><span class="hs-identifier">top_lvl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tfid_eqn</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094779"><a href="#local-6989586621683094779"><span class="hs-identifier">eqn</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1701"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#ppr_instance_keyword"><span class="hs-identifier hs-var">ppr_instance_keyword</span></a><span> </span><a href="#local-6989586621683094778"><span class="hs-identifier hs-var">top_lvl</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#ppr_fam_inst_eqn"><span class="hs-identifier hs-var">ppr_fam_inst_eqn</span></a><span> </span><a href="#local-6989586621683094779"><span class="hs-identifier hs-var">eqn</span></a><span>
</span><a name="line-1702"></a><span>
</span><a name="line-1703"></a><span class="hs-identifier">ppr_instance_keyword</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1704"></a><a name="ppr_instance_keyword"><a href="HsDecls.html#ppr_instance_keyword"><span class="hs-identifier">ppr_instance_keyword</span></a></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;instance&quot;</span><span>
</span><a name="line-1705"></a><span class="hs-identifier">ppr_instance_keyword</span><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1706"></a><span>
</span><a name="line-1707"></a><span class="hs-identifier">ppr_fam_inst_eqn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094608"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1708"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsDecls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094608"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1709"></a><a name="ppr_fam_inst_eqn"><a href="HsDecls.html#ppr_fam_inst_eqn"><span class="hs-identifier">ppr_fam_inst_eqn</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_tycon</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094780"><a href="#local-6989586621683094780"><span class="hs-identifier">tycon</span></a></a><span>
</span><a name="line-1710"></a><span>                                            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_bndrs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094781"><a href="#local-6989586621683094781"><span class="hs-identifier">bndrs</span></a></a><span>
</span><a name="line-1711"></a><span>                                            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_pats</span><span>   </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094782"><a href="#local-6989586621683094782"><span class="hs-identifier">pats</span></a></a><span>
</span><a name="line-1712"></a><span>                                            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_fixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094783"><a href="#local-6989586621683094783"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-1713"></a><span>                                            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_rhs</span><span>    </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094784"><a href="#local-6989586621683094784"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1714"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprHsFamInstLHS"><span class="hs-identifier hs-var">pprHsFamInstLHS</span></a><span> </span><a href="#local-6989586621683094780"><span class="hs-identifier hs-var">tycon</span></a><span> </span><a href="#local-6989586621683094781"><span class="hs-identifier hs-var">bndrs</span></a><span> </span><a href="#local-6989586621683094782"><span class="hs-identifier hs-var">pats</span></a><span> </span><a href="#local-6989586621683094783"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094784"><span class="hs-identifier hs-var">rhs</span></a><span>
</span><a name="line-1715"></a><span class="hs-identifier">ppr_fam_inst_eqn</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#XFamEqn"><span class="hs-identifier hs-var">XFamEqn</span></a><span> </span><a name="local-6989586621683094785"><a href="#local-6989586621683094785"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094785"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1716"></a><span class="hs-identifier">ppr_fam_inst_eqn</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><a name="local-6989586621683094786"><a href="#local-6989586621683094786"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094786"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1717"></a><span>
</span><a name="line-1718"></a><span class="hs-identifier">ppr_fam_deflt_eqn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094607"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1719"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsDecls.html#LTyFamDefltEqn"><span class="hs-identifier hs-type">LTyFamDefltEqn</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094607"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1720"></a><a name="ppr_fam_deflt_eqn"><a href="HsDecls.html#ppr_fam_deflt_eqn"><span class="hs-identifier">ppr_fam_deflt_eqn</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_tycon</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094787"><a href="#local-6989586621683094787"><span class="hs-identifier">tycon</span></a></a><span>
</span><a name="line-1721"></a><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_pats</span><span>   </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094788"><a href="#local-6989586621683094788"><span class="hs-identifier">tvs</span></a></a><span>
</span><a name="line-1722"></a><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_fixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094789"><a href="#local-6989586621683094789"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-1723"></a><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_rhs</span><span>    </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094790"><a href="#local-6989586621683094790"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1724"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#pp_vanilla_decl_head"><span class="hs-identifier hs-var">pp_vanilla_decl_head</span></a><span> </span><a href="#local-6989586621683094787"><span class="hs-identifier hs-var">tycon</span></a><span> </span><a href="#local-6989586621683094788"><span class="hs-identifier hs-var">tvs</span></a><span> </span><a href="#local-6989586621683094789"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="HsTypes.html#noLHsContext"><span class="hs-identifier hs-var">noLHsContext</span></a><span>
</span><a name="line-1725"></a><span>                  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094790"><span class="hs-identifier hs-var">rhs</span></a><span>
</span><a name="line-1726"></a><span class="hs-identifier">ppr_fam_deflt_eqn</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XFamEqn"><span class="hs-identifier hs-var">XFamEqn</span></a><span> </span><a name="local-6989586621683094791"><a href="#local-6989586621683094791"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094791"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1727"></a><span>
</span><a name="line-1728"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094456"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094455"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1729"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><a href="#local-6989586621683094455"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1730"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pprDataFamInstDecl"><span class="hs-identifier hs-var">pprDataFamInstDecl</span></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>
</span><a name="line-1731"></a><span>
</span><a name="line-1732"></a><span class="hs-identifier">pprDataFamInstDecl</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094606"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1733"></a><span>                   </span><span class="hs-glyph">=&gt;</span><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094606"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1734"></a><a name="pprDataFamInstDecl"><a href="HsDecls.html#pprDataFamInstDecl"><span class="hs-identifier">pprDataFamInstDecl</span></a></a><span> </span><a name="local-6989586621683094792"><a href="#local-6989586621683094792"><span class="hs-identifier">top_lvl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dfid_eqn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1735"></a><span>                             </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_tycon</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094793"><a href="#local-6989586621683094793"><span class="hs-identifier">tycon</span></a></a><span>
</span><a name="line-1736"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_bndrs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094794"><a href="#local-6989586621683094794"><span class="hs-identifier">bndrs</span></a></a><span>
</span><a name="line-1737"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_pats</span><span>   </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094795"><a href="#local-6989586621683094795"><span class="hs-identifier">pats</span></a></a><span>
</span><a name="line-1738"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_fixity</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094796"><a href="#local-6989586621683094796"><span class="hs-identifier">fixity</span></a></a><span>
</span><a name="line-1739"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">feqn_rhs</span><span>    </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094797"><a href="#local-6989586621683094797"><span class="hs-identifier">defn</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1740"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#pp_data_defn"><span class="hs-identifier hs-var">pp_data_defn</span></a><span> </span><a href="#local-6989586621683094798"><span class="hs-identifier hs-var">pp_hdr</span></a><span> </span><a href="#local-6989586621683094797"><span class="hs-identifier hs-var">defn</span></a><span>
</span><a name="line-1741"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1742"></a><span>    </span><a name="local-6989586621683094798"><a href="#local-6989586621683094798"><span class="hs-identifier">pp_hdr</span></a></a><span> </span><a name="local-6989586621683094799"><a href="#local-6989586621683094799"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#ppr_instance_keyword"><span class="hs-identifier hs-var">ppr_instance_keyword</span></a><span> </span><a href="#local-6989586621683094792"><span class="hs-identifier hs-var">top_lvl</span></a><span>
</span><a name="line-1743"></a><span>              </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#pprHsFamInstLHS"><span class="hs-identifier hs-var">pprHsFamInstLHS</span></a><span> </span><a href="#local-6989586621683094793"><span class="hs-identifier hs-var">tycon</span></a><span> </span><a href="#local-6989586621683094794"><span class="hs-identifier hs-var">bndrs</span></a><span> </span><a href="#local-6989586621683094795"><span class="hs-identifier hs-var">pats</span></a><span> </span><a href="#local-6989586621683094796"><span class="hs-identifier hs-var">fixity</span></a><span> </span><a href="#local-6989586621683094799"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-1744"></a><span>                  </span><span class="hs-comment">-- pp_data_defn pretty-prints the kind sig. See #14817.</span><span>
</span><a name="line-1745"></a><span>
</span><a name="line-1746"></a><span class="hs-identifier">pprDataFamInstDecl</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XFamEqn"><span class="hs-identifier hs-var">XFamEqn</span></a><span> </span><a name="local-6989586621683094800"><a href="#local-6989586621683094800"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1747"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094800"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1748"></a><span class="hs-identifier">pprDataFamInstDecl</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><a name="local-6989586621683094801"><a href="#local-6989586621683094801"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1749"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094801"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1750"></a><span>
</span><a name="line-1751"></a><span class="hs-identifier">pprDataFamInstFlavour</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094605"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1752"></a><a name="pprDataFamInstFlavour"><a href="HsDecls.html#pprDataFamInstFlavour"><span class="hs-identifier">pprDataFamInstFlavour</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dfid_eqn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1753"></a><span>                        </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_rhs</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsDataDefn"><span class="hs-identifier hs-var">HsDataDefn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dd_ND</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094802"><a href="#local-6989586621683094802"><span class="hs-identifier">nd</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1754"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094802"><span class="hs-identifier hs-var">nd</span></a><span>
</span><a name="line-1755"></a><span class="hs-identifier">pprDataFamInstFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dfid_eqn</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1756"></a><span>                        </span><a href="HsDecls.html#FamEqn"><span class="hs-identifier hs-var">FamEqn</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">feqn_rhs</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#XHsDataDefn"><span class="hs-identifier hs-var">XHsDataDefn</span></a><span> </span><a name="local-6989586621683094803"><a href="#local-6989586621683094803"><span class="hs-identifier">x</span></a></a><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1757"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094803"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1758"></a><span class="hs-identifier">pprDataFamInstFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XFamEqn"><span class="hs-identifier hs-var">XFamEqn</span></a><span> </span><a name="local-6989586621683094804"><a href="#local-6989586621683094804"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1759"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094804"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1760"></a><span class="hs-identifier">pprDataFamInstFlavour</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#XHsImplicitBndrs"><span class="hs-identifier hs-var">XHsImplicitBndrs</span></a><span> </span><a name="local-6989586621683094805"><a href="#local-6989586621683094805"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1761"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094805"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1762"></a><span>
</span><a name="line-1763"></a><span class="hs-identifier">pprHsFamInstLHS</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094604"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1764"></a><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094604"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1765"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094604"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1766"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDecls.html#HsTyPats"><span class="hs-identifier hs-type">HsTyPats</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094604"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1767"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span>
</span><a name="line-1768"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094604"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1769"></a><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1770"></a><a name="pprHsFamInstLHS"><a href="HsDecls.html#pprHsFamInstLHS"><span class="hs-identifier">pprHsFamInstLHS</span></a></a><span> </span><a name="local-6989586621683094806"><a href="#local-6989586621683094806"><span class="hs-identifier">thing</span></a></a><span> </span><a name="local-6989586621683094807"><a href="#local-6989586621683094807"><span class="hs-identifier">bndrs</span></a></a><span> </span><a name="local-6989586621683094808"><a href="#local-6989586621683094808"><span class="hs-identifier">typats</span></a></a><span> </span><a name="local-6989586621683094809"><a href="#local-6989586621683094809"><span class="hs-identifier">fixity</span></a></a><span> </span><a name="local-6989586621683094810"><a href="#local-6989586621683094810"><span class="hs-identifier">mb_ctxt</span></a></a><span>
</span><a name="line-1771"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="HsTypes.html#pprHsExplicitForAll"><span class="hs-identifier hs-var">pprHsExplicitForAll</span></a><span> </span><a href="#local-6989586621683094807"><span class="hs-identifier hs-var">bndrs</span></a><span>
</span><a name="line-1772"></a><span>          </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprLHsContext"><span class="hs-identifier hs-var">pprLHsContext</span></a><span> </span><a href="#local-6989586621683094810"><span class="hs-identifier hs-var">mb_ctxt</span></a><span>
</span><a name="line-1773"></a><span>          </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621683094811"><span class="hs-identifier hs-var">pp_pats</span></a><span> </span><a href="#local-6989586621683094808"><span class="hs-identifier hs-var">typats</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1774"></a><span>   </span><span class="hs-keyword">where</span><span>
</span><a name="line-1775"></a><span>     </span><a name="local-6989586621683094811"><a href="#local-6989586621683094811"><span class="hs-identifier">pp_pats</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621683094812"><a href="#local-6989586621683094812"><span class="hs-identifier">patl</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621683094813"><a href="#local-6989586621683094813"><span class="hs-identifier">patr</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621683094814"><a href="#local-6989586621683094814"><span class="hs-identifier">pats</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1776"></a><span>       </span><span class="hs-glyph">|</span><span> </span><a href="BasicTypes.html#Infix"><span class="hs-identifier hs-var">Infix</span></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621683094809"><span class="hs-identifier hs-var">fixity</span></a><span>
</span><a name="line-1777"></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621683094815"><a href="#local-6989586621683094815"><span class="hs-identifier">pp_op_app</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094812"><span class="hs-identifier hs-var">patl</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-6989586621683094806"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094813"><span class="hs-identifier hs-var">patr</span></a><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">in</span><span>
</span><a name="line-1778"></a><span>         </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094814"><span class="hs-identifier hs-var">pats</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1779"></a><span>           </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094815"><span class="hs-identifier hs-var">pp_op_app</span></a><span>
</span><a name="line-1780"></a><span>           </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-6989586621683094815"><span class="hs-identifier hs-var">pp_op_app</span></a><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094814"><span class="hs-identifier hs-var">pats</span></a><span class="hs-special">)</span><span>
</span><a name="line-1781"></a><span>
</span><a name="line-1782"></a><span>     </span><span class="hs-identifier">pp_pats</span><span> </span><a name="local-6989586621683094816"><a href="#local-6989586621683094816"><span class="hs-identifier">pats</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621683094806"><span class="hs-identifier hs-var">thing</span></a><span>
</span><a name="line-1783"></a><span>                         </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094816"><span class="hs-identifier hs-var">pats</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1784"></a><span>
</span><a name="line-1785"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094446"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094445"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1786"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a><span> </span><a href="#local-6989586621683094445"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1787"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-var">ClsInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cid_poly_ty</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094447"><a href="#local-6989586621683094447"><span class="hs-identifier">inst_ty</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">cid_binds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094448"><a href="#local-6989586621683094448"><span class="hs-identifier">binds</span></a></a><span>
</span><a name="line-1788"></a><span>                     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">cid_sigs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094449"><a href="#local-6989586621683094449"><span class="hs-identifier">sigs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">cid_tyfam_insts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094450"><a href="#local-6989586621683094450"><span class="hs-identifier">ats</span></a></a><span>
</span><a name="line-1789"></a><span>                     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">cid_overlap_mode</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094451"><a href="#local-6989586621683094451"><span class="hs-identifier">mbOverlap</span></a></a><span>
</span><a name="line-1790"></a><span>                     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">cid_datafam_insts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094452"><a href="#local-6989586621683094452"><span class="hs-identifier">adts</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1791"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094449"><span class="hs-identifier hs-var">sigs</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094450"><span class="hs-identifier hs-var">ats</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094452"><span class="hs-identifier hs-var">adts</span></a><span class="hs-special">,</span><span> </span><a href="Bag.html#isEmptyBag"><span class="hs-identifier hs-var">isEmptyBag</span></a><span> </span><a href="#local-6989586621683094448"><span class="hs-identifier hs-var">binds</span></a><span>  </span><span class="hs-comment">-- No &quot;where&quot; part</span><span>
</span><a name="line-1792"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094453"><span class="hs-identifier hs-var">top_matter</span></a><span>
</span><a name="line-1793"></a><span>
</span><a name="line-1794"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>       </span><span class="hs-comment">-- Laid out</span><span>
</span><a name="line-1795"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="#local-6989586621683094453"><span class="hs-identifier hs-var">top_matter</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;where&quot;</span><span>
</span><a name="line-1796"></a><span>             </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="HsBinds.html#pprDeclList"><span class="hs-identifier hs-var">pprDeclList</span></a><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-1797"></a><span>               </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#pprTyFamInstDecl"><span class="hs-identifier hs-var">pprTyFamInstDecl</span></a><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span>   </span><a href="#local-6989586621683094450"><span class="hs-identifier hs-var">ats</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-1798"></a><span>               </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#pprDataFamInstDecl"><span class="hs-identifier hs-var">pprDataFamInstDecl</span></a><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094452"><span class="hs-identifier hs-var">adts</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-1799"></a><span>               </span><a href="HsBinds.html#pprLHsBindsForUser"><span class="hs-identifier hs-var">pprLHsBindsForUser</span></a><span> </span><a href="#local-6989586621683094448"><span class="hs-identifier hs-var">binds</span></a><span> </span><a href="#local-6989586621683094449"><span class="hs-identifier hs-var">sigs</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1800"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-1801"></a><span>        </span><a name="local-6989586621683094453"><a href="#local-6989586621683094453"><span class="hs-identifier">top_matter</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;instance&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDecls.html#ppOverlapPragma"><span class="hs-identifier hs-var">ppOverlapPragma</span></a><span> </span><a href="#local-6989586621683094451"><span class="hs-identifier hs-var">mbOverlap</span></a><span>
</span><a name="line-1802"></a><span>                                             </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094447"><span class="hs-identifier hs-var">inst_ty</span></a><span>
</span><a name="line-1803"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XClsInstDecl"><span class="hs-identifier hs-var">XClsInstDecl</span></a><span> </span><a name="local-6989586621683094454"><a href="#local-6989586621683094454"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094454"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1804"></a><span>
</span><a name="line-1805"></a><span class="hs-identifier">ppDerivStrategy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094603"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094602"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1806"></a><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#LDerivStrategy"><span class="hs-identifier hs-type">LDerivStrategy</span></a><span> </span><a href="#local-6989586621683094602"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1807"></a><a name="ppDerivStrategy"><a href="HsDecls.html#ppDerivStrategy"><span class="hs-identifier">ppDerivStrategy</span></a></a><span> </span><a name="local-6989586621683094817"><a href="#local-6989586621683094817"><span class="hs-identifier">mb</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1808"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094817"><span class="hs-identifier hs-var">mb</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1809"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1810"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094818"><a href="#local-6989586621683094818"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094818"><span class="hs-identifier hs-var">ds</span></a><span>
</span><a name="line-1811"></a><span>
</span><a name="line-1812"></a><span class="hs-identifier">ppOverlapPragma</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1813"></a><a name="ppOverlapPragma"><a href="HsDecls.html#ppOverlapPragma"><span class="hs-identifier">ppOverlapPragma</span></a></a><span> </span><a name="local-6989586621683094819"><a href="#local-6989586621683094819"><span class="hs-identifier">mb</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1814"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094819"><span class="hs-identifier hs-var">mb</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1815"></a><span>    </span><span class="hs-identifier hs-var">Nothing</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1816"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#NoOverlap"><span class="hs-identifier hs-var">NoOverlap</span></a><span> </span><a name="local-6989586621683094823"><a href="#local-6989586621683094823"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094820"><span class="hs-identifier hs-var">maybe_stext</span></a><span> </span><a href="#local-6989586621683094823"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-string">&quot;{-# NO_OVERLAP #-}&quot;</span><span>
</span><a name="line-1817"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlappable"><span class="hs-identifier hs-var">Overlappable</span></a><span> </span><a name="local-6989586621683094824"><a href="#local-6989586621683094824"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094820"><span class="hs-identifier hs-var">maybe_stext</span></a><span> </span><a href="#local-6989586621683094824"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-string">&quot;{-# OVERLAPPABLE #-}&quot;</span><span>
</span><a name="line-1818"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlapping"><span class="hs-identifier hs-var">Overlapping</span></a><span> </span><a name="local-6989586621683094825"><a href="#local-6989586621683094825"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094820"><span class="hs-identifier hs-var">maybe_stext</span></a><span> </span><a href="#local-6989586621683094825"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-string">&quot;{-# OVERLAPPING #-}&quot;</span><span>
</span><a name="line-1819"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlaps"><span class="hs-identifier hs-var">Overlaps</span></a><span> </span><a name="local-6989586621683094826"><a href="#local-6989586621683094826"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094820"><span class="hs-identifier hs-var">maybe_stext</span></a><span> </span><a href="#local-6989586621683094826"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-string">&quot;{-# OVERLAPS #-}&quot;</span><span>
</span><a name="line-1820"></a><span>    </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Incoherent"><span class="hs-identifier hs-var">Incoherent</span></a><span> </span><a name="local-6989586621683094827"><a href="#local-6989586621683094827"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621683094820"><span class="hs-identifier hs-var">maybe_stext</span></a><span> </span><a href="#local-6989586621683094827"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-string">&quot;{-# INCOHERENT #-}&quot;</span><span>
</span><a name="line-1821"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1822"></a><span>    </span><a name="local-6989586621683094820"><a href="#local-6989586621683094820"><span class="hs-identifier">maybe_stext</span></a></a><span> </span><a href="BasicTypes.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a><span>     </span><a name="local-6989586621683094821"><a href="#local-6989586621683094821"><span class="hs-identifier">alt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><a href="#local-6989586621683094821"><span class="hs-identifier hs-var">alt</span></a><span>
</span><a name="line-1823"></a><span>    </span><span class="hs-identifier">maybe_stext</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a><span> </span><a name="local-6989586621683094822"><a href="#local-6989586621683094822"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><a href="#local-6989586621683094822"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;#-}&quot;</span><span>
</span><a name="line-1824"></a><span>
</span><a name="line-1825"></a><span>
</span><a name="line-1826"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094440"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094439"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a><span> </span><a href="#local-6989586621683094439"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1827"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstD"><span class="hs-identifier hs-var">ClsInstD</span></a><span>     </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cid_inst</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094441"><a href="#local-6989586621683094441"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094441"><span class="hs-identifier hs-var">decl</span></a><span>
</span><a name="line-1828"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstD"><span class="hs-identifier hs-var">TyFamInstD</span></a><span>   </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">tfid_inst</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094442"><a href="#local-6989586621683094442"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094442"><span class="hs-identifier hs-var">decl</span></a><span>
</span><a name="line-1829"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstD"><span class="hs-identifier hs-var">DataFamInstD</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dfid_inst</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094443"><a href="#local-6989586621683094443"><span class="hs-identifier">decl</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094443"><span class="hs-identifier hs-var">decl</span></a><span>
</span><a name="line-1830"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XInstDecl"><span class="hs-identifier hs-var">XInstDecl</span></a><span> </span><a name="local-6989586621683094444"><a href="#local-6989586621683094444"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094444"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1831"></a><span>
</span><a name="line-1832"></a><span class="hs-comment">-- Extract the declarations of associated data types from an instance</span><span>
</span><a name="line-1833"></a><span>
</span><a name="line-1834"></a><span class="hs-identifier">instDeclDataFamInsts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a><span> </span><a href="#local-6989586621683094601"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a><span> </span><a href="#local-6989586621683094601"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1835"></a><a name="instDeclDataFamInsts"><a href="HsDecls.html#instDeclDataFamInsts"><span class="hs-identifier">instDeclDataFamInsts</span></a></a><span> </span><a name="local-6989586621683094828"><a href="#local-6989586621683094828"><span class="hs-identifier">inst_decls</span></a></a><span>
</span><a name="line-1836"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">concatMap</span><span> </span><a href="#local-6989586621683094829"><span class="hs-identifier hs-var">do_one</span></a><span> </span><a href="#local-6989586621683094828"><span class="hs-identifier hs-var">inst_decls</span></a><span>
</span><a name="line-1837"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1838"></a><span>    </span><a name="local-6989586621683094829"><a href="#local-6989586621683094829"><span class="hs-identifier">do_one</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstD"><span class="hs-identifier hs-var">ClsInstD</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cid_inst</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#ClsInstDecl"><span class="hs-identifier hs-var">ClsInstDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cid_datafam_insts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094830"><a href="#local-6989586621683094830"><span class="hs-identifier">fam_insts</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1839"></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094830"><span class="hs-identifier hs-var">fam_insts</span></a><span>
</span><a name="line-1840"></a><span>    </span><span class="hs-identifier">do_one</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DataFamInstD"><span class="hs-identifier hs-var">DataFamInstD</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dfid_inst</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094831"><a href="#local-6989586621683094831"><span class="hs-identifier">fam_inst</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621683094831"><span class="hs-identifier hs-var">fam_inst</span></a><span class="hs-special">]</span><span>
</span><a name="line-1841"></a><span>    </span><span class="hs-identifier">do_one</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TyFamInstD"><span class="hs-identifier hs-var">TyFamInstD</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1842"></a><span>    </span><span class="hs-identifier">do_one</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ClsInstD"><span class="hs-identifier hs-var">ClsInstD</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XClsInstDecl"><span class="hs-identifier hs-var">XClsInstDecl</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;instDeclDataFamInsts&quot;</span><span>
</span><a name="line-1843"></a><span>    </span><span class="hs-identifier">do_one</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XInstDecl"><span class="hs-identifier hs-var">XInstDecl</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>                 </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;instDeclDataFamInsts&quot;</span><span>
</span><a name="line-1844"></a><span>
</span><a name="line-1845"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[DerivDecl]{A stand-alone instance deriving declaration}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1852"></a><span>
</span><a name="line-1853"></a><span class="hs-comment">-- | Located stand-alone 'deriving instance' declaration</span><span>
</span><a name="line-1854"></a><span class="hs-keyword">type</span><span> </span><a name="LDerivDecl"><a href="HsDecls.html#LDerivDecl"><span class="hs-identifier">LDerivDecl</span></a></a><span> </span><a name="local-6989586621683094291"><a href="#local-6989586621683094291"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a><span> </span><a href="#local-6989586621683094291"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1855"></a><span>
</span><a name="line-1856"></a><span class="hs-comment">-- | Stand-alone 'deriving instance' declaration</span><span>
</span><a name="line-1857"></a><span class="hs-keyword">data</span><span> </span><a name="DerivDecl"><a href="HsDecls.html#DerivDecl"><span class="hs-identifier">DerivDecl</span></a></a><span> </span><a name="local-6989586621683094290"><a href="#local-6989586621683094290"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="DerivDecl"><a href="HsDecls.html#DerivDecl"><span class="hs-identifier">DerivDecl</span></a></a><span>
</span><a name="line-1858"></a><span>        </span><span class="hs-special">{</span><span> </span><a name="deriv_ext"><a href="HsDecls.html#deriv_ext"><span class="hs-identifier">deriv_ext</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCDerivDecl"><span class="hs-identifier hs-type">XCDerivDecl</span></a><span> </span><a href="#local-6989586621683094290"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1859"></a><span>        </span><span class="hs-special">,</span><span> </span><a name="deriv_type"><a href="HsDecls.html#deriv_type"><span class="hs-identifier">deriv_type</span></a></a><span>         </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621683094290"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1860"></a><span>          </span><span class="hs-comment">-- ^ The instance type to derive.</span><span>
</span><a name="line-1861"></a><span>          </span><span class="hs-comment">--</span><span>
</span><a name="line-1862"></a><span>          </span><span class="hs-comment">-- It uses an 'LHsSigWcType' because the context is allowed to be a</span><span>
</span><a name="line-1863"></a><span>          </span><span class="hs-comment">-- single wildcard:</span><span>
</span><a name="line-1864"></a><span>          </span><span class="hs-comment">--</span><span>
</span><a name="line-1865"></a><span>          </span><span class="hs-comment">-- &gt; deriving instance _ =&gt; Eq (Foo a)</span><span>
</span><a name="line-1866"></a><span>          </span><span class="hs-comment">--</span><span>
</span><a name="line-1867"></a><span>          </span><span class="hs-comment">-- Which signifies that the context should be inferred.</span><span>
</span><a name="line-1868"></a><span>
</span><a name="line-1869"></a><span>          </span><span class="hs-comment">-- See Note [Inferring the instance context] in TcDerivInfer.</span><span>
</span><a name="line-1870"></a><span>
</span><a name="line-1871"></a><span>        </span><span class="hs-special">,</span><span> </span><a name="deriv_strategy"><a href="HsDecls.html#deriv_strategy"><span class="hs-identifier">deriv_strategy</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#LDerivStrategy"><span class="hs-identifier hs-type">LDerivStrategy</span></a><span> </span><a href="#local-6989586621683094290"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1872"></a><span>        </span><span class="hs-special">,</span><span> </span><a name="deriv_overlap_mode"><a href="HsDecls.html#deriv_overlap_mode"><span class="hs-identifier">deriv_overlap_mode</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span class="hs-special">)</span><span>
</span><a name="line-1873"></a><span>         </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDeriving',</span><span>
</span><a name="line-1874"></a><span>         </span><span class="hs-comment">--        'ApiAnnotation.AnnInstance', 'ApiAnnotation.AnnStock',</span><span>
</span><a name="line-1875"></a><span>         </span><span class="hs-comment">--        'ApiAnnotation.AnnAnyClass', 'Api.AnnNewtype',</span><span>
</span><a name="line-1876"></a><span>         </span><span class="hs-comment">--        'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1877"></a><span>
</span><a name="line-1878"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1879"></a><span>        </span><span class="hs-special">}</span><span>
</span><a name="line-1880"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XDerivDecl"><a href="HsDecls.html#XDerivDecl"><span class="hs-identifier">XDerivDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXDerivDecl"><span class="hs-identifier hs-type">XXDerivDecl</span></a><span> </span><a href="#local-6989586621683094290"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1881"></a><span>
</span><a name="line-1882"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCDerivDecl"><span class="hs-identifier hs-type">XCDerivDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1883"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXDerivDecl"><span class="hs-identifier hs-type">XXDerivDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1884"></a><span>
</span><a name="line-1885"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094432"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094431"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1886"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a><span> </span><a href="#local-6989586621683094431"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1887"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivDecl"><span class="hs-identifier hs-var">DerivDecl</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deriv_type</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094433"><a href="#local-6989586621683094433"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-1888"></a><span>                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">deriv_strategy</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094434"><a href="#local-6989586621683094434"><span class="hs-identifier">ds</span></a></a><span>
</span><a name="line-1889"></a><span>                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">deriv_overlap_mode</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094435"><a href="#local-6989586621683094435"><span class="hs-identifier">o</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1890"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;deriving&quot;</span><span>
</span><a name="line-1891"></a><span>               </span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#ppDerivStrategy"><span class="hs-identifier hs-var">ppDerivStrategy</span></a><span> </span><a href="#local-6989586621683094434"><span class="hs-identifier hs-var">ds</span></a><span>
</span><a name="line-1892"></a><span>               </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;instance&quot;</span><span>
</span><a name="line-1893"></a><span>               </span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#ppOverlapPragma"><span class="hs-identifier hs-var">ppOverlapPragma</span></a><span> </span><a href="#local-6989586621683094435"><span class="hs-identifier hs-var">o</span></a><span>
</span><a name="line-1894"></a><span>               </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094433"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1895"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XDerivDecl"><span class="hs-identifier hs-var">XDerivDecl</span></a><span> </span><a name="local-6989586621683094436"><a href="#local-6989586621683094436"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094436"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1896"></a><span>
</span><a name="line-1897"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Deriving strategies
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1904"></a><span>
</span><a name="line-1905"></a><span class="hs-comment">-- | A 'Located' 'DerivStrategy'.</span><span>
</span><a name="line-1906"></a><span class="hs-keyword">type</span><span> </span><a name="LDerivStrategy"><a href="HsDecls.html#LDerivStrategy"><span class="hs-identifier">LDerivStrategy</span></a></a><span> </span><a name="local-6989586621683094289"><a href="#local-6989586621683094289"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivStrategy"><span class="hs-identifier hs-type">DerivStrategy</span></a><span> </span><a href="#local-6989586621683094289"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1907"></a><span>
</span><a name="line-1908"></a><span class="hs-comment">-- | Which technique the user explicitly requested when deriving an instance.</span><span>
</span><a name="line-1909"></a><span class="hs-keyword">data</span><span> </span><a name="DerivStrategy"><a href="HsDecls.html#DerivStrategy"><span class="hs-identifier">DerivStrategy</span></a></a><span> </span><a name="local-6989586621683094288"><a href="#local-6989586621683094288"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1910"></a><span>  </span><span class="hs-comment">-- See Note [Deriving strategies] in TcDeriv</span><span>
</span><a name="line-1911"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="StockStrategy"><a href="HsDecls.html#StockStrategy"><span class="hs-identifier">StockStrategy</span></a></a><span>    </span><span class="hs-comment">-- ^ GHC's \&quot;standard\&quot; strategy, which is to implement a</span><span>
</span><a name="line-1912"></a><span>                     </span><span class="hs-comment">--   custom instance for the data type. This only works</span><span>
</span><a name="line-1913"></a><span>                     </span><span class="hs-comment">--   for certain types that GHC knows about (e.g., 'Eq',</span><span>
</span><a name="line-1914"></a><span>                     </span><span class="hs-comment">--   'Show', 'Functor' when @-XDeriveFunctor@ is enabled,</span><span>
</span><a name="line-1915"></a><span>                     </span><span class="hs-comment">--   etc.)</span><span>
</span><a name="line-1916"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="AnyclassStrategy"><a href="HsDecls.html#AnyclassStrategy"><span class="hs-identifier">AnyclassStrategy</span></a></a><span> </span><span class="hs-comment">-- ^ @-XDeriveAnyClass@</span><span>
</span><a name="line-1917"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="NewtypeStrategy"><a href="HsDecls.html#NewtypeStrategy"><span class="hs-identifier">NewtypeStrategy</span></a></a><span>  </span><span class="hs-comment">-- ^ @-XGeneralizedNewtypeDeriving@</span><span>
</span><a name="line-1918"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ViaStrategy"><a href="HsDecls.html#ViaStrategy"><span class="hs-identifier">ViaStrategy</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XViaStrategy"><span class="hs-identifier hs-type">XViaStrategy</span></a><span> </span><a href="#local-6989586621683094288"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1919"></a><span>                     </span><span class="hs-comment">-- ^ @-XDerivingVia@</span><span>
</span><a name="line-1920"></a><span>
</span><a name="line-1921"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XViaStrategy"><span class="hs-identifier hs-type">XViaStrategy</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1922"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XViaStrategy"><span class="hs-identifier hs-type">XViaStrategy</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span>
</span><a name="line-1923"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XViaStrategy"><span class="hs-identifier hs-type">XViaStrategy</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span>
</span><a name="line-1924"></a><span>
</span><a name="line-1925"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094429"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094428"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1926"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DerivStrategy"><span class="hs-identifier hs-type">DerivStrategy</span></a><span> </span><a href="#local-6989586621683094428"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1927"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="HsDecls.html#StockStrategy"><span class="hs-identifier hs-var">StockStrategy</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;stock&quot;</span><span>
</span><a name="line-1928"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="HsDecls.html#AnyclassStrategy"><span class="hs-identifier hs-var">AnyclassStrategy</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;anyclass&quot;</span><span>
</span><a name="line-1929"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="HsDecls.html#NewtypeStrategy"><span class="hs-identifier hs-var">NewtypeStrategy</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;newtype&quot;</span><span>
</span><a name="line-1930"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ViaStrategy"><span class="hs-identifier hs-var">ViaStrategy</span></a><span> </span><a name="local-6989586621683094430"><a href="#local-6989586621683094430"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;via&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094430"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1931"></a><span>
</span><a name="line-1932"></a><span class="hs-comment">-- | A short description of a @DerivStrategy'@.</span><span>
</span><a name="line-1933"></a><span class="hs-identifier">derivStrategyName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#DerivStrategy"><span class="hs-identifier hs-type">DerivStrategy</span></a><span> </span><a href="#local-6989586621683094600"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1934"></a><a name="derivStrategyName"><a href="HsDecls.html#derivStrategyName"><span class="hs-identifier">derivStrategyName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621683094832"><span class="hs-identifier hs-var">go</span></a><span>
</span><a name="line-1935"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1936"></a><span>    </span><a name="local-6989586621683094832"><a href="#local-6989586621683094832"><span class="hs-identifier">go</span></a></a><span> </span><a href="HsDecls.html#StockStrategy"><span class="hs-identifier hs-var">StockStrategy</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;stock&quot;</span><span>
</span><a name="line-1937"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a href="HsDecls.html#AnyclassStrategy"><span class="hs-identifier hs-var">AnyclassStrategy</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;anyclass&quot;</span><span>
</span><a name="line-1938"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a href="HsDecls.html#NewtypeStrategy"><span class="hs-identifier hs-var">NewtypeStrategy</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;newtype&quot;</span><span>
</span><a name="line-1939"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ViaStrategy"><span class="hs-identifier hs-var">ViaStrategy</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;via&quot;</span><span>
</span><a name="line-1940"></a><span>
</span><a name="line-1941"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[DefaultDecl]{A @default@ declaration}
*                                                                      *
************************************************************************

There can only be one default declaration per module, but it is hard
for the parser to check that; we pass them all through in the abstract
syntax, and that restriction must be checked in the front end.
-}</span><span>
</span><a name="line-1952"></a><span>
</span><a name="line-1953"></a><span class="hs-comment">-- | Located Default Declaration</span><span>
</span><a name="line-1954"></a><span class="hs-keyword">type</span><span> </span><a name="LDefaultDecl"><a href="HsDecls.html#LDefaultDecl"><span class="hs-identifier">LDefaultDecl</span></a></a><span> </span><a name="local-6989586621683094287"><a href="#local-6989586621683094287"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a><span> </span><a href="#local-6989586621683094287"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1955"></a><span>
</span><a name="line-1956"></a><span class="hs-comment">-- | Default Declaration</span><span>
</span><a name="line-1957"></a><span class="hs-keyword">data</span><span> </span><a name="DefaultDecl"><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier">DefaultDecl</span></a></a><span> </span><a name="local-6989586621683094286"><a href="#local-6989586621683094286"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1958"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="DefaultDecl"><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier">DefaultDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XCDefaultDecl"><span class="hs-identifier hs-type">XCDefaultDecl</span></a><span> </span><a href="#local-6989586621683094286"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621683094286"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-1959"></a><span>        </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId's : 'ApiAnnotation.AnnDefault',</span><span>
</span><a name="line-1960"></a><span>        </span><span class="hs-comment">--          'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1961"></a><span>
</span><a name="line-1962"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1963"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XDefaultDecl"><a href="HsDecls.html#XDefaultDecl"><span class="hs-identifier">XDefaultDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXDefaultDecl"><span class="hs-identifier hs-type">XXDefaultDecl</span></a><span> </span><a href="#local-6989586621683094286"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1964"></a><span>
</span><a name="line-1965"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCDefaultDecl"><span class="hs-identifier hs-type">XCDefaultDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1966"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXDefaultDecl"><span class="hs-identifier hs-type">XXDefaultDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-1967"></a><span>
</span><a name="line-1968"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094423"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094422"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-1969"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a><span> </span><a href="#local-6989586621683094422"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1970"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DefaultDecl"><span class="hs-identifier hs-var">DefaultDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094424"><a href="#local-6989586621683094424"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1971"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;default&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621683094424"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1972"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XDefaultDecl"><span class="hs-identifier hs-var">XDefaultDecl</span></a><span> </span><a name="local-6989586621683094425"><a href="#local-6989586621683094425"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094425"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-1973"></a><span>
</span><a name="line-1974"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Foreign function interface declaration}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1981"></a><span>
</span><a name="line-1982"></a><span class="hs-comment">-- foreign declarations are distinguished as to whether they define or use a</span><span>
</span><a name="line-1983"></a><span class="hs-comment">-- Haskell name</span><span>
</span><a name="line-1984"></a><span class="hs-comment">--</span><span>
</span><a name="line-1985"></a><span class="hs-comment">--  * the Boolean value indicates whether the pre-standard deprecated syntax</span><span>
</span><a name="line-1986"></a><span class="hs-comment">--   has been used</span><span>
</span><a name="line-1987"></a><span>
</span><a name="line-1988"></a><span class="hs-comment">-- | Located Foreign Declaration</span><span>
</span><a name="line-1989"></a><span class="hs-keyword">type</span><span> </span><a name="LForeignDecl"><a href="HsDecls.html#LForeignDecl"><span class="hs-identifier">LForeignDecl</span></a></a><span> </span><a name="local-6989586621683094285"><a href="#local-6989586621683094285"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ForeignDecl"><span class="hs-identifier hs-type">ForeignDecl</span></a><span> </span><a href="#local-6989586621683094285"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1990"></a><span>
</span><a name="line-1991"></a><span class="hs-comment">-- | Foreign Declaration</span><span>
</span><a name="line-1992"></a><span class="hs-keyword">data</span><span> </span><a name="ForeignDecl"><a href="HsDecls.html#ForeignDecl"><span class="hs-identifier">ForeignDecl</span></a></a><span> </span><a name="local-6989586621683094284"><a href="#local-6989586621683094284"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1993"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ForeignImport"><a href="HsDecls.html#ForeignImport"><span class="hs-identifier">ForeignImport</span></a></a><span>
</span><a name="line-1994"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="fd_i_ext"><a href="HsDecls.html#fd_i_ext"><span class="hs-identifier">fd_i_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XForeignImport"><span class="hs-identifier hs-type">XForeignImport</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span>   </span><span class="hs-comment">-- Post typechecker, rep_ty ~ sig_ty</span><span>
</span><a name="line-1995"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_name"><a href="HsDecls.html#fd_name"><span class="hs-identifier">fd_name</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- defines this name</span><span>
</span><a name="line-1996"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_sig_ty"><a href="HsDecls.html#fd_sig_ty"><span class="hs-identifier">fd_sig_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- sig_ty</span><span>
</span><a name="line-1997"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_fi"><a href="HsDecls.html#fd_fi"><span class="hs-identifier">fd_fi</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1998"></a><span>
</span><a name="line-1999"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ForeignExport"><a href="HsDecls.html#ForeignExport"><span class="hs-identifier">ForeignExport</span></a></a><span>
</span><a name="line-2000"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="fd_e_ext"><a href="HsDecls.html#fd_e_ext"><span class="hs-identifier">fd_e_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XForeignExport"><span class="hs-identifier hs-type">XForeignExport</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span>   </span><span class="hs-comment">-- Post typechecker, rep_ty ~ sig_ty</span><span>
</span><a name="line-2001"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_name"><a href="HsDecls.html#fd_name"><span class="hs-identifier">fd_name</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- uses this name</span><span>
</span><a name="line-2002"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_sig_ty"><a href="HsDecls.html#fd_sig_ty"><span class="hs-identifier">fd_sig_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- sig_ty</span><span>
</span><a name="line-2003"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="fd_fe"><a href="HsDecls.html#fd_fe"><span class="hs-identifier">fd_fe</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-2004"></a><span>        </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-2005"></a><span>        </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnForeign',</span><span>
</span><a name="line-2006"></a><span>        </span><span class="hs-comment">--           'ApiAnnotation.AnnImport','ApiAnnotation.AnnExport',</span><span>
</span><a name="line-2007"></a><span>        </span><span class="hs-comment">--           'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-2008"></a><span>
</span><a name="line-2009"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-2010"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XForeignDecl"><a href="HsDecls.html#XForeignDecl"><span class="hs-identifier">XForeignDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXForeignDecl"><span class="hs-identifier hs-type">XXForeignDecl</span></a><span> </span><a href="#local-6989586621683094284"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2011"></a><span>
</span><a name="line-2012"></a><span class="hs-comment">{-
    In both ForeignImport and ForeignExport:
        sig_ty is the type given in the Haskell code
        rep_ty is the representation for this type, i.e. with newtypes
               coerced away and type functions evaluated.
    Thus if the declaration is valid, then rep_ty will only use types
    such as Int and IO that we know how to make foreign calls with.
-}</span><span>
</span><a name="line-2020"></a><span>
</span><a name="line-2021"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignImport"><span class="hs-identifier hs-type">XForeignImport</span></a><span>   </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2022"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignImport"><span class="hs-identifier hs-type">XForeignImport</span></a><span>   </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2023"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignImport"><span class="hs-identifier hs-type">XForeignImport</span></a><span>   </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCoRep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a><span>
</span><a name="line-2024"></a><span>
</span><a name="line-2025"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignExport"><span class="hs-identifier hs-type">XForeignExport</span></a><span>   </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2026"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignExport"><span class="hs-identifier hs-type">XForeignExport</span></a><span>   </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2027"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XForeignExport"><span class="hs-identifier hs-type">XForeignExport</span></a><span>   </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="TyCoRep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a><span>
</span><a name="line-2028"></a><span>
</span><a name="line-2029"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXForeignDecl"><span class="hs-identifier hs-type">XXForeignDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2030"></a><span>
</span><a name="line-2031"></a><span class="hs-comment">-- Specification Of an imported external entity in dependence on the calling</span><span>
</span><a name="line-2032"></a><span class="hs-comment">-- convention</span><span>
</span><a name="line-2033"></a><span class="hs-comment">--</span><span>
</span><a name="line-2034"></a><span class="hs-keyword">data</span><span> </span><a name="ForeignImport"><a href="HsDecls.html#ForeignImport"><span class="hs-identifier">ForeignImport</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- import of a C entity</span><span>
</span><a name="line-2035"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-2036"></a><span>                     </span><span class="hs-comment">--  * the two strings specifying a header file or library</span><span>
</span><a name="line-2037"></a><span>                     </span><span class="hs-comment">--   may be empty, which indicates the absence of a</span><span>
</span><a name="line-2038"></a><span>                     </span><span class="hs-comment">--   header or object specification (both are not used</span><span>
</span><a name="line-2039"></a><span>                     </span><span class="hs-comment">--   in the case of `CWrapper' and when `CFunction'</span><span>
</span><a name="line-2040"></a><span>                     </span><span class="hs-comment">--   has a dynamic target)</span><span>
</span><a name="line-2041"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-2042"></a><span>                     </span><span class="hs-comment">--  * the calling convention is irrelevant for code</span><span>
</span><a name="line-2043"></a><span>                     </span><span class="hs-comment">--   generation in the case of `CLabel', but is needed</span><span>
</span><a name="line-2044"></a><span>                     </span><span class="hs-comment">--   for pretty printing</span><span>
</span><a name="line-2045"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-2046"></a><span>                     </span><span class="hs-comment">--  * `Safety' is irrelevant for `CLabel' and `CWrapper'</span><span>
</span><a name="line-2047"></a><span>                     </span><span class="hs-comment">--</span><span>
</span><a name="line-2048"></a><span>                     </span><a name="CImport"><a href="HsDecls.html#CImport"><span class="hs-identifier">CImport</span></a></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ccall or stdcall</span><span>
</span><a name="line-2049"></a><span>                              </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- interruptible, safe or unsafe</span><span>
</span><a name="line-2050"></a><span>                              </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="ForeignCall.html#Header"><span class="hs-identifier hs-type">Header</span></a><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- name of C header</span><span>
</span><a name="line-2051"></a><span>                              </span><a href="HsDecls.html#CImportSpec"><span class="hs-identifier hs-type">CImportSpec</span></a><span>          </span><span class="hs-comment">-- details of the C entity</span><span>
</span><a name="line-2052"></a><span>                              </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- original source text for</span><span>
</span><a name="line-2053"></a><span>                                                   </span><span class="hs-comment">-- the C entity</span><span>
</span><a name="line-2054"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-2055"></a><span>
</span><a name="line-2056"></a><span class="hs-comment">-- details of an external C entity</span><span>
</span><a name="line-2057"></a><span class="hs-comment">--</span><span>
</span><a name="line-2058"></a><span class="hs-keyword">data</span><span> </span><a name="CImportSpec"><a href="HsDecls.html#CImportSpec"><span class="hs-identifier">CImportSpec</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="CLabel"><a href="HsDecls.html#CLabel"><span class="hs-identifier">CLabel</span></a></a><span>    </span><a href="ForeignCall.html#CLabelString"><span class="hs-identifier hs-type">CLabelString</span></a><span>     </span><span class="hs-comment">-- import address of a C label</span><span>
</span><a name="line-2059"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="CFunction"><a href="HsDecls.html#CFunction"><span class="hs-identifier">CFunction</span></a></a><span> </span><a href="ForeignCall.html#CCallTarget"><span class="hs-identifier hs-type">CCallTarget</span></a><span>      </span><span class="hs-comment">-- static or dynamic function</span><span>
</span><a name="line-2060"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="CWrapper"><a href="HsDecls.html#CWrapper"><span class="hs-identifier">CWrapper</span></a></a><span>                   </span><span class="hs-comment">-- wrapper to expose closures</span><span>
</span><a name="line-2061"></a><span>                                              </span><span class="hs-comment">-- (former f.e.d.)</span><span>
</span><a name="line-2062"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-2063"></a><span>
</span><a name="line-2064"></a><span class="hs-comment">-- specification of an externally exported entity in dependence on the calling</span><span>
</span><a name="line-2065"></a><span class="hs-comment">-- convention</span><span>
</span><a name="line-2066"></a><span class="hs-comment">--</span><span>
</span><a name="line-2067"></a><span class="hs-keyword">data</span><span> </span><a name="ForeignExport"><a href="HsDecls.html#ForeignExport"><span class="hs-identifier">ForeignExport</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="CExport"><a href="HsDecls.html#CExport"><span class="hs-identifier">CExport</span></a></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="ForeignCall.html#CExportSpec"><span class="hs-identifier hs-type">CExportSpec</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- contains the calling</span><span>
</span><a name="line-2068"></a><span>                                                    </span><span class="hs-comment">-- convention</span><span>
</span><a name="line-2069"></a><span>                              </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- original source text for</span><span>
</span><a name="line-2070"></a><span>                                                    </span><span class="hs-comment">-- the C entity</span><span>
</span><a name="line-2071"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-2072"></a><span>
</span><a name="line-2073"></a><span class="hs-comment">-- pretty printing of foreign declarations</span><span>
</span><a name="line-2074"></a><span class="hs-comment">--</span><span>
</span><a name="line-2075"></a><span>
</span><a name="line-2076"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094413"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094412"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-2077"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ForeignDecl"><span class="hs-identifier hs-type">ForeignDecl</span></a><span> </span><a href="#local-6989586621683094412"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2078"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ForeignImport"><span class="hs-identifier hs-var">ForeignImport</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fd_name</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094414"><a href="#local-6989586621683094414"><span class="hs-identifier">n</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fd_sig_ty</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094415"><a href="#local-6989586621683094415"><span class="hs-identifier">ty</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fd_fi</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094416"><a href="#local-6989586621683094416"><span class="hs-identifier">fimport</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-2079"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;foreign import&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094416"><span class="hs-identifier hs-var">fimport</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094414"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-2080"></a><span>         </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094415"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-2081"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ForeignExport"><span class="hs-identifier hs-var">ForeignExport</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fd_name</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094417"><a href="#local-6989586621683094417"><span class="hs-identifier">n</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fd_sig_ty</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094418"><a href="#local-6989586621683094418"><span class="hs-identifier">ty</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fd_fe</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094419"><a href="#local-6989586621683094419"><span class="hs-identifier">fexport</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2082"></a><span>    </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;foreign export&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094419"><span class="hs-identifier hs-var">fexport</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094417"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-2083"></a><span>       </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094418"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-2084"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XForeignDecl"><span class="hs-identifier hs-var">XForeignDecl</span></a><span> </span><a name="local-6989586621683094420"><a href="#local-6989586621683094420"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094420"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2085"></a><span>
</span><a name="line-2086"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsDecls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2087"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a><span>  </span><a name="local-6989586621683094397"><a href="#local-6989586621683094397"><span class="hs-identifier">cconv</span></a></a><span> </span><a name="local-6989586621683094398"><a href="#local-6989586621683094398"><span class="hs-identifier">safety</span></a></a><span> </span><a name="local-6989586621683094399"><a href="#local-6989586621683094399"><span class="hs-identifier">mHeader</span></a></a><span> </span><a name="local-6989586621683094400"><a href="#local-6989586621683094400"><span class="hs-identifier">spec</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094401"><a href="#local-6989586621683094401"><span class="hs-identifier">srcText</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2088"></a><span>    </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094397"><span class="hs-identifier hs-var">cconv</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094398"><span class="hs-identifier hs-var">safety</span></a><span>
</span><a name="line-2089"></a><span>      </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="BasicTypes.html#pprWithSourceText"><span class="hs-identifier hs-var">pprWithSourceText</span></a><span> </span><a href="#local-6989586621683094401"><span class="hs-identifier hs-var">srcText</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094403"><span class="hs-identifier hs-var">pprCEntity</span></a><span> </span><a href="#local-6989586621683094400"><span class="hs-identifier hs-var">spec</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-2090"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-2091"></a><span>      </span><a name="local-6989586621683094402"><a href="#local-6989586621683094402"><span class="hs-identifier">pp_hdr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621683094399"><span class="hs-identifier hs-var">mHeader</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-2092"></a><span>               </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-2093"></a><span>               </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-special">(</span><a href="ForeignCall.html#Header"><span class="hs-identifier hs-var">Header</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094404"><a href="#local-6989586621683094404"><span class="hs-identifier">header</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-6989586621683094404"><span class="hs-identifier hs-var">header</span></a><span>
</span><a name="line-2094"></a><span>
</span><a name="line-2095"></a><span>      </span><a name="local-6989586621683094403"><a href="#local-6989586621683094403"><span class="hs-identifier">pprCEntity</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#CLabel"><span class="hs-identifier hs-var">CLabel</span></a><span> </span><a name="local-6989586621683094405"><a href="#local-6989586621683094405"><span class="hs-identifier">lbl</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2096"></a><span>        </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;static&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094402"><span class="hs-identifier hs-var">pp_hdr</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'&amp;'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094405"><span class="hs-identifier hs-var">lbl</span></a><span>
</span><a name="line-2097"></a><span>      </span><span class="hs-identifier">pprCEntity</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a><span> </span><span class="hs-special">(</span><a href="ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a><span> </span><a name="local-6989586621683094406"><a href="#local-6989586621683094406"><span class="hs-identifier">st</span></a></a><span> </span><a name="local-6989586621683094407"><a href="#local-6989586621683094407"><span class="hs-identifier">_lbl</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094408"><a href="#local-6989586621683094408"><span class="hs-identifier">isFun</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621683094409"><a href="#local-6989586621683094409"><span class="hs-identifier">src</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2098"></a><span>        </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621683094410"><span class="hs-identifier hs-var">dqNeeded</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><a href="#local-6989586621683094411"><span class="hs-identifier hs-var">ce</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-2099"></a><span>          </span><span class="hs-keyword">where</span><span>
</span><a name="line-2100"></a><span>            </span><a name="local-6989586621683094410"><a href="#local-6989586621683094410"><span class="hs-identifier">dqNeeded</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">take</span><span> </span><span class="hs-number">6</span><span> </span><a href="#local-6989586621683094409"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-string">&quot;static&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-2101"></a><span>                    </span><span class="hs-operator hs-var">||</span><span> </span><span class="hs-identifier hs-var">isJust</span><span> </span><a href="#local-6989586621683094399"><span class="hs-identifier hs-var">mHeader</span></a><span>
</span><a name="line-2102"></a><span>                    </span><span class="hs-operator hs-var">||</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><a href="#local-6989586621683094408"><span class="hs-identifier hs-var">isFun</span></a><span>
</span><a name="line-2103"></a><span>                    </span><span class="hs-operator hs-var">||</span><span> </span><a href="#local-6989586621683094406"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-operator hs-var">/=</span><span> </span><a href="BasicTypes.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a><span>
</span><a name="line-2104"></a><span>            </span><a name="local-6989586621683094411"><a href="#local-6989586621683094411"><span class="hs-identifier">ce</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2105"></a><span>                  </span><span class="hs-comment">-- We may need to drop leading spaces first</span><span>
</span><a name="line-2106"></a><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier hs-var">take</span><span> </span><span class="hs-number">6</span><span> </span><a href="#local-6989586621683094409"><span class="hs-identifier hs-var">src</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-string">&quot;static&quot;</span><span> </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;static&quot;</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">)</span><span>
</span><a name="line-2107"></a><span>              </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094402"><span class="hs-identifier hs-var">pp_hdr</span></a><span>
</span><a name="line-2108"></a><span>              </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621683094408"><span class="hs-identifier hs-var">isFun</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;value&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-2109"></a><span>              </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#pprWithSourceText"><span class="hs-identifier hs-var">pprWithSourceText</span></a><span> </span><a href="#local-6989586621683094406"><span class="hs-identifier hs-var">st</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">)</span><span>
</span><a name="line-2110"></a><span>      </span><span class="hs-identifier">pprCEntity</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a><span> </span><a href="ForeignCall.html#DynamicTarget"><span class="hs-identifier hs-var">DynamicTarget</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2111"></a><span>        </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;dynamic&quot;</span><span>
</span><a name="line-2112"></a><span>      </span><span class="hs-identifier">pprCEntity</span><span> </span><a href="HsDecls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;wrapper&quot;</span><span>
</span><a name="line-2113"></a><span>
</span><a name="line-2114"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsDecls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2115"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#CExport"><span class="hs-identifier hs-var">CExport</span></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="ForeignCall.html#CExportStatic"><span class="hs-identifier hs-var">CExportStatic</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094395"><a href="#local-6989586621683094395"><span class="hs-identifier">lbl</span></a></a><span> </span><a name="local-6989586621683094396"><a href="#local-6989586621683094396"><span class="hs-identifier">cconv</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-2116"></a><span>    </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094396"><span class="hs-identifier hs-var">cconv</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'&quot;'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094395"><span class="hs-identifier hs-var">lbl</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'&quot;'</span><span>
</span><a name="line-2117"></a><span>
</span><a name="line-2118"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Transformation rules}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2125"></a><span>
</span><a name="line-2126"></a><span class="hs-comment">-- | Located Rule Declarations</span><span>
</span><a name="line-2127"></a><span class="hs-keyword">type</span><span> </span><a name="LRuleDecls"><a href="HsDecls.html#LRuleDecls"><span class="hs-identifier">LRuleDecls</span></a></a><span> </span><a name="local-6989586621683094283"><a href="#local-6989586621683094283"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleDecls"><span class="hs-identifier hs-type">RuleDecls</span></a><span> </span><a href="#local-6989586621683094283"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2128"></a><span>
</span><a name="line-2129"></a><span>  </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-2130"></a><span class="hs-comment">-- | Rule Declarations</span><span>
</span><a name="line-2131"></a><span class="hs-keyword">data</span><span> </span><a name="RuleDecls"><a href="HsDecls.html#RuleDecls"><span class="hs-identifier">RuleDecls</span></a></a><span> </span><a name="local-6989586621683094282"><a href="#local-6989586621683094282"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsRules"><a href="HsDecls.html#HsRules"><span class="hs-identifier">HsRules</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="rds_ext"><a href="HsDecls.html#rds_ext"><span class="hs-identifier">rds_ext</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XCRuleDecls"><span class="hs-identifier hs-type">XCRuleDecls</span></a><span> </span><a href="#local-6989586621683094282"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-2132"></a><span>                              </span><span class="hs-special">,</span><span> </span><a name="rds_src"><a href="HsDecls.html#rds_src"><span class="hs-identifier">rds_src</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-2133"></a><span>                              </span><span class="hs-special">,</span><span> </span><a name="rds_rules"><a href="HsDecls.html#rds_rules"><span class="hs-identifier">rds_rules</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRuleDecl"><span class="hs-identifier hs-type">LRuleDecl</span></a><span> </span><a href="#local-6989586621683094282"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-2134"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XRuleDecls"><a href="HsDecls.html#XRuleDecls"><span class="hs-identifier">XRuleDecls</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXRuleDecls"><span class="hs-identifier hs-type">XXRuleDecls</span></a><span> </span><a href="#local-6989586621683094282"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2135"></a><span>
</span><a name="line-2136"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCRuleDecls"><span class="hs-identifier hs-type">XCRuleDecls</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2137"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXRuleDecls"><span class="hs-identifier hs-type">XXRuleDecls</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2138"></a><span>
</span><a name="line-2139"></a><span class="hs-comment">-- | Located Rule Declaration</span><span>
</span><a name="line-2140"></a><span class="hs-keyword">type</span><span> </span><a name="LRuleDecl"><a href="HsDecls.html#LRuleDecl"><span class="hs-identifier">LRuleDecl</span></a></a><span> </span><a name="local-6989586621683094281"><a href="#local-6989586621683094281"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleDecl"><span class="hs-identifier hs-type">RuleDecl</span></a><span> </span><a href="#local-6989586621683094281"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2141"></a><span>
</span><a name="line-2142"></a><span class="hs-comment">-- | Rule Declaration</span><span>
</span><a name="line-2143"></a><span class="hs-keyword">data</span><span> </span><a name="RuleDecl"><a href="HsDecls.html#RuleDecl"><span class="hs-identifier">RuleDecl</span></a></a><span> </span><a name="local-6989586621683094280"><a href="#local-6989586621683094280"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-2144"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsRule"><a href="HsDecls.html#HsRule"><span class="hs-identifier">HsRule</span></a></a><span> </span><span class="hs-comment">-- Source rule</span><span>
</span><a name="line-2145"></a><span>       </span><span class="hs-special">{</span><span> </span><a name="rd_ext"><a href="HsDecls.html#rd_ext"><span class="hs-identifier">rd_ext</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XHsRule"><span class="hs-identifier hs-type">XHsRule</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-2146"></a><span>           </span><span class="hs-comment">-- ^ After renamer, free-vars from the LHS and RHS</span><span>
</span><a name="line-2147"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_name"><a href="HsDecls.html#rd_name"><span class="hs-identifier">rd_name</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><a href="BasicTypes.html#RuleName"><span class="hs-identifier hs-type">RuleName</span></a><span class="hs-special">)</span><span>
</span><a name="line-2148"></a><span>           </span><span class="hs-comment">-- ^ Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-2149"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_act"><a href="HsDecls.html#rd_act"><span class="hs-identifier">rd_act</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span>
</span><a name="line-2150"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_tyvs"><a href="HsDecls.html#rd_tyvs"><span class="hs-identifier">rd_tyvs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#NoGhcTc"><span class="hs-identifier hs-type">NoGhcTc</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-2151"></a><span>           </span><span class="hs-comment">-- ^ Forall'd type vars</span><span>
</span><a name="line-2152"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_tmvs"><a href="HsDecls.html#rd_tmvs"><span class="hs-identifier">rd_tmvs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-2153"></a><span>           </span><span class="hs-comment">-- ^ Forall'd term vars, before typechecking; after typechecking</span><span>
</span><a name="line-2154"></a><span>           </span><span class="hs-comment">--    this includes all forall'd vars</span><span>
</span><a name="line-2155"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_lhs"><a href="HsDecls.html#rd_lhs"><span class="hs-identifier">rd_lhs</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2156"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="rd_rhs"><a href="HsDecls.html#rd_rhs"><span class="hs-identifier">rd_rhs</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2157"></a><span>       </span><span class="hs-special">}</span><span>
</span><a name="line-2158"></a><span>    </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-2159"></a><span>    </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-2160"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnOpen','ApiAnnotation.AnnTilde',</span><span>
</span><a name="line-2161"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnVal',</span><span>
</span><a name="line-2162"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnClose',</span><span>
</span><a name="line-2163"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnForall','ApiAnnotation.AnnDot',</span><span>
</span><a name="line-2164"></a><span>    </span><span class="hs-comment">--           'ApiAnnotation.AnnEqual',</span><span>
</span><a name="line-2165"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XRuleDecl"><a href="HsDecls.html#XRuleDecl"><span class="hs-identifier">XRuleDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXRuleDecl"><span class="hs-identifier hs-type">XXRuleDecl</span></a><span> </span><a href="#local-6989586621683094280"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2166"></a><span>
</span><a name="line-2167"></a><span class="hs-keyword">data</span><span> </span><a name="HsRuleRn"><a href="HsDecls.html#HsRuleRn"><span class="hs-identifier">HsRuleRn</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsRuleRn"><a href="HsDecls.html#HsRuleRn"><span class="hs-identifier">HsRuleRn</span></a></a><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span> </span><span class="hs-comment">-- Free-vars from the LHS and RHS</span><span>
</span><a name="line-2168"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-2169"></a><span>
</span><a name="line-2170"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsRule"><span class="hs-identifier hs-type">XHsRule</span></a><span>       </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2171"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsRule"><span class="hs-identifier hs-type">XHsRule</span></a><span>       </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsRuleRn"><span class="hs-identifier hs-type">HsRuleRn</span></a><span>
</span><a name="line-2172"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsRule"><span class="hs-identifier hs-type">XHsRule</span></a><span>       </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsDecls.html#HsRuleRn"><span class="hs-identifier hs-type">HsRuleRn</span></a><span>
</span><a name="line-2173"></a><span>
</span><a name="line-2174"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXRuleDecl"><span class="hs-identifier hs-type">XXRuleDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2175"></a><span>
</span><a name="line-2176"></a><span class="hs-identifier">flattenRuleDecls</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRuleDecls"><span class="hs-identifier hs-type">LRuleDecls</span></a><span> </span><a href="#local-6989586621683094599"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LRuleDecl"><span class="hs-identifier hs-type">LRuleDecl</span></a><span> </span><a href="#local-6989586621683094599"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-2177"></a><a name="flattenRuleDecls"><a href="HsDecls.html#flattenRuleDecls"><span class="hs-identifier">flattenRuleDecls</span></a></a><span> </span><a name="local-6989586621683094833"><a href="#local-6989586621683094833"><span class="hs-identifier">decls</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">rds_rules</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094833"><span class="hs-identifier hs-var">decls</span></a><span>
</span><a name="line-2178"></a><span>
</span><a name="line-2179"></a><span class="hs-comment">-- | Located Rule Binder</span><span>
</span><a name="line-2180"></a><span class="hs-keyword">type</span><span> </span><a name="LRuleBndr"><a href="HsDecls.html#LRuleBndr"><span class="hs-identifier">LRuleBndr</span></a></a><span> </span><a name="local-6989586621683094279"><a href="#local-6989586621683094279"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a><span> </span><a href="#local-6989586621683094279"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2181"></a><span>
</span><a name="line-2182"></a><span class="hs-comment">-- | Rule Binder</span><span>
</span><a name="line-2183"></a><span class="hs-keyword">data</span><span> </span><a name="RuleBndr"><a href="HsDecls.html#RuleBndr"><span class="hs-identifier">RuleBndr</span></a></a><span> </span><a name="local-6989586621683094278"><a href="#local-6989586621683094278"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-2184"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="RuleBndr"><a href="HsDecls.html#RuleBndr"><span class="hs-identifier">RuleBndr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XCRuleBndr"><span class="hs-identifier hs-type">XCRuleBndr</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2185"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RuleBndrSig"><a href="HsDecls.html#RuleBndrSig"><span class="hs-identifier">RuleBndrSig</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XRuleBndrSig"><span class="hs-identifier hs-type">XRuleBndrSig</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2186"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XRuleBndr"><a href="HsDecls.html#XRuleBndr"><span class="hs-identifier">XRuleBndr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXRuleBndr"><span class="hs-identifier hs-type">XXRuleBndr</span></a><span> </span><a href="#local-6989586621683094278"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2187"></a><span>        </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-2188"></a><span>        </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-2189"></a><span>        </span><span class="hs-comment">--     'ApiAnnotation.AnnDcolon','ApiAnnotation.AnnClose'</span><span>
</span><a name="line-2190"></a><span>
</span><a name="line-2191"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-2192"></a><span>
</span><a name="line-2193"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCRuleBndr"><span class="hs-identifier hs-type">XCRuleBndr</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2194"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XRuleBndrSig"><span class="hs-identifier hs-type">XRuleBndrSig</span></a><span>  </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2195"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXRuleBndr"><span class="hs-identifier hs-type">XXRuleBndr</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2196"></a><span>
</span><a name="line-2197"></a><span class="hs-identifier">collectRuleBndrSigTys</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a><span> </span><a href="#local-6989586621683094598"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621683094598"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-2198"></a><a name="collectRuleBndrSigTys"><a href="HsDecls.html#collectRuleBndrSigTys"><span class="hs-identifier">collectRuleBndrSigTys</span></a></a><span> </span><a name="local-6989586621683094834"><a href="#local-6989586621683094834"><span class="hs-identifier">bndrs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621683094835"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="HsDecls.html#RuleBndrSig"><span class="hs-identifier hs-var">RuleBndrSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094835"><a href="#local-6989586621683094835"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621683094834"><span class="hs-identifier hs-var">bndrs</span></a><span class="hs-special">]</span><span>
</span><a name="line-2199"></a><span>
</span><a name="line-2200"></a><span class="hs-identifier">pprFullRuleName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#RuleName"><span class="hs-identifier hs-type">RuleName</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2201"></a><a name="pprFullRuleName"><a href="HsDecls.html#pprFullRuleName"><span class="hs-identifier">pprFullRuleName</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a name="local-6989586621683094836"><a href="#local-6989586621683094836"><span class="hs-identifier">st</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621683094837"><a href="#local-6989586621683094837"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#pprWithSourceText"><span class="hs-identifier hs-var">pprWithSourceText</span></a><span> </span><a href="#local-6989586621683094836"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-6989586621683094837"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-2202"></a><span>
</span><a name="line-2203"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094385"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094384"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleDecls"><span class="hs-identifier hs-type">RuleDecls</span></a><span> </span><a href="#local-6989586621683094384"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2204"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsRules"><span class="hs-identifier hs-var">HsRules</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">rds_src</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094386"><a href="#local-6989586621683094386"><span class="hs-identifier">st</span></a></a><span>
</span><a name="line-2205"></a><span>               </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rds_rules</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094387"><a href="#local-6989586621683094387"><span class="hs-identifier">rules</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-2206"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#pprWithSourceText"><span class="hs-identifier hs-var">pprWithSourceText</span></a><span> </span><a href="#local-6989586621683094386"><span class="hs-identifier hs-var">st</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;{-# RULES&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-2207"></a><span>          </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094387"><span class="hs-identifier hs-var">rules</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;#-}&quot;</span><span>
</span><a name="line-2208"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XRuleDecls"><span class="hs-identifier hs-var">XRuleDecls</span></a><span> </span><a name="local-6989586621683094388"><a href="#local-6989586621683094388"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094388"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2209"></a><span>
</span><a name="line-2210"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094373"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094372"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleDecl"><span class="hs-identifier hs-type">RuleDecl</span></a><span> </span><a href="#local-6989586621683094372"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2211"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsRule"><span class="hs-identifier hs-var">HsRule</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">rd_name</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094374"><a href="#local-6989586621683094374"><span class="hs-identifier">name</span></a></a><span>
</span><a name="line-2212"></a><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rd_act</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094375"><a href="#local-6989586621683094375"><span class="hs-identifier">act</span></a></a><span>
</span><a name="line-2213"></a><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rd_tyvs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094376"><a href="#local-6989586621683094376"><span class="hs-identifier">tys</span></a></a><span>
</span><a name="line-2214"></a><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rd_tmvs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094377"><a href="#local-6989586621683094377"><span class="hs-identifier">tms</span></a></a><span>
</span><a name="line-2215"></a><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rd_lhs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094378"><a href="#local-6989586621683094378"><span class="hs-identifier">lhs</span></a></a><span>
</span><a name="line-2216"></a><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rd_rhs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621683094379"><a href="#local-6989586621683094379"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-2217"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsDecls.html#pprFullRuleName"><span class="hs-identifier hs-var">pprFullRuleName</span></a><span> </span><a href="#local-6989586621683094374"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094375"><span class="hs-identifier hs-var">act</span></a><span class="hs-special">,</span><span>
</span><a name="line-2218"></a><span>               </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094380"><span class="hs-identifier hs-var">pp_forall_ty</span></a><span> </span><a href="#local-6989586621683094376"><span class="hs-identifier hs-var">tys</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621683094381"><span class="hs-identifier hs-var">pp_forall_tm</span></a><span> </span><a href="#local-6989586621683094376"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-2219"></a><span>                                        </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094378"><span class="hs-identifier hs-var">lhs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-2220"></a><span>               </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">6</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094379"><span class="hs-identifier hs-var">rhs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-2221"></a><span>        </span><span class="hs-keyword">where</span><span>
</span><a name="line-2222"></a><span>          </span><a name="local-6989586621683094380"><a href="#local-6989586621683094380"><span class="hs-identifier">pp_forall_ty</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-2223"></a><span>          </span><span class="hs-identifier">pp_forall_ty</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094382"><a href="#local-6989586621683094382"><span class="hs-identifier">qtvs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094382"><span class="hs-identifier hs-var">qtvs</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span>
</span><a name="line-2224"></a><span>          </span><a name="local-6989586621683094381"><a href="#local-6989586621683094381"><span class="hs-identifier">pp_forall_tm</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><a href="#local-6989586621683094377"><span class="hs-identifier hs-var">tms</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-2225"></a><span>          </span><span class="hs-identifier">pp_forall_tm</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094377"><span class="hs-identifier hs-var">tms</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span>
</span><a name="line-2226"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XRuleDecl"><span class="hs-identifier hs-var">XRuleDecl</span></a><span> </span><a name="local-6989586621683094383"><a href="#local-6989586621683094383"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094383"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2227"></a><span>
</span><a name="line-2228"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094367"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094366"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a><span> </span><a href="#local-6989586621683094366"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2229"></a><span>   </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleBndr"><span class="hs-identifier hs-var">RuleBndr</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094368"><a href="#local-6989586621683094368"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094368"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2230"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RuleBndrSig"><span class="hs-identifier hs-var">RuleBndrSig</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094369"><a href="#local-6989586621683094369"><span class="hs-identifier">name</span></a></a><span> </span><a name="local-6989586621683094370"><a href="#local-6989586621683094370"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094369"><span class="hs-identifier hs-var">name</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094370"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-2231"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XRuleBndr"><span class="hs-identifier hs-var">XRuleBndr</span></a><span> </span><a name="local-6989586621683094371"><a href="#local-6989586621683094371"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094371"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2232"></a><span>
</span><a name="line-2233"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[DocDecl]{Document comments}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2240"></a><span>
</span><a name="line-2241"></a><span class="hs-comment">-- | Located Documentation comment Declaration</span><span>
</span><a name="line-2242"></a><span class="hs-keyword">type</span><span> </span><a name="LDocDecl"><a href="HsDecls.html#LDocDecl"><span class="hs-identifier">LDocDecl</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocDecl"><span class="hs-identifier hs-type">DocDecl</span></a><span class="hs-special">)</span><span>
</span><a name="line-2243"></a><span>
</span><a name="line-2244"></a><span class="hs-comment">-- | Documentation comment Declaration</span><span>
</span><a name="line-2245"></a><span class="hs-keyword">data</span><span> </span><a name="DocDecl"><a href="HsDecls.html#DocDecl"><span class="hs-identifier">DocDecl</span></a></a><span>
</span><a name="line-2246"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="DocCommentNext"><a href="HsDecls.html#DocCommentNext"><span class="hs-identifier">DocCommentNext</span></a></a><span> </span><a href="HsDoc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a><span>
</span><a name="line-2247"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DocCommentPrev"><a href="HsDecls.html#DocCommentPrev"><span class="hs-identifier">DocCommentPrev</span></a></a><span> </span><a href="HsDoc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a><span>
</span><a name="line-2248"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DocCommentNamed"><a href="HsDecls.html#DocCommentNamed"><span class="hs-identifier">DocCommentNamed</span></a></a><span> </span><span class="hs-identifier hs-type">String</span><span> </span><a href="HsDoc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a><span>
</span><a name="line-2249"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DocGroup"><a href="HsDecls.html#DocGroup"><span class="hs-identifier">DocGroup</span></a></a><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><a href="HsDoc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a><span>
</span><a name="line-2250"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Data</span><span>
</span><a name="line-2251"></a><span>
</span><a name="line-2252"></a><span class="hs-comment">-- Okay, I need to reconstruct the document comments, but for now:</span><span>
</span><a name="line-2253"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsDecls.html#DocDecl"><span class="hs-identifier hs-type">DocDecl</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2254"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&lt;document comment&gt;&quot;</span><span>
</span><a name="line-2255"></a><span>
</span><a name="line-2256"></a><span class="hs-identifier">docDeclDoc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#DocDecl"><span class="hs-identifier hs-type">DocDecl</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsDoc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a><span>
</span><a name="line-2257"></a><a name="docDeclDoc"><a href="HsDecls.html#docDeclDoc"><span class="hs-identifier">docDeclDoc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocCommentNext"><span class="hs-identifier hs-var">DocCommentNext</span></a><span> </span><a name="local-6989586621683094838"><a href="#local-6989586621683094838"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094838"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-2258"></a><span class="hs-identifier">docDeclDoc</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocCommentPrev"><span class="hs-identifier hs-var">DocCommentPrev</span></a><span> </span><a name="local-6989586621683094839"><a href="#local-6989586621683094839"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094839"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-2259"></a><span class="hs-identifier">docDeclDoc</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocCommentNamed"><span class="hs-identifier hs-var">DocCommentNamed</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094840"><a href="#local-6989586621683094840"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094840"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-2260"></a><span class="hs-identifier">docDeclDoc</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#DocGroup"><span class="hs-identifier hs-var">DocGroup</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094841"><a href="#local-6989586621683094841"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094841"><span class="hs-identifier hs-var">d</span></a><span>
</span><a name="line-2261"></a><span>
</span><a name="line-2262"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[DeprecDecl]{Deprecations}
*                                                                      *
************************************************************************

We use exported entities for things to deprecate.
-}</span><span>
</span><a name="line-2271"></a><span>
</span><a name="line-2272"></a><span class="hs-comment">-- | Located Warning Declarations</span><span>
</span><a name="line-2273"></a><span class="hs-keyword">type</span><span> </span><a name="LWarnDecls"><a href="HsDecls.html#LWarnDecls"><span class="hs-identifier">LWarnDecls</span></a></a><span> </span><a name="local-6989586621683094277"><a href="#local-6989586621683094277"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#WarnDecls"><span class="hs-identifier hs-type">WarnDecls</span></a><span> </span><a href="#local-6989586621683094277"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2274"></a><span>
</span><a name="line-2275"></a><span> </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-2276"></a><span class="hs-comment">-- | Warning pragma Declarations</span><span>
</span><a name="line-2277"></a><span class="hs-keyword">data</span><span> </span><a name="WarnDecls"><a href="HsDecls.html#WarnDecls"><span class="hs-identifier">WarnDecls</span></a></a><span> </span><a name="local-6989586621683094276"><a href="#local-6989586621683094276"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Warnings"><a href="HsDecls.html#Warnings"><span class="hs-identifier">Warnings</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="wd_ext"><a href="HsDecls.html#wd_ext"><span class="hs-identifier">wd_ext</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#XWarnings"><span class="hs-identifier hs-type">XWarnings</span></a><span> </span><a href="#local-6989586621683094276"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-2278"></a><span>                               </span><span class="hs-special">,</span><span> </span><a name="wd_src"><a href="HsDecls.html#wd_src"><span class="hs-identifier">wd_src</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-2279"></a><span>                               </span><span class="hs-special">,</span><span> </span><a name="wd_warnings"><a href="HsDecls.html#wd_warnings"><span class="hs-identifier">wd_warnings</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LWarnDecl"><span class="hs-identifier hs-type">LWarnDecl</span></a><span> </span><a href="#local-6989586621683094276"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-2280"></a><span>                               </span><span class="hs-special">}</span><span>
</span><a name="line-2281"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XWarnDecls"><a href="HsDecls.html#XWarnDecls"><span class="hs-identifier">XWarnDecls</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXWarnDecls"><span class="hs-identifier hs-type">XXWarnDecls</span></a><span> </span><a href="#local-6989586621683094276"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2282"></a><span>
</span><a name="line-2283"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XWarnings"><span class="hs-identifier hs-type">XWarnings</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2284"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXWarnDecls"><span class="hs-identifier hs-type">XXWarnDecls</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2285"></a><span>
</span><a name="line-2286"></a><span class="hs-comment">-- | Located Warning pragma Declaration</span><span>
</span><a name="line-2287"></a><span class="hs-keyword">type</span><span> </span><a name="LWarnDecl"><a href="HsDecls.html#LWarnDecl"><span class="hs-identifier">LWarnDecl</span></a></a><span> </span><a name="local-6989586621683094275"><a href="#local-6989586621683094275"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#WarnDecl"><span class="hs-identifier hs-type">WarnDecl</span></a><span> </span><a href="#local-6989586621683094275"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2288"></a><span>
</span><a name="line-2289"></a><span class="hs-comment">-- | Warning pragma Declaration</span><span>
</span><a name="line-2290"></a><span class="hs-keyword">data</span><span> </span><a name="WarnDecl"><a href="HsDecls.html#WarnDecl"><span class="hs-identifier">WarnDecl</span></a></a><span> </span><a name="local-6989586621683094274"><a href="#local-6989586621683094274"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Warning"><a href="HsDecls.html#Warning"><span class="hs-identifier">Warning</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XWarning"><span class="hs-identifier hs-type">XWarning</span></a><span> </span><a href="#local-6989586621683094274"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094274"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier hs-type">WarningTxt</span></a><span>
</span><a name="line-2291"></a><span>                   </span><span class="hs-glyph">|</span><span> </span><a name="XWarnDecl"><a href="HsDecls.html#XWarnDecl"><span class="hs-identifier">XWarnDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXWarnDecl"><span class="hs-identifier hs-type">XXWarnDecl</span></a><span> </span><a href="#local-6989586621683094274"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2292"></a><span>
</span><a name="line-2293"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XWarning"><span class="hs-identifier hs-type">XWarning</span></a><span>      </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2294"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXWarnDecl"><span class="hs-identifier hs-type">XXWarnDecl</span></a><span>    </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2295"></a><span>
</span><a name="line-2296"></a><span>
</span><a name="line-2297"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094357"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094356"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2298"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#WarnDecls"><span class="hs-identifier hs-type">WarnDecls</span></a><span> </span><a href="#local-6989586621683094356"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2299"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#Warnings"><span class="hs-identifier hs-var">Warnings</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a><span> </span><a name="local-6989586621683094358"><a href="#local-6989586621683094358"><span class="hs-identifier">src</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621683094359"><a href="#local-6989586621683094359"><span class="hs-identifier">decls</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2300"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><a href="#local-6989586621683094358"><span class="hs-identifier hs-var">src</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094359"><span class="hs-identifier hs-var">decls</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;#-}&quot;</span><span>
</span><a name="line-2301"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#Warnings"><span class="hs-identifier hs-var">Warnings</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="BasicTypes.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a><span> </span><a name="local-6989586621683094360"><a href="#local-6989586621683094360"><span class="hs-identifier">_decls</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;WarnDecls&quot;</span><span>
</span><a name="line-2302"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XWarnDecls"><span class="hs-identifier hs-var">XWarnDecls</span></a><span> </span><a name="local-6989586621683094361"><a href="#local-6989586621683094361"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094361"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2303"></a><span>
</span><a name="line-2304"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094352"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094351"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2305"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#WarnDecl"><span class="hs-identifier hs-type">WarnDecl</span></a><span> </span><a href="#local-6989586621683094351"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2306"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#Warning"><span class="hs-identifier hs-var">Warning</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094353"><a href="#local-6989586621683094353"><span class="hs-identifier">thing</span></a></a><span> </span><a name="local-6989586621683094354"><a href="#local-6989586621683094354"><span class="hs-identifier">txt</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2307"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094353"><span class="hs-identifier hs-var">thing</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2308"></a><span>              </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094354"><span class="hs-identifier hs-var">txt</span></a><span>
</span><a name="line-2309"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XWarnDecl"><span class="hs-identifier hs-var">XWarnDecl</span></a><span> </span><a name="local-6989586621683094355"><a href="#local-6989586621683094355"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094355"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2310"></a><span>
</span><a name="line-2311"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[AnnDecl]{Annotations}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2318"></a><span>
</span><a name="line-2319"></a><span class="hs-comment">-- | Located Annotation Declaration</span><span>
</span><a name="line-2320"></a><span class="hs-keyword">type</span><span> </span><a name="LAnnDecl"><a href="HsDecls.html#LAnnDecl"><span class="hs-identifier">LAnnDecl</span></a></a><span> </span><a name="local-6989586621683094273"><a href="#local-6989586621683094273"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#AnnDecl"><span class="hs-identifier hs-type">AnnDecl</span></a><span> </span><a href="#local-6989586621683094273"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2321"></a><span>
</span><a name="line-2322"></a><span class="hs-comment">-- | Annotation Declaration</span><span>
</span><a name="line-2323"></a><span class="hs-keyword">data</span><span> </span><a name="AnnDecl"><a href="HsDecls.html#AnnDecl"><span class="hs-identifier">AnnDecl</span></a></a><span> </span><a name="local-6989586621683094272"><a href="#local-6989586621683094272"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsAnnotation"><a href="HsDecls.html#HsAnnotation"><span class="hs-identifier">HsAnnotation</span></a></a><span>
</span><a name="line-2324"></a><span>                      </span><span class="hs-special">(</span><a href="HsExtension.html#XHsAnnotation"><span class="hs-identifier hs-type">XHsAnnotation</span></a><span> </span><a href="#local-6989586621683094272"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2325"></a><span>                      </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-2326"></a><span>                      </span><span class="hs-special">(</span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094272"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-6989586621683094272"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2327"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-2328"></a><span>      </span><span class="hs-comment">--           'ApiAnnotation.AnnType'</span><span>
</span><a name="line-2329"></a><span>      </span><span class="hs-comment">--           'ApiAnnotation.AnnModule'</span><span>
</span><a name="line-2330"></a><span>      </span><span class="hs-comment">--           'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-2331"></a><span>
</span><a name="line-2332"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-2333"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XAnnDecl"><a href="HsDecls.html#XAnnDecl"><span class="hs-identifier">XAnnDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXAnnDecl"><span class="hs-identifier hs-type">XXAnnDecl</span></a><span> </span><a href="#local-6989586621683094272"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2334"></a><span>
</span><a name="line-2335"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XHsAnnotation"><span class="hs-identifier hs-type">XHsAnnotation</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2336"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXAnnDecl"><span class="hs-identifier hs-type">XXAnnDecl</span></a><span>     </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2337"></a><span>
</span><a name="line-2338"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094345"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621683094344"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#AnnDecl"><span class="hs-identifier hs-type">AnnDecl</span></a><span> </span><a href="#local-6989586621683094344"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2339"></a><span>    </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsAnnotation"><span class="hs-identifier hs-var">HsAnnotation</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094346"><a href="#local-6989586621683094346"><span class="hs-identifier">provenance</span></a></a><span> </span><a name="local-6989586621683094347"><a href="#local-6989586621683094347"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2340"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;{-#&quot;</span><span class="hs-special">,</span><span> </span><a href="HsDecls.html#pprAnnProvenance"><span class="hs-identifier hs-var">pprAnnProvenance</span></a><span> </span><a href="#local-6989586621683094346"><span class="hs-identifier hs-var">provenance</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094347"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;#-}&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-2341"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XAnnDecl"><span class="hs-identifier hs-var">XAnnDecl</span></a><span> </span><a name="local-6989586621683094348"><a href="#local-6989586621683094348"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094348"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2342"></a><span>
</span><a name="line-2343"></a><span class="hs-comment">-- | Annotation Provenance</span><span>
</span><a name="line-2344"></a><span class="hs-keyword">data</span><span> </span><a name="AnnProvenance"><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier">AnnProvenance</span></a></a><span> </span><a name="local-6989586621683094271"><a href="#local-6989586621683094271"><span class="hs-identifier">name</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="ValueAnnProvenance"><a href="HsDecls.html#ValueAnnProvenance"><span class="hs-identifier">ValueAnnProvenance</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-6989586621683094271"><span class="hs-identifier hs-type">name</span></a><span class="hs-special">)</span><span>
</span><a name="line-2345"></a><span>                        </span><span class="hs-glyph">|</span><span> </span><a name="TypeAnnProvenance"><a href="HsDecls.html#TypeAnnProvenance"><span class="hs-identifier">TypeAnnProvenance</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-6989586621683094271"><span class="hs-identifier hs-type">name</span></a><span class="hs-special">)</span><span>
</span><a name="line-2346"></a><span>                        </span><span class="hs-glyph">|</span><span> </span><a name="ModuleAnnProvenance"><a href="HsDecls.html#ModuleAnnProvenance"><span class="hs-identifier">ModuleAnnProvenance</span></a></a><span>
</span><a name="line-2347"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Functor</span><span>     </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span>
</span><a name="line-2348"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Foldable</span><span>    </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span>
</span><a name="line-2349"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Traversable</span><span> </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span>
</span><a name="line-2350"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Data</span><span> </span><a href="#local-6989586621683094847"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Data</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span> </span><a href="#local-6989586621683094847"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2351"></a><span>
</span><a name="line-2352"></a><span class="hs-identifier">annProvenanceName_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span> </span><a href="#local-6989586621683094597"><span class="hs-identifier hs-type">name</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="#local-6989586621683094597"><span class="hs-identifier hs-type">name</span></a><span>
</span><a name="line-2353"></a><a name="annProvenanceName_maybe"><a href="HsDecls.html#annProvenanceName_maybe"><span class="hs-identifier">annProvenanceName_maybe</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ValueAnnProvenance"><span class="hs-identifier hs-var">ValueAnnProvenance</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094842"><a href="#local-6989586621683094842"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621683094842"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2354"></a><span class="hs-identifier">annProvenanceName_maybe</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TypeAnnProvenance"><span class="hs-identifier hs-var">TypeAnnProvenance</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094843"><a href="#local-6989586621683094843"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><a href="#local-6989586621683094843"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2355"></a><span class="hs-identifier">annProvenanceName_maybe</span><span> </span><a href="HsDecls.html#ModuleAnnProvenance"><span class="hs-identifier hs-var">ModuleAnnProvenance</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-2356"></a><span>
</span><a name="line-2357"></a><span class="hs-identifier">pprAnnProvenance</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-6989586621683094596"><span class="hs-identifier hs-type">name</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsDecls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a><span> </span><a href="#local-6989586621683094596"><span class="hs-identifier hs-type">name</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2358"></a><a name="pprAnnProvenance"><a href="HsDecls.html#pprAnnProvenance"><span class="hs-identifier">pprAnnProvenance</span></a></a><span> </span><a href="HsDecls.html#ModuleAnnProvenance"><span class="hs-identifier hs-var">ModuleAnnProvenance</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;ANN module&quot;</span><span>
</span><a name="line-2359"></a><span class="hs-identifier">pprAnnProvenance</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#ValueAnnProvenance"><span class="hs-identifier hs-var">ValueAnnProvenance</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094844"><a href="#local-6989586621683094844"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2360"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;ANN&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094844"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2361"></a><span class="hs-identifier">pprAnnProvenance</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#TypeAnnProvenance"><span class="hs-identifier hs-var">TypeAnnProvenance</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094845"><a href="#local-6989586621683094845"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2362"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;ANN type&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094845"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2363"></a><span>
</span><a name="line-2364"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[RoleAnnot]{Role annotations}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2371"></a><span>
</span><a name="line-2372"></a><span class="hs-comment">-- | Located Role Annotation Declaration</span><span>
</span><a name="line-2373"></a><span class="hs-keyword">type</span><span> </span><a name="LRoleAnnotDecl"><a href="HsDecls.html#LRoleAnnotDecl"><span class="hs-identifier">LRoleAnnotDecl</span></a></a><span> </span><a name="local-6989586621683094270"><a href="#local-6989586621683094270"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094270"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2374"></a><span>
</span><a name="line-2375"></a><span class="hs-comment">-- See #8185 for more info about why role annotations are</span><span>
</span><a name="line-2376"></a><span class="hs-comment">-- top-level declarations</span><span>
</span><a name="line-2377"></a><span class="hs-comment">-- | Role Annotation Declaration</span><span>
</span><a name="line-2378"></a><span class="hs-keyword">data</span><span> </span><a name="RoleAnnotDecl"><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier">RoleAnnotDecl</span></a></a><span> </span><a name="local-6989586621683094269"><a href="#local-6989586621683094269"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-2379"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="RoleAnnotDecl"><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier">RoleAnnotDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XCRoleAnnotDecl"><span class="hs-identifier hs-type">XCRoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094269"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2380"></a><span>                  </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094269"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- type constructor</span><span>
</span><a name="line-2381"></a><span>                  </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="CoAxiom.html#Role"><span class="hs-identifier hs-type">Role</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- optional annotations</span><span>
</span><a name="line-2382"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnType',</span><span>
</span><a name="line-2383"></a><span>      </span><span class="hs-comment">--           'ApiAnnotation.AnnRole'</span><span>
</span><a name="line-2384"></a><span>
</span><a name="line-2385"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-2386"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="XRoleAnnotDecl"><a href="HsDecls.html#XRoleAnnotDecl"><span class="hs-identifier">XRoleAnnotDecl</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#XXRoleAnnotDecl"><span class="hs-identifier hs-type">XXRoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094269"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2387"></a><span>
</span><a name="line-2388"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XCRoleAnnotDecl"><span class="hs-identifier hs-type">XCRoleAnnotDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2389"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#XXRoleAnnotDecl"><span class="hs-identifier hs-type">XXRoleAnnotDecl</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExtension.html#NoExt"><span class="hs-identifier hs-type">NoExt</span></a><span>
</span><a name="line-2390"></a><span>
</span><a name="line-2391"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">p</span><span> </span><span class="hs-glyph">~</span><span> </span><a href="HsExtension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a><span> </span><a href="#local-6989586621683094336"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094335"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2392"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094335"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2393"></a><span>  </span><a name="local-8214565720324887700"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-var">RoleAnnotDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094337"><a href="#local-6989586621683094337"><span class="hs-identifier">ltycon</span></a></a><span> </span><a name="local-6989586621683094338"><a href="#local-6989586621683094338"><span class="hs-identifier">roles</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2394"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;type role&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621683094337"><span class="hs-identifier hs-var">ltycon</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-2395"></a><span>      </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621683094339"><span class="hs-identifier hs-var">pp_role</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621683094338"><span class="hs-identifier hs-var">roles</span></a><span class="hs-special">)</span><span>
</span><a name="line-2396"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-2397"></a><span>      </span><a name="local-6989586621683094339"><a href="#local-6989586621683094339"><span class="hs-identifier">pp_role</span></a></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#underscore"><span class="hs-identifier hs-var">underscore</span></a><span>
</span><a name="line-2398"></a><span>      </span><span class="hs-identifier">pp_role</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621683094340"><a href="#local-6989586621683094340"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094340"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-2399"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XRoleAnnotDecl"><span class="hs-identifier hs-var">XRoleAnnotDecl</span></a><span> </span><a name="local-6989586621683094341"><a href="#local-6989586621683094341"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621683094341"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-2400"></a><span>
</span><a name="line-2401"></a><span class="hs-identifier">roleAnnotDeclName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a><span> </span><a href="#local-6989586621683094595"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621683094595"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-2402"></a><a name="roleAnnotDeclName"><a href="HsDecls.html#roleAnnotDeclName"><span class="hs-identifier">roleAnnotDeclName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#RoleAnnotDecl"><span class="hs-identifier hs-var">RoleAnnotDecl</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621683094846"><a href="#local-6989586621683094846"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621683094846"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-2403"></a><span class="hs-identifier">roleAnnotDeclName</span><span> </span><span class="hs-special">(</span><a href="HsDecls.html#XRoleAnnotDecl"><span class="hs-identifier hs-var">XRoleAnnotDecl</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;roleAnnotDeclName&quot;</span><span>
</span><a name="line-2404"></a></pre></body></html>