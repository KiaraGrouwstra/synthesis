<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><a name="line-2"></a><span>
</span><a name="line-3"></a><span class="hs-comment">-- | This is where we define a mapping from Uniques to their associated</span><span>
</span><a name="line-4"></a><span class="hs-comment">-- known-key Names for things associated with tuples and sums. We use this</span><span>
</span><a name="line-5"></a><span class="hs-comment">-- mapping while deserializing known-key Names in interface file symbol tables,</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- which are encoded as their Unique. See Note [Symbol table representation of</span><span>
</span><a name="line-7"></a><span class="hs-comment">-- names] for details.</span><span>
</span><a name="line-8"></a><span class="hs-comment">--</span><span>
</span><a name="line-9"></a><span>
</span><a name="line-10"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">KnownUniques</span><span>
</span><a name="line-11"></a><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Looking up known-key names</span><span>
</span><a name="line-12"></a><span>      </span><a href="KnownUniques.html#knownUniqueName"><span class="hs-identifier hs-var">knownUniqueName</span></a><span>
</span><a name="line-13"></a><span>
</span><a name="line-14"></a><span>      </span><span class="hs-comment">-- * Getting the 'Unique's of 'Name's</span><span>
</span><a name="line-15"></a><span>      </span><span class="hs-comment">-- ** Anonymous sums</span><span>
</span><a name="line-16"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkSumTyConUnique"><span class="hs-identifier hs-var">mkSumTyConUnique</span></a><span>
</span><a name="line-17"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkSumDataConUnique"><span class="hs-identifier hs-var">mkSumDataConUnique</span></a><span>
</span><a name="line-18"></a><span>      </span><span class="hs-comment">-- ** Tuples</span><span>
</span><a name="line-19"></a><span>      </span><span class="hs-comment">-- *** Vanilla</span><span>
</span><a name="line-20"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkTupleTyConUnique"><span class="hs-identifier hs-var">mkTupleTyConUnique</span></a><span>
</span><a name="line-21"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkTupleDataConUnique"><span class="hs-identifier hs-var">mkTupleDataConUnique</span></a><span>
</span><a name="line-22"></a><span>      </span><span class="hs-comment">-- *** Constraint</span><span>
</span><a name="line-23"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkCTupleTyConUnique"><span class="hs-identifier hs-var">mkCTupleTyConUnique</span></a><span>
</span><a name="line-24"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="KnownUniques.html#mkCTupleDataConUnique"><span class="hs-identifier hs-var">mkCTupleDataConUnique</span></a><span>
</span><a name="line-25"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-cpp">#include &quot;HsVersions.h&quot;
</span><span>
</span><a name="line-29"></a><span class="hs-keyword">import</span><span> </span><a href="GhcPrelude.html"><span class="hs-identifier">GhcPrelude</span></a><span>
</span><a name="line-30"></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><a href="TysWiredIn.html"><span class="hs-identifier">TysWiredIn</span></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span> </span><a href="TyCon.html"><span class="hs-identifier">TyCon</span></a><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span> </span><a href="DataCon.html"><span class="hs-identifier">DataCon</span></a><span>
</span><a name="line-34"></a><span class="hs-keyword">import</span><span> </span><a href="Id.html"><span class="hs-identifier">Id</span></a><span>
</span><a name="line-35"></a><span class="hs-keyword">import</span><span> </span><a href="BasicTypes.html"><span class="hs-identifier">BasicTypes</span></a><span>
</span><a name="line-36"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span> </span><a href="Unique.html"><span class="hs-identifier">Unique</span></a><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span> </span><a href="Name.html"><span class="hs-identifier">Name</span></a><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span> </span><a href="Util.html"><span class="hs-identifier">Util</span></a><span>
</span><a name="line-40"></a><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Bits</span><span>
</span><a name="line-42"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Maybe</span><span>
</span><a name="line-43"></a><span>
</span><a name="line-44"></a><span class="hs-comment">-- | Get the 'Name' associated with a known-key 'Unique'.</span><span>
</span><a name="line-45"></a><span class="hs-identifier">knownUniqueName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-46"></a><a name="knownUniqueName"><a href="KnownUniques.html#knownUniqueName"><span class="hs-identifier">knownUniqueName</span></a></a><span> </span><a name="local-6989586621682658869"><a href="#local-6989586621682658869"><span class="hs-identifier">u</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-47"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658870"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-48"></a><span>      </span><span class="hs-char">'z'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getUnboxedSumName"><span class="hs-identifier hs-var">getUnboxedSumName</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-49"></a><span>      </span><span class="hs-char">'4'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getTupleTyConName"><span class="hs-identifier hs-var">getTupleTyConName</span></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-50"></a><span>      </span><span class="hs-char">'5'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getTupleTyConName"><span class="hs-identifier hs-var">getTupleTyConName</span></a><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-51"></a><span>      </span><span class="hs-char">'7'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getTupleDataConName"><span class="hs-identifier hs-var">getTupleDataConName</span></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-52"></a><span>      </span><span class="hs-char">'8'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getTupleDataConName"><span class="hs-identifier hs-var">getTupleDataConName</span></a><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-53"></a><span>      </span><span class="hs-char">'k'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getCTupleTyConName"><span class="hs-identifier hs-var">getCTupleTyConName</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-54"></a><span>      </span><span class="hs-char">'m'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="KnownUniques.html#getCTupleDataConUnique"><span class="hs-identifier hs-var">getCTupleDataConUnique</span></a><span> </span><a href="#local-6989586621682658871"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-55"></a><span>      </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-56"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-57"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621682658870"><a href="#local-6989586621682658870"><span class="hs-identifier">tag</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621682658871"><a href="#local-6989586621682658871"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#unpkUnique"><span class="hs-identifier hs-var">unpkUnique</span></a><span> </span><a href="#local-6989586621682658869"><span class="hs-identifier hs-var">u</span></a><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-60"></a><span class="hs-comment">-- Anonymous sums</span><span>
</span><a name="line-61"></a><span class="hs-comment">--</span><span>
</span><a name="line-62"></a><span class="hs-comment">-- Sum arities start from 2. The encoding is a bit funny: we break up the</span><span>
</span><a name="line-63"></a><span class="hs-comment">-- integral part into bitfields for the arity, an alternative index (which is</span><span>
</span><a name="line-64"></a><span class="hs-comment">-- taken to be 0xff in the case of the TyCon), and, in the case of a datacon, a</span><span>
</span><a name="line-65"></a><span class="hs-comment">-- tag (used to identify the sum's TypeRep binding).</span><span>
</span><a name="line-66"></a><span class="hs-comment">--</span><span>
</span><a name="line-67"></a><span class="hs-comment">-- This layout is chosen to remain compatible with the usual unique allocation</span><span>
</span><a name="line-68"></a><span class="hs-comment">-- for wired-in data constructors described in Unique.hs</span><span>
</span><a name="line-69"></a><span class="hs-comment">--</span><span>
</span><a name="line-70"></a><span class="hs-comment">-- TyCon for sum of arity k:</span><span>
</span><a name="line-71"></a><span class="hs-comment">--   00000000 kkkkkkkk 11111100</span><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span class="hs-comment">-- TypeRep of TyCon for sum of arity k:</span><span>
</span><a name="line-74"></a><span class="hs-comment">--   00000000 kkkkkkkk 11111101</span><span>
</span><a name="line-75"></a><span class="hs-comment">--</span><span>
</span><a name="line-76"></a><span class="hs-comment">-- DataCon for sum of arity k and alternative n (zero-based):</span><span>
</span><a name="line-77"></a><span class="hs-comment">--   00000000 kkkkkkkk nnnnnn00</span><span>
</span><a name="line-78"></a><span class="hs-comment">--</span><span>
</span><a name="line-79"></a><span class="hs-comment">-- TypeRep for sum DataCon of arity k and alternative n (zero-based):</span><span>
</span><a name="line-80"></a><span class="hs-comment">--   00000000 kkkkkkkk nnnnnn10</span><span>
</span><a name="line-81"></a><span>
</span><a name="line-82"></a><span class="hs-identifier">mkSumTyConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-83"></a><a name="mkSumTyConUnique"><a href="KnownUniques.html#mkSumTyConUnique"><span class="hs-identifier">mkSumTyConUnique</span></a></a><span> </span><a name="local-6989586621682658872"><a href="#local-6989586621682658872"><span class="hs-identifier">arity</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-84"></a><span>    </span><span class="hs-identifier">ASSERT</span><span class="hs-special">(</span><a href="Util.html#debugIsOn"><span class="hs-identifier hs-var">arity</span></a><span> </span><span class="hs-operator hs-var">&lt;</span><span> </span><span class="hs-number">0x3f</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- 0x3f since we only have 6 bits to encode the</span><span>
</span><a name="line-85"></a><span>                         </span><span class="hs-comment">-- alternative</span><span>
</span><a name="line-86"></a><span>    </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'z'</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658872"><span class="hs-identifier hs-var">arity</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftL</span><span class="hs-special">`</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-operator hs-var">.|.</span><span> </span><span class="hs-number">0xfc</span><span class="hs-special">)</span><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-identifier">mkSumDataConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#ConTagZ"><span class="hs-identifier hs-type">ConTagZ</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-89"></a><a name="mkSumDataConUnique"><a href="KnownUniques.html#mkSumDataConUnique"><span class="hs-identifier">mkSumDataConUnique</span></a></a><span> </span><a name="local-6989586621682658873"><a href="#local-6989586621682658873"><span class="hs-identifier">alt</span></a></a><span> </span><a name="local-6989586621682658874"><a href="#local-6989586621682658874"><span class="hs-identifier">arity</span></a></a><span>
</span><a name="line-90"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682658873"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="#local-6989586621682658874"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-91"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;mkSumDataConUnique: &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621682658873"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-string">&quot; &gt;= &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621682658874"><span class="hs-identifier hs-var">arity</span></a><span class="hs-special">)</span><span>
</span><a name="line-92"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-93"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'z'</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658874"><span class="hs-identifier hs-var">arity</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftL</span><span class="hs-special">`</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="#local-6989586621682658873"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftL</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span> </span><span class="hs-comment">{- skip the tycon -}</span><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span class="hs-identifier">getUnboxedSumName</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-96"></a><a name="getUnboxedSumName"><a href="KnownUniques.html#getUnboxedSumName"><span class="hs-identifier">getUnboxedSumName</span></a></a><span> </span><a name="local-6989586621682658875"><a href="#local-6989586621682658875"><span class="hs-identifier">n</span></a></a><span>
</span><a name="line-97"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682658875"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-operator hs-var">.&amp;.</span><span> </span><span class="hs-number">0xfc</span><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-number">0xfc</span><span>
</span><a name="line-98"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658878"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-99"></a><span>      </span><span class="hs-number">0x0</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">tyConName</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#sumTyCon"><span class="hs-identifier hs-var">sumTyCon</span></a><span> </span><a href="#local-6989586621682658876"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-100"></a><span>      </span><span class="hs-number">0x1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621682658879"><span class="hs-identifier hs-var">getRep</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#sumTyCon"><span class="hs-identifier hs-var">sumTyCon</span></a><span> </span><a href="#local-6989586621682658876"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-101"></a><span>      </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a><span> </span><span class="hs-string">&quot;getUnboxedSumName: invalid tag&quot;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682658878"><span class="hs-identifier hs-var">tag</span></a><span class="hs-special">)</span><span>
</span><a name="line-102"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682658878"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-number">0x0</span><span>
</span><a name="line-103"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#sumDataCon"><span class="hs-identifier hs-var">sumDataCon</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658877"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621682658876"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-104"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682658878"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-number">0x1</span><span>
</span><a name="line-105"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Name.html#getName"><span class="hs-identifier hs-var">getName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="DataCon.html#dataConWrapId"><span class="hs-identifier hs-var">dataConWrapId</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#sumDataCon"><span class="hs-identifier hs-var">sumDataCon</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658877"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621682658876"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-106"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621682658878"><span class="hs-identifier hs-var">tag</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><span class="hs-number">0x2</span><span>
</span><a name="line-107"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682658879"><span class="hs-identifier hs-var">getRep</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="DataCon.html#promoteDataCon"><span class="hs-identifier hs-var">promoteDataCon</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#sumDataCon"><span class="hs-identifier hs-var">sumDataCon</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658877"><span class="hs-identifier hs-var">alt</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621682658876"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-108"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>
</span><a name="line-109"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a><span> </span><span class="hs-string">&quot;getUnboxedSumName&quot;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682658875"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-110"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-111"></a><span>    </span><a name="local-6989586621682658876"><a href="#local-6989586621682658876"><span class="hs-identifier">arity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621682658875"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftR</span><span class="hs-special">`</span><span> </span><span class="hs-number">8</span><span>
</span><a name="line-112"></a><span>    </span><a name="local-6989586621682658877"><a href="#local-6989586621682658877"><span class="hs-identifier">alt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621682658875"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-operator hs-var">.&amp;.</span><span> </span><span class="hs-number">0xfc</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">shiftR</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span>
</span><a name="line-113"></a><span>    </span><a name="local-6989586621682658878"><a href="#local-6989586621682658878"><span class="hs-identifier">tag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0x3</span><span> </span><span class="hs-operator hs-var">.&amp;.</span><span> </span><a href="#local-6989586621682658875"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-114"></a><span>    </span><a name="local-6989586621682658879"><a href="#local-6989586621682658879"><span class="hs-identifier">getRep</span></a></a><span> </span><a name="local-6989586621682658880"><a href="#local-6989586621682658880"><span class="hs-identifier">tycon</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-115"></a><span>        </span><span class="hs-identifier hs-var">fromMaybe</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a><span> </span><span class="hs-string">&quot;getUnboxedSumName(getRep)&quot;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621682658880"><span class="hs-identifier hs-var">tycon</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-116"></a><span>        </span><span class="hs-operator hs-var">$</span><span> </span><a href="TyCon.html#tyConRepName_maybe"><span class="hs-identifier hs-var">tyConRepName_maybe</span></a><span> </span><a href="#local-6989586621682658880"><span class="hs-identifier hs-var">tycon</span></a><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span class="hs-comment">-- Note [Uniques for tuple type and data constructors]</span><span>
</span><a name="line-119"></a><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><a name="line-120"></a><span class="hs-comment">--</span><span>
</span><a name="line-121"></a><span class="hs-comment">-- Wired-in type constructor keys occupy *two* slots:</span><span>
</span><a name="line-122"></a><span class="hs-comment">--    * u: the TyCon itself</span><span>
</span><a name="line-123"></a><span class="hs-comment">--    * u+1: the TyConRepName of the TyCon</span><span>
</span><a name="line-124"></a><span class="hs-comment">--</span><span>
</span><a name="line-125"></a><span class="hs-comment">-- Wired-in tuple data constructor keys occupy *three* slots:</span><span>
</span><a name="line-126"></a><span class="hs-comment">--    * u: the DataCon itself</span><span>
</span><a name="line-127"></a><span class="hs-comment">--    * u+1: its worker Id</span><span>
</span><a name="line-128"></a><span class="hs-comment">--    * u+2: the TyConRepName of the promoted TyCon</span><span>
</span><a name="line-129"></a><span>
</span><a name="line-130"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-131"></a><span class="hs-comment">-- Constraint tuples</span><span>
</span><a name="line-132"></a><span>
</span><a name="line-133"></a><span class="hs-identifier">mkCTupleTyConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-134"></a><a name="mkCTupleTyConUnique"><a href="KnownUniques.html#mkCTupleTyConUnique"><span class="hs-identifier">mkCTupleTyConUnique</span></a></a><span> </span><a name="local-6989586621682658881"><a href="#local-6989586621682658881"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'k'</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658881"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-135"></a><span>
</span><a name="line-136"></a><span class="hs-identifier">mkCTupleDataConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-137"></a><a name="mkCTupleDataConUnique"><a href="KnownUniques.html#mkCTupleDataConUnique"><span class="hs-identifier">mkCTupleDataConUnique</span></a></a><span> </span><a name="local-6989586621682658882"><a href="#local-6989586621682658882"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'m'</span><span> </span><span class="hs-special">(</span><span class="hs-number">3</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658882"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-138"></a><span>
</span><a name="line-139"></a><span class="hs-identifier">getCTupleTyConName</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-140"></a><a name="getCTupleTyConName"><a href="KnownUniques.html#getCTupleTyConName"><span class="hs-identifier">getCTupleTyConName</span></a></a><span> </span><a name="local-6989586621682658883"><a href="#local-6989586621682658883"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-141"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658883"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">divMod</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-142"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658884"><a href="#local-6989586621682658884"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="TysWiredIn.html#cTupleTyConName"><span class="hs-identifier hs-var">cTupleTyConName</span></a><span> </span><a href="#local-6989586621682658884"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-143"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658885"><a href="#local-6989586621682658885"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="TyCon.html#mkPrelTyConRepName"><span class="hs-identifier hs-var">mkPrelTyConRepName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#cTupleTyConName"><span class="hs-identifier hs-var">cTupleTyConName</span></a><span> </span><a href="#local-6989586621682658885"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-144"></a><span>      </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getCTupleTyConName: impossible&quot;</span><span>
</span><a name="line-145"></a><span>
</span><a name="line-146"></a><span class="hs-identifier">getCTupleDataConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-147"></a><a name="getCTupleDataConUnique"><a href="KnownUniques.html#getCTupleDataConUnique"><span class="hs-identifier">getCTupleDataConUnique</span></a></a><span> </span><a name="local-6989586621682658886"><a href="#local-6989586621682658886"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-148"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658886"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">divMod</span><span class="hs-special">`</span><span> </span><span class="hs-number">3</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-149"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658887"><a href="#local-6989586621682658887"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span>  </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="TysWiredIn.html#cTupleDataConName"><span class="hs-identifier hs-var">cTupleDataConName</span></a><span> </span><a href="#local-6989586621682658887"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-150"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658888"><a href="#local-6989586621682658888"><span class="hs-identifier">_arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getCTupleDataConName: no worker&quot;</span><span>
</span><a name="line-151"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658889"><a href="#local-6989586621682658889"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span>  </span><span class="hs-number">2</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="TyCon.html#mkPrelTyConRepName"><span class="hs-identifier hs-var">mkPrelTyConRepName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#cTupleDataConName"><span class="hs-identifier hs-var">cTupleDataConName</span></a><span> </span><a href="#local-6989586621682658889"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-152"></a><span>      </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getCTupleDataConName: impossible&quot;</span><span>
</span><a name="line-153"></a><span>
</span><a name="line-154"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-155"></a><span class="hs-comment">-- Normal tuples</span><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-identifier">mkTupleDataConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-158"></a><a name="mkTupleDataConUnique"><a href="KnownUniques.html#mkTupleDataConUnique"><span class="hs-identifier">mkTupleDataConUnique</span></a></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>          </span><a name="local-6989586621682658890"><a href="#local-6989586621682658890"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'7'</span><span> </span><span class="hs-special">(</span><span class="hs-number">3</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658890"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- may be used in C labels</span><span>
</span><a name="line-159"></a><span class="hs-identifier">mkTupleDataConUnique</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span>        </span><a name="local-6989586621682658891"><a href="#local-6989586621682658891"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'8'</span><span> </span><span class="hs-special">(</span><span class="hs-number">3</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658891"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-160"></a><span>
</span><a name="line-161"></a><span class="hs-identifier">mkTupleTyConUnique</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-162"></a><a name="mkTupleTyConUnique"><a href="KnownUniques.html#mkTupleTyConUnique"><span class="hs-identifier">mkTupleTyConUnique</span></a></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>           </span><a name="local-6989586621682658892"><a href="#local-6989586621682658892"><span class="hs-identifier">a</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'4'</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658892"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-163"></a><span class="hs-identifier">mkTupleTyConUnique</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span>         </span><a name="local-6989586621682658893"><a href="#local-6989586621682658893"><span class="hs-identifier">a</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a><span> </span><span class="hs-char">'5'</span><span> </span><span class="hs-special">(</span><span class="hs-number">2</span><span class="hs-operator hs-var">*</span><a href="#local-6989586621682658893"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-164"></a><span>
</span><a name="line-165"></a><span class="hs-identifier">getTupleTyConName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-166"></a><a name="getTupleTyConName"><a href="KnownUniques.html#getTupleTyConName"><span class="hs-identifier">getTupleTyConName</span></a></a><span> </span><a name="local-6989586621682658894"><a href="#local-6989586621682658894"><span class="hs-identifier">boxity</span></a></a><span> </span><a name="local-6989586621682658895"><a href="#local-6989586621682658895"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-167"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658895"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">divMod</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-168"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658896"><a href="#local-6989586621682658896"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">tyConName</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a><span> </span><a href="#local-6989586621682658894"><span class="hs-identifier hs-var">boxity</span></a><span> </span><a href="#local-6989586621682658896"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-169"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658897"><a href="#local-6989586621682658897"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">fromMaybe</span><span> </span><span class="hs-special">(</span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getTupleTyConName&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-170"></a><span>                    </span><span class="hs-operator hs-var">$</span><span> </span><a href="TyCon.html#tyConRepName_maybe"><span class="hs-identifier hs-var">tyConRepName_maybe</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a><span> </span><a href="#local-6989586621682658894"><span class="hs-identifier hs-var">boxity</span></a><span> </span><a href="#local-6989586621682658897"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-171"></a><span>      </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getTupleTyConName: impossible&quot;</span><span>
</span><a name="line-172"></a><span>
</span><a name="line-173"></a><span class="hs-identifier">getTupleDataConName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-174"></a><a name="getTupleDataConName"><a href="KnownUniques.html#getTupleDataConName"><span class="hs-identifier">getTupleDataConName</span></a></a><span> </span><a name="local-6989586621682658898"><a href="#local-6989586621682658898"><span class="hs-identifier">boxity</span></a></a><span> </span><a name="local-6989586621682658899"><a href="#local-6989586621682658899"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-175"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621682658899"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">divMod</span><span class="hs-special">`</span><span> </span><span class="hs-number">3</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-176"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658900"><a href="#local-6989586621682658900"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a><span> </span><a href="#local-6989586621682658898"><span class="hs-identifier hs-var">boxity</span></a><span> </span><a href="#local-6989586621682658900"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-177"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658901"><a href="#local-6989586621682658901"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Id.html#idName"><span class="hs-identifier hs-var">idName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="DataCon.html#dataConWorkId"><span class="hs-identifier hs-var">dataConWorkId</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a><span> </span><a href="#local-6989586621682658898"><span class="hs-identifier hs-var">boxity</span></a><span> </span><a href="#local-6989586621682658901"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-178"></a><span>      </span><span class="hs-special">(</span><a name="local-6989586621682658902"><a href="#local-6989586621682658902"><span class="hs-identifier">arity</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">fromMaybe</span><span> </span><span class="hs-special">(</span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getTupleDataCon&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-179"></a><span>                    </span><span class="hs-operator hs-var">$</span><span> </span><a href="TyCon.html#tyConRepName_maybe"><span class="hs-identifier hs-var">tyConRepName_maybe</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="TysWiredIn.html#promotedTupleDataCon"><span class="hs-identifier hs-var">promotedTupleDataCon</span></a><span> </span><a href="#local-6989586621682658898"><span class="hs-identifier hs-var">boxity</span></a><span> </span><a href="#local-6989586621682658902"><span class="hs-identifier hs-var">arity</span></a><span>
</span><a name="line-180"></a><span>      </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;getTupleDataConName: impossible&quot;</span><span>
</span><a name="line-181"></a></pre></body></html>