<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.InterpolatedString.Perl6</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text.InterpolatedString.Perl6.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">interpolatedstring-perl6-1.0.2: QuasiQuoter for Perl6-style multi-line interpolated strings</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.InterpolatedString.Perl6</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>QuasiQuoter for interpolated strings using Perl 6 syntax.</p><p>The <code><a href="Text-InterpolatedString-Perl6.html#v:q" title="Text.InterpolatedString.Perl6">q</a></code> form does one thing and does it well: It contains a multi-line string with
 no interpolation at all:</p><pre>{-# LANGUAGE QuasiQuotes, ExtendedDefaultRules #-}
import Text.InterpolatedString.Perl6 (q)
foo :: String -- <code><a href="../text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a></code>, <code><a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> etc also works
foo = [q|

Well here is a
    multi-line string!

|]
</pre><p>Any instance of the <code><a href="../base-4.12.0.0/Data-String.html#t:IsString" title="Data.String">IsString</a></code> class is permitted.</p><p>The <code><a href="Text-InterpolatedString-Perl6.html#v:qc" title="Text.InterpolatedString.Perl6">qc</a></code> form interpolates curly braces: expressions inside {} will be
 directly interpolated if it's a <code><a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a></code>, <code><a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></code>, <code><a href="../text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a></code> or <code><a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>, or 
 it will have <code><a href="../base-4.12.0.0/Text-Show.html#v:show" title="Text.Show">show</a></code> called if it is not.</p><p>Escaping of '{' is done with backslash. </p><p>For interpolating numeric expressions without an explicit type signature,
 use the ExtendedDefaultRules lanuage pragma, as shown below:</p><pre>{-# LANGUAGE QuasiQuotes, ExtendedDefaultRules #-}
import Text.InterpolatedString.Perl6 (qc)
bar :: String
bar = [qc| Well {&quot;hello&quot; ++ &quot; there&quot;} {6 * 7} |]
</pre><p>bar will have the value &quot; Well hello there 42 &quot;.</p><p>If you want control over how <code><a href="../base-4.12.0.0/Text-Show.html#v:show" title="Text.Show">show</a></code> works on your types, define a custom
 <code><a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a></code> instance:</p><p>For example, this instance allows you to display interpolated lists of strings as 
 a sequence of words, removing those pesky brackets, quotes, and escape sequences.</p><pre>{-# LANGUAGE FlexibleInstances #-}
import Text.InterpolatedString.Perl6 (qc, ShowQ(..))
instance ShowQ [String] where
    showQ = unwords
</pre><p>The <code><a href="Text-InterpolatedString-Perl6.html#v:qq" title="Text.InterpolatedString.Perl6">qq</a></code> form adds to the <code><a href="Text-InterpolatedString-Perl6.html#v:qc" title="Text.InterpolatedString.Perl6">qc</a></code> form with a simple shorthand: '$foo' means '{foo}',
 namely interpolating a single variable into the string.</p><pre>{-# LANGUAGE QuasiQuotes, ExtendedDefaultRules #-}
import Text.InterpolatedString.Perl6 (qq)
baz :: String
baz = [qq| Hello, $who |]
    where
    who = &quot;World&quot;
</pre><p>Both <code><a href="Text-InterpolatedString-Perl6.html#v:qc" title="Text.InterpolatedString.Perl6">qc</a></code> and <code><a href="Text-InterpolatedString-Perl6.html#v:qq" title="Text.InterpolatedString.Perl6">qq</a></code> permit output to any types with both <code><a href="../base-4.12.0.0/Data-String.html#t:IsString" title="Data.String">IsString</a></code> and <code><a href="../base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> 
 instances.</p><pre>{-<a id=" LANGUAGE QuasiQuotes, OverloadedStrings "></a>-}
import Text.InterpolatedString.Perl6 (qc)
import Data.Text (Text)
import Data.ByteString.Char8 (ByteString)
qux :: ByteString
qux = [qc| This will convert {&quot;Text&quot; :: Text} to {&quot;ByteString&quot; :: ByteString} |]
</pre><p>The ability to define custom <code><a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a></code> instances is particularly powerful with
 cascading instances using <code><a href="Text-InterpolatedString-Perl6.html#v:qq" title="Text.InterpolatedString.Perl6">qq</a></code>.</p><p>Below is a sample snippet from a script that converts Shape objects into
 AppleScript suitable for drawing in OmniGraffle:</p><pre>{-# LANGUAGE QuasiQuotes, ExtendedDefaultRules, NamedFieldPuns, RecordWildCards #-}
import Text.InterpolatedString.Perl6
</pre><pre>data Shape = Shape
    { originX         :: Int
    , originY         :: Int
    , width           :: Int
    , height          :: Int
    , stroke          :: Stroke
    , text            :: Text
    }
instance ShowQ Shape where
    showQ Shape{..} = [qq|
        make new shape at end of graphics with properties
            \{ $text, $stroke, _size, $_origin }
    |]
        where         
        _size   = [qq|size: {$width, $height}|]
        _origin = [qq|origin: {$originX, $originY}|]
</pre><pre>data Stroke = StrokeWhite | StrokeNone
instance ShowQ Stroke where
    showQ StrokeNone = &quot;draws stroke:false&quot;
    showQ StrokeWhite = &quot;stroke color: {1, 1, 1}&quot;
</pre><pre>data Text   = Text
    { txt   :: String
    , color :: Color
    }
instance ShowQ Text where
    showQ Text{..} = [qq|text: \{ text: &quot;$txt&quot;, $color, alignment: center } |]
</pre><pre>data Color = Color { red :: Float, green :: Float, blue :: Float }
instance ShowQ Color where
    showQ Color{..} = [qq|color: {$red, $green, $blue}|]
</pre><pre>main :: IO ()
main = putStrLn [qq|
    tell application &quot;OmniGraffle Professional 5&quot;
        tell canvas of front window
            { makeShape ... }
        end tell
    end tell
|]
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:qq">qq</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:qc">qc</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:q">q</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ShowQ">ShowQ</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:showQ">showQ</a> :: a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:qq" class="def">qq</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.InterpolatedString.Perl6.html#qq" class="link">Source</a> <a href="#v:qq" class="selflink">#</a></p><div class="doc"><p>QuasiQuoter for interpolating '$var' and '{expr}' into a string literal. The pattern portion is undefined.</p></div></div><div class="top"><p class="src"><a id="v:qc" class="def">qc</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.InterpolatedString.Perl6.html#qc" class="link">Source</a> <a href="#v:qc" class="selflink">#</a></p><div class="doc"><p>QuasiQuoter for interpolating '{expr}' into a string literal. The pattern portion is undefined.</p></div></div><div class="top"><p class="src"><a id="v:q" class="def">q</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.InterpolatedString.Perl6.html#q" class="link">Source</a> <a href="#v:q" class="selflink">#</a></p><div class="doc"><p>QuasiQuoter for a non-interpolating string literal. The pattern portion is undefined.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ShowQ" class="def">ShowQ</a> a <span class="keyword">where</span> <a href="src/Text.InterpolatedString.Perl6.html#ShowQ" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></p><div class="doc"><p>A class for types that use special interpolation rules.
 Instances of <code><a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a></code> that are also instances of <code><a href="../base-4.12.0.0/Data-String.html#t:IsString" title="Data.String">IsString</a></code> should obey the 
 following law: </p><pre>fromString (showQ s) == s
</pre><p>because this library relies on this fact to optimize 
 away needless string conversions.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:showQ" class="def">showQ</a> :: a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div><div class="subs instances"><details id="i:ShowQ" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:1"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-170" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> a</span> <a href="src/Text.InterpolatedString.Perl6.html#line-188" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:3"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-173" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:4"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-179" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:5"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-176" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:6"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../text-1.2.3.1/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-185" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../text-1.2.3.1/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowQ:ShowQ:7"></span> <a href="Text-InterpolatedString-Perl6.html#t:ShowQ" title="Text.InterpolatedString.Perl6">ShowQ</a> <a href="../text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a></span> <a href="src/Text.InterpolatedString.Perl6.html#line-182" class="link">Source</a> <a href="#t:ShowQ" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowQ:ShowQ:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Text-InterpolatedString-Perl6.html">Text.InterpolatedString.Perl6</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showQ">showQ</a> :: <a href="../text-1.2.3.1/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Text.InterpolatedString.Perl6.html#showQ" class="link">Source</a> <a href="#v:showQ" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>